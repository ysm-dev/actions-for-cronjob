<?xml version='1.0' encoding='UTF-8'?><?xml-stylesheet href="http://www.blogger.com/styles/atom.css" type="text/css"?><feed xmlns='http://www.w3.org/2005/Atom' xmlns:openSearch='http://a9.com/-/spec/opensearchrss/1.0/' xmlns:blogger='http://schemas.google.com/blogger/2008' xmlns:georss='http://www.georss.org/georss' xmlns:gd="http://schemas.google.com/g/2005" xmlns:thr='http://purl.org/syndication/thread/1.0'><id>tag:blogger.com,1999:blog-3196730103600443728</id><updated>2019-03-19T22:30:24.263+09:00</updated><category term="From Naver Blog"/><category term="C++"/><category term="Effective C++ Series"/><category term="Effective C++"/><category term="Effective Modern C++"/><category term="Book Review"/><category term="Windows"/><category term="System Programming"/><category term="Windows Programming"/><category term="Linux"/><category term="Trouble Shooting"/><category term="근황"/><category term="Optimization"/><category term="Software Design"/><category term="Windows Via C/C++"/><category term="산업기능요원"/><category term="Bash"/><category term="Bash Script"/><category term="Computer Architecture"/><category term="Concurrency"/><category term="Conditional Variable"/><category term="Cpu Architecture"/><category term="Deep Learning"/><category term="HPC"/><category term="Hacking"/><category term="Linux Programming"/><category term="Parallel"/><category term="Python"/><category term="Semaphore"/><category term="Smart Pointer"/><category term="Software Craftmanship"/><category term="Ubuntu"/><category term="Unit Test"/><category term="Visual Studio"/><category term="개발자"/><category term="공지"/><category term="병특"/><category term="여행"/><category term="일본여행"/><category term="2019년"/><category term="ASP"/><category term="Agile"/><category term="Android"/><category term="Android Framework"/><category term="Auto Program"/><category term="BeautifulSoup4"/><category term="C"/><category term="C++ API Design"/><category term="Cache"/><category term="Chrome Extension"/><category term="Cloud Service"/><category term="Compiler"/><category term="Constructor"/><category term="Container"/><category term="DNS"/><category term="Dash"/><category term="Data Alignment"/><category term="Destructor"/><category term="Development"/><category term="Distributed System"/><category term="Domain"/><category term="Embedded"/><category term="Epoll"/><category term="Factory Function"/><category term="Fork"/><category term="GSoC"/><category term="GSoC 2017"/><category term="Good Practice"/><category term="Google Summer Of Code"/><category term="Host Registration"/><category term="Hypervisor"/><category term="IaaS"/><category term="Intel"/><category term="Internet"/><category term="Interpreter"/><category term="JIT"/><category term="LLVM"/><category term="Lock"/><category term="Meltdown"/><category term="Message Queue"/><category term="Monitor"/><category term="Multi Core"/><category term="Mutex"/><category term="Name Server"/><category term="Network"/><category term="OOP"/><category term="Open Source"/><category term="OpenMP"/><category term="Operator Overloading"/><category term="Optimized C++"/><category term="PXE"/><category term="PaaS"/><category term="Pintos"/><category term="Private Key"/><category term="PyPy"/><category term="Pypi"/><category term="RAII"/><category term="RPython"/><category term="ReStructuredText"/><category term="Resource Management"/><category term="SaaS"/><category term="Security"/><category term="Software Craftman"/><category term="Sogang University"/><category term="Synchronization"/><category term="System Call"/><category term="TDD"/><category term="Testing"/><category term="VC++2015"/><category term="VM"/><category term="Virtual Machine"/><category term="Virtualization"/><category term="Windows Vista"/><category term="Windows XP"/><category term="XP"/><category term="ZeroMQ"/><category term="new"/><category term="std::make_shared"/><category term="std::shared_ptr"/><category term="vc140_xp"/><category term="개발"/><category term="개발다운개발"/><category term="개발문화"/><category term="개발프로세스"/><category term="고베"/><category term="교토"/><category term="구글블로거"/><category term="기초군사훈련"/><category term="네이버블로그"/><category term="논산훈련소"/><category term="리펙토링"/><category term="모락산"/><category term="문서화"/><category term="블로그"/><category term="삿포로"/><category term="새해"/><category term="소프트웨어품질"/><category term="오사카"/><category term="오타루"/><category term="오픈채팅방"/><category term="요구사항분석"/><category term="육군훈련소"/><category term="이스트시큐리티"/><category term="인사"/><category term="인턴"/><category term="일본"/><category term="직장인"/><category term="채용"/><category term="채용공고"/><category term="출퇴근"/><category term="카톡"/><category term="현역"/><category term="현역병특"/><title type='text'>Taeguk&#39;s Blog</title><subtitle type='html'>Makes the way!</subtitle><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='https://taeguk2.blogspot.com/feeds/posts/default'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default'/><link rel='alternate' type='text/html' href='https://taeguk2.blogspot.com/'/><link rel='hub' href='http://pubsubhubbub.appspot.com/'/><link rel='next' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default?start-index=26&amp;max-results=25'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><generator version='7.00' uri='http://www.blogger.com'>Blogger</generator><openSearch:totalResults>76</openSearch:totalResults><openSearch:startIndex>1</openSearch:startIndex><openSearch:itemsPerPage>25</openSearch:itemsPerPage><entry><id>tag:blogger.com,1999:blog-3196730103600443728.post-7046694959030756945</id><published>2019-03-11T23:21:00.002+09:00</published><updated>2019-03-11T23:25:11.213+09:00</updated><title type='text'>HPX parallel partition 알고리즘</title><content type='html'>&lt;link href=&quot;https://stackedit.io/style.css&quot; rel=&quot;stylesheet&quot;&gt;&lt;/link&gt; &lt;div class=&quot;stackedit&quot;&gt;안녕하세요. 오늘은 제가 예전에 &lt;a href=&quot;https://github.com/STEllAR-GROUP/hpx&quot;&gt;HPX&lt;/a&gt; 라는 오픈소스에 구현했던 parallel partition 알고리즘에 대해 간단히 소개하고 설명하는 시간을 가져보도록 하겠습니다.&lt;br /&gt;&lt;h2 id=&quot;출처&quot;&gt;출처&lt;/h2&gt;먼저 이 포스팅에서 다루는 알고리즘/코드의 출처는 다음과 같습니다.&lt;br /&gt;&lt;ul&gt;&lt;li&gt;HPX : &lt;a href=&quot;https://github.com/STEllAR-GROUP/hpx&quot;&gt;https://github.com/STEllAR-GROUP/hpx&lt;/a&gt;&lt;/li&gt;&lt;li&gt;관련 MR : &lt;a href=&quot;https://github.com/STEllAR-GROUP/hpx/pull/2778&quot;&gt;https://github.com/STEllAR-GROUP/hpx/pull/2778&lt;/a&gt;&lt;/li&gt;&lt;li&gt;소스코드 : &lt;a href=&quot;https://github.com/STEllAR-GROUP/hpx/blob/master/hpx/parallel/algorithms/partition.hpp&quot;&gt;https://github.com/STEllAR-GROUP/hpx/blob/master/hpx/parallel/algorithms/partition.hpp&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;소개&quot;&gt;소개&lt;/h2&gt;parallel partition 알고리즘은 여러 개의 연산 유닛 (쉽게 말하면 cpu) 들을 이용해서 partition 알고리즘을 수행하는 것을 말합니다.&lt;br /&gt;이 포스팅에서는 독자가 partition 알고리즘에 대해서 이미 알고있다고 가정합니다. partition 알고리즘에 대한 설명은 &lt;a href=&quot;https://en.cppreference.com/w/cpp/algorithm/partition&quot;&gt;cppreference&lt;/a&gt; 를 참고하시기 바랍니다.&lt;br /&gt;&lt;h2 id=&quot;알고리즘-설명&quot;&gt;알고리즘 설명&lt;/h2&gt;partition 알고리즘은 주어진 영역을 정해진 규칙을 만족하는지 아닌지에 따라 두 영역으로 분류하는 알고리즘입니다.&lt;br /&gt;예를 들어, 짝수인지 여부에 대해 partition 알고리즘을 수행한다고 하면 결과는 다음과 같습니다.&lt;br /&gt;적용 전 : &lt;code&gt;3 5 7 4 2 1 9 8 6&lt;/code&gt;&lt;br /&gt;적용 후 : &lt;code&gt;6 8 2 4 * 7 1 9 5 3&lt;/code&gt;&lt;br /&gt;즉, partition 알고리즘의 핵심은 다음과 같습니다.&lt;br /&gt;&lt;ul&gt;&lt;li&gt;두 영역을 구분할 수 있는 boundary 를 찾는다.&lt;/li&gt;&lt;li&gt;그 boundary 의 왼쪽에는 조건을 만족하는 원소들이, 오른쪽에는 조건을 만족하지 않는 원소들이 위치하게 된다.&lt;/li&gt;&lt;/ul&gt;자, 위의 핵심을 기억하면서 parallel partition 알고리즘을 살펴보도록 합시다.&lt;br /&gt;결론적으로 parallel partition 알고리즘은 크게 4단계로 이루어집니다.&lt;br /&gt;&lt;ol&gt;&lt;li&gt;주어진 영역을 여러 개의 block 으로 쪼개서 병렬로 sub-partitioning 을 수행한다.&lt;/li&gt;&lt;li&gt;남은 block 들에 대해서 순차적으로 sub-partitioning 을 수행한다.&lt;/li&gt;&lt;li&gt;남은 block 들을 boundary 근처로 모아서 하나로 합친다.&lt;/li&gt;&lt;li&gt;boundary 근처로 합쳐진 하나의 block 에 대해서 순차 partition 알고리즘을 적용한다.&lt;/li&gt;&lt;/ol&gt;1단계를 제외한 2~4 단계는 모두 순차적으로 수행됩니다.&lt;br /&gt;그러면 1단계부터 살펴보도록 하겠습니다.&lt;br /&gt;&lt;h3 id=&quot;단계.-병렬-sub-partitioning&quot;&gt;1단계. 병렬 sub-partitioning&lt;/h3&gt;처음에 들었던 예시를 다시 한번 봐봅시다.&lt;br /&gt;적용 전 : &lt;code&gt;3 5 7 4 2 1 9 8 6&lt;/code&gt;&lt;br /&gt;적용 후 : &lt;code&gt;6 8 2 4 * 7 1 9 5 3&lt;/code&gt;&lt;br /&gt;위 예시에서도 볼 수 있듯이 partition 알고리즘은 &lt;strong&gt;unstable&lt;/strong&gt; 한 특성이 있습니다. (stable partition 알고리즘도 물론 별도로 존재합니다.)&lt;br /&gt;즉, 기존 원소들간의 순서를 지킬 필요없이 영역만 나누면 장땡입니다. 따라서 병렬 알고리즘을 구현하는게 매우 수월해지는데요. 주어진 영역을 여러 개의 block 으로 나눈뒤에  두 개의 block 끼리 짝을 지어서 partition 알고리즘을 수행하는 방식을 사용하려고 합니다. 일단, 순차적으로 이러한 알고리즘을 수행하는 것을 살펴보겠습니다.&lt;br /&gt;&lt;code&gt;3 5 7 4 2 1 9 8 6&lt;/code&gt;&lt;br /&gt;위와 같이 원소들이 주어져있을 때, 3개의 원소씩 block 을 구성하여 partitioning 을 수행해보겠습니다.&lt;br /&gt;&lt;code&gt;^ 3 5 7 | 4 2 1 | ^ 9 8 6&lt;/code&gt;&lt;br /&gt;맨 왼쪽과 맨 오른쪽에서 block 을 한 개씩 구성하면 위와 같습니다.&lt;br /&gt;&lt;code&gt;8 6 ^ 7 | ^ 4 2 1 | 9 3 5&lt;/code&gt;&lt;br /&gt;자 이제 두 block 에 대해서 partition 알고리즘을 수행하면 위와 같이 변하게 되는데요.&lt;br /&gt;맨 오른쪽 block 은 홀수만 존재하게 되었지만, 맨 왼쪽 block 은 여전히 ‘7’ 하나가 홀수인채로 남아있습니다. 맨 왼쪽 block 에 대해서도 partition 이 완전히 수행되려면 다시 오른쪽에서 block 을 하나 뽑아서 partition 을 마저 수행해야합니다.&lt;br /&gt;그렇게 partition 을 마저 수행하고 나면 다음과 같이 변합니다.&lt;br /&gt;&lt;code&gt;8 6 4 | 7 ^ 2 1 | 9 3 5&lt;/code&gt;&lt;br /&gt;자 여전히 &lt;code&gt;2 1&lt;/code&gt; 이 partitioning 되지 못하고 남게 되었는데요. 이렇게 이러한 작업을 반복해서 수행하다 보면 하나의 block 이 남을 수가 있습니다. 이렇게 남은 block 을 앞으로 &lt;strong&gt;remaining block&lt;/strong&gt; 이라고 부르겠습니다.&lt;br /&gt;지금까지 간단하게 설명드린 알고리즘을 병렬로도 돌릴 수가 있습니다.&lt;br /&gt;여러 개의 코어가 계속 왼쪽/오른쪽에서 block 을 뽑아가면서 partitioning 을 수행하면 됩니다.&lt;br /&gt;HPX 에서의 코드를 살펴보면 다음과 같습니다.&lt;br /&gt;&lt;pre class=&quot; language-cpp&quot;&gt;&lt;code class=&quot;prism  language-cpp&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// The function which performs sub-partitioning.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;template&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typename&lt;/span&gt; FwdIter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typename&lt;/span&gt; Pred&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typename&lt;/span&gt; Proj&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; block&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;FwdIter&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;partition_thread&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;block_manager&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;FwdIter&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; block_manager&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    Pred pred&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Proj proj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;using&lt;/span&gt; hpx&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;util&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;invoke&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    block&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;FwdIter&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; left_block&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; right_block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    left_block &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; block_manager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get_left_block&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    right_block &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; block_manager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get_right_block&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;left_block&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left_block &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; block_manager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get_left_block&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token function&quot;&gt;invoke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pred&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;invoke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;left_block&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;left_block&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;right_block&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;right_block &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; block_manager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get_right_block&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;invoke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pred&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;invoke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;right_block&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;right_block&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left_block&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; right_block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;right_block&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; left_block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;        std&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;iter_swap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left_block&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; right_block&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;그렇게 1단계를 완료하고 나면, 다음과 같은 상태가 됩니다. (주황색은 remaining block 을 의미합니다.)&lt;br /&gt;여기서 boundary 라는게 있는데 이게 매우 중요합니다. 왼쪽에서 뽑힌 block 을 “왼쪽 block”, 오른쪽에서 뽑힌 block 을 “오른쪽 block” 이라고 할 때, “왼쪽 block” 들과 “오른쪽 block” 들 사이의 경계가 생기게 됩니다. 이 경계를 &lt;strong&gt;boundary&lt;/strong&gt; 라고 부르도록 하겠습니다. 여기서 주목해야할 특징은, boundary 왼쪽의 파란색 영역은 모두 주어진 조건을 만족하도록 partitioning 되어있고, 오른쪽의 파란색 영역은 모두 주어진 조건을 만족하지 않도록 partitioning 되어있다는 것입니다.&lt;br /&gt;즉, 주황색영역 (remaining block) 을 제외하면 boundary 를 기준으로 partitioning 되어있는 상태가 됩니다. 결국 문제가 되는건 주황색 영역인데 이 영역들을 2~4 단계에서 partitioning 하게 됩니다.&lt;br /&gt;&lt;img alt=&quot;&quot; src=&quot;https://lh3.googleusercontent.com/O5M2EUKQrjHSfEjQwyNVELcK9-9sWGPwaRzyVujh2LTYBnNUAl7Cxs7Hyh1g98mAJIaMbsmzxgtJ&quot; /&gt;&lt;br /&gt;&lt;h3 id=&quot;단계.-remaining-block-들에-대한-순차-sub-partitioning&quot;&gt;2단계. remaining block 들에 대한 순차 sub-partitioning&lt;/h3&gt;1단계에서, 만약 N개의 코어로 병렬작업을 수행한다면 최대 N개의 remaining block 이 생길 수 있습니다. 이렇게 생긴 N개의 remaining block 들에 대해서 똑같이 sub partitioning 을 수행할 수 있는데 이게 바로 2단계입니다. 단, 2단계에서는 순차적으로 sub-partitioning 을 수행하는데요. boundary 왼쪽과 오른쪽에서 각각 block 을 한 개씩 뽑아나가며 알고리즘을 수행합니다. 결국 최후에는 boundary 를 기준으로 한쪽에만 block 이 남게되는데요. 그림으로 보면 다음과 같은 상태가 됩니다.&lt;br /&gt;&lt;img alt=&quot;&quot; src=&quot;https://lh3.googleusercontent.com/AUnDCvhQ-f6KAOs6l4mE-piF6-omucyJndC0sb51Z-WedLKIen6vgDqSY_uxcN-I00DL06fGJX_k&quot; /&gt;&lt;br /&gt;코드는 &lt;a href=&quot;https://github.com/STEllAR-GROUP/hpx/blob/6c061adfe5190728a8c3b3c179badc04d4afa220/hpx/parallel/algorithms/partition.hpp#L607-L679&quot;&gt;&lt;code&gt;collapse_remaining_blocks()&lt;/code&gt; 함수&lt;/a&gt;를 참고하시길 바랍니다.&lt;br /&gt;&lt;h3 id=&quot;단계.-남은-block-들을-boundary-근처로-모은다.&quot;&gt;3단계. 남은 block 들을 boundary 근처로 모은다.&lt;/h3&gt;자, 이제 boundary 를 기준으로 한쪽에만 소수의 block 들이 partitioning 되지 않은 상태로 남아있습니다. partitioning 을 마저 완료하기 위해, 저 remaining block 들을 boundary 에 인접하도록 모아서 하나의 block 으로 합치고, 그것에 대해서 순차적인 일반 partition 알고리즘을 수행하려고 합니다.&lt;br /&gt;일단, remaining block 들을 boundary 에 인접하도록 하나의 block 으로 합치면 다음과 같은 상태가 됩니다.&lt;br /&gt;&lt;img alt=&quot;&quot; src=&quot;https://lh3.googleusercontent.com/cVmKj6Y2NcludhJxe2KDSsOs9m-1swDmAfyn3GOwh3s1iNtBNEjSFGK28yUKjEtmSKqAft2HSlQA&quot; /&gt;&lt;br /&gt;코드는 &lt;a href=&quot;https://github.com/STEllAR-GROUP/hpx/blob/6c061adfe5190728a8c3b3c179badc04d4afa220/hpx/parallel/algorithms/partition.hpp#L796-L830&quot;&gt;&lt;code&gt;merge_remaining_blocks()&lt;/code&gt; 함수&lt;/a&gt;를 참고하시길 바랍니다.&lt;br /&gt;&lt;h3 id=&quot;단계.-모아진-하나의-block-에-대해서-순차-partitioning-을-수행한다.&quot;&gt;4단계. 모아진 하나의 block 에 대해서 순차 partitioning 을 수행한다.&lt;/h3&gt;모아진 하나의 block 에 대해서 순차 partition 알고리즘을 적용하면 새로운 boundary 를 구할 수 있고, 이 boundary 가 마침내 주어진 영역을 주어진 조건에 따라 분리하는 최종 boundary 가 됩니다.&lt;br /&gt;&lt;img alt=&quot;&quot; src=&quot;https://lh3.googleusercontent.com/ccFZDKlaCMFB2_uo0u6-hNEuwB0XZA-HrSQTSkeT5iM8Hl8mbCMktMeQcV1XMntrnhyN7c46MSUI&quot; /&gt;&lt;br /&gt;&lt;h2 id=&quot;block-size&quot;&gt;block size&lt;/h2&gt;parallel partition 알고리즘의 성능을 최적화하기 위해서는 적절한 block size 를 사용하는 것이 중요합니다.&lt;br /&gt;만약 block size 가 너무 작다면, 1단계에서 block 을 자주 뽑아야 하므로 여기에서 overhead 가 많이 발생할 수 있습니다. (특히 block 을 뽑을 때 동기화 연산이 들어가므로 더더욱 그렇습니다.) 또한, block 을 자주 뽑게되면 cache miss 의 비율이 늘어나 성능상으로 악영향을 주게 됩니다.&lt;br /&gt;그렇다고 block size 가 너무 크면, remaining block 의 사이즈가 커지게 되고 이에 따라 순차적으로 수행해야하는 알고리즘들이 오래걸리게 됩니다.&lt;br /&gt;제가 HPX 에 parallel partition 을 구현할 때는 block size 를 바꿔가면서 성능테스트를 수행해보고 다른 논문의 실험결과도 참고하여 default block size 로서 20000 을 채택하게 되었습니다.&lt;br /&gt;&lt;h2 id=&quot;벤치마크&quot;&gt;벤치마크&lt;/h2&gt;제가 parallel partition 을 구현하고나서 수행했던 벤치마크 결과입니다.&lt;br /&gt;16 코어 (8 physical core) 환경에서 테스트했을 때, sequential version 에 비해 약 12배정도 빠른 것을 확인할 수 있었습니다.&lt;br /&gt;&lt;img alt=&quot;&quot; src=&quot;https://lh3.googleusercontent.com/VuPbRbqhnqZF14FJMhnI7pl8Wxx0CcPfMKnvF2_SGJYcLUm2vVb2Zxpu5yVFN6qzmrdYqXlfUtAA&quot; /&gt;&lt;br /&gt;&lt;h2 id=&quot;마무리&quot;&gt;마무리&lt;/h2&gt;이번 포스팅을 하기위해 오랜만에 옛날 코드를 뒤적거렸는데요. HPX 오픈소스를 한창 하던때가 17년 여름인데 벌써 2년이 다되간다는게, 참 시간이 빠르네요. 그리고, 옛날 코드를 다시 보니 맘에 안드는 점들도 많이 보이고…ㅠㅠ&lt;br /&gt;아무튼, 코너 케이스 처리와 iterator category 마다의 다른 구현을 확인하고 싶으신 분은 &lt;a href=&quot;https://github.com/STEllAR-GROUP/hpx/blob/master/hpx/parallel/algorithms/partition.hpp&quot;&gt;여기&lt;/a&gt;에서 전체 코드를 참고하시면 될 것 같습니다.&lt;br /&gt;포스팅에 정성을 많이 못 쏟은거 같은데, 여기까지 읽어주셔서 감사합니다~&lt;br /&gt;다음에 만나요~~&lt;/div&gt;&lt;hr /&gt;&lt;b&gt;&lt;span style=&quot;font-size: large;&quot;&gt;이 포스팅은 &lt;a href=&quot;https://infossm.github.io/blog/2019/03/10/hpx-parallel-partition/&quot;&gt;삼성 소프트웨어 멤버십 기술 블로그에 동시에 포스팅&lt;/a&gt;됩니다.&lt;/span&gt;&lt;/b&gt;</content><link rel='replies' type='application/atom+xml' href='https://taeguk2.blogspot.com/feeds/7046694959030756945/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://taeguk2.blogspot.com/2019/03/hpx-parallel-partition.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/7046694959030756945'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/7046694959030756945'/><link rel='alternate' type='text/html' href='https://taeguk2.blogspot.com/2019/03/hpx-parallel-partition.html' title='HPX parallel partition 알고리즘'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3196730103600443728.post-5358137638365974876</id><published>2019-02-11T19:32:00.001+09:00</published><updated>2019-02-11T19:56:59.611+09:00</updated><title type='text'>Rust Procedural Macros By Example</title><content type='html'>&lt;link href=&quot;https://stackedit.io/style.css&quot; rel=&quot;stylesheet&quot;&gt;&lt;/link&gt;&lt;div class=&quot;stackedit&quot;&gt;안녕하세요. 제가 최근에 Rust 공부를 시작했는데요~&lt;br /&gt;그래서 오늘은 Rust 1.29.0 부터 stable 이 된 Procedural Macros 에 대해서 포스팅해보도록 하겠습니다.&lt;br /&gt;포스팅은 구구절절한 설명보다는 예제 코드 위주가 될 예정입니다!&lt;br /&gt;&lt;h2 id=&quot;rust-의-매크로-시스템&quot;&gt;Rust 의 매크로 시스템&lt;/h2&gt;Rust 의 매크로 시스템은 매우 강력한데요. 크게 다음과 같이 분류 할 수 있습니다.&lt;br /&gt;&lt;ol&gt;&lt;li&gt;Declarative Macros&lt;/li&gt;&lt;li&gt;Procedural Macros &lt;ul&gt;&lt;li&gt;Function-like macros&lt;/li&gt;&lt;li&gt;Derive mode macros&lt;/li&gt;&lt;li&gt;Attribute macros&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;첫 번째는 Declarative Macros 는 일반적으로 개발자들이 흔히 알고 있는 “선언적” 형태의 매크로 방식인데요. C/C++ 등의 타언어들과의 차이점은 문자열 전처리기 방식이 아니라 Abstract Syntax Tree 를 직접 건드리는 방식이라는 점입니다.&lt;br /&gt;&lt;pre class=&quot; language-rust&quot;&gt;&lt;code class=&quot;prism  language-rust&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 출처 : https://doc.rust-lang.org/rust-by-example/macros/dsl.html&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token macro-rules function&quot;&gt;macro_rules!&lt;/span&gt; calculate &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;eval $e&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;expr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; val&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; usize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $e&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Force types to be integers&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token function&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;{} = {}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token macro-rules function&quot;&gt;stringify!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;$e&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token macro-rules function&quot;&gt;calculate!&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        eval &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// hehehe `eval` is _not_ a Rust keyword!&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token macro-rules function&quot;&gt;calculate!&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token function&quot;&gt;eval&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;Declarative Macros 는 이번 포스팅의 주제가 아니므로, 더 이상 언급하진 않겠습니다.&lt;br /&gt;두 번째는 이번 포스팅의 주제인 Procedural Macros 인데요. &lt;strong&gt;함수의 실행&lt;/strong&gt; 으로서 매크로를 정의하는 방식입니다.&lt;br /&gt;일단 큰 틀에서 쉽게 얘기하자면 아래와 같습니다.&lt;br /&gt;&lt;pre class=&quot; language-text&quot;&gt;&lt;code class=&quot;prism  language-text&quot;&gt;원래의 AST --input--&amp;gt; &quot;함수&quot; --output--&amp;gt; 수정된 AST&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;“함수” 는 인풋으로 원래 소스코드의 AST(Abstract Syntax Tree) 를 받고요. 함수 내부에서  AST 를 수정해서 아웃풋으로 반환합니다. 그러면 이제 실제로 컴파일되는건 수정된 AST 가 되는 것이죠.&lt;br /&gt;여기서 주목해야할 점은 저 “함수” 는 그냥 일반적인 Rust 코드로 작성된다는 점입니다. 즉, 일반적인 Rust 코드로서 Procedural Macro 를 정의할 수 있고, 이 &quot;함수&quot;는 &lt;strong&gt;컴파일 시점에 실행&lt;/strong&gt;되게 됩니다. (일종의 컴파일러 플러그인같은 느낌입니다.) 실제 코드로 확인하자면 아래와 같은 식으로 Procedural Macro 를 정의하게 됩니다.&lt;br /&gt;&lt;pre class=&quot; language-rust&quot;&gt;&lt;code class=&quot;prism  language-rust&quot;&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[proc_macro]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;some_macro&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; TokenStream&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; TokenStream&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt; &lt;span class=&quot;token comment&quot;&gt;// Do something&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;실제 코드상에서는 AST 자료구조가 아닌 Token Stream 이 input, output 으로 사용되는데요. AST 자료구조보다는 Token Stream 을 사용하는게 인터페이스상으로 더 안정적이기 때문이라고 합니다. (아무래도 AST 자료구조 인터페이스는 변경될 가능성이 더 클테니까요.) 기초 컴파일러 이론을 잘 모르신다면 Token 이라는 개념을 모르실 수도 있는데요. &lt;a href=&quot;https://en.wikipedia.org/wiki/Lexical_analysis&quot;&gt;위키&lt;/a&gt;의 “Token” 부분을 읽어보시면 이해가 되실 겁니다.&lt;br /&gt;&lt;h2 id=&quot;cargo.toml-및-예제-환경&quot;&gt;Cargo.toml 및 예제 환경&lt;/h2&gt;Procedural Macros 를 정의하기 위해서는 Cargo.toml 에 반드시 다음과 같이 명시해줘야만 합니다.&lt;br /&gt;&lt;pre class=&quot; language-toml&quot;&gt;&lt;code class=&quot;prism  language-toml&quot;&gt;[lib]&lt;br /&gt;proc-macro = true&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;그리고 이 포스팅의 예제에서 사용된 crate dependency 는 다음과 같습니다.&lt;br /&gt;&lt;pre class=&quot; language-toml&quot;&gt;&lt;code class=&quot;prism  language-toml&quot;&gt;[dependencies]&lt;br /&gt;proc-macro2 = &quot;0.4&quot;&lt;br /&gt;syn = { version = &quot;0.15&quot;, features = [&quot;full&quot;, &quot;extra-traits&quot;] }&lt;br /&gt;quote = &quot;0.6&quot;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;또한 사용한 툴체인은 &lt;code&gt;beta-x86_64-pc-windows-msvc - rustc 1.33.0-beta.6 (b203178b6 2019-02-05)&lt;/code&gt; 이고 에디션은 2018 입니다.&lt;br /&gt;&lt;h2 id=&quot;function-like-macros&quot;&gt;Function-like macros&lt;/h2&gt;이제부터 &lt;code&gt;Procedural Macros&lt;/code&gt; 의 세부 분류중 하나인 &lt;code&gt;Function-like macros&lt;/code&gt; 에 대해서 알아보겠습니다. 거두절미하고 간단한 예제를 통해 확인해봅시다.&lt;br /&gt;&lt;pre class=&quot; language-rust&quot;&gt;&lt;code class=&quot;prism  language-rust&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// library user&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; my_example&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;make_function&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;make_function!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// 생성된 함수를 호출합니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;generated_function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// proc-macro crate&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;crate&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenStream&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[proc_macro]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;make_function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; TokenStream&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; TokenStream &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;make_function() called in compile time!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// 함수의 정의를 담은 문자열을 파싱해서 TokenStream 으로 만들어 반환합니다.&lt;/span&gt;&lt;br /&gt;    &quot;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;generated_function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token function&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;\&quot;I&#39;m the generated function by procedural macro&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;\&quot;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&quot;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unwrap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;img alt=&quot;&quot; src=&quot;https://lh3.googleusercontent.com/ymwVxYiHG34pEcGtOTtv_YjOyLCOly0XBuDAgF8uND8NkX_gg4VSRB_vErd21vg-Zv3HoCcGCQRF&quot; /&gt;&lt;br /&gt;아주 간단한 예제입니다. 사진에서 보시다시피 &lt;code&gt;make_function()&lt;/code&gt; 함수는 컴파일타임에 실행됩니다.&lt;br /&gt;그러면 이제부터 이 간단한 예제를 계속 발전시켜나가 볼텐데요.&lt;br /&gt;먼저, 저 매크로에 &lt;strong&gt;생성되는 함수의 이름을 사용자가 설정할 수 있도록 하는 기능&lt;/strong&gt;을 추가해보겠습니다~&lt;br /&gt;&lt;pre class=&quot; language-rust&quot;&gt;&lt;code class=&quot;prism  language-rust&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// library user&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; my_example&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;make_function&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// fn generated_function() { --snip-- }&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;make_function!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// fn foobar() { --snip-- }&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;make_function!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;foobar&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;generated_function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;foobar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// proc-macro crate&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;crate&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenStream&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; quote&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;quote&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[proc_macro]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;make_function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arg&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; TokenStream&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; TokenStream &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// syn crate 를 활용해 매크로 인자를 파싱합니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// Identifier 로 파싱이 가능한 경우 인자를 함수명으로 사용하고,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// 불가능한 경우, &quot;generated_function&quot; 을 함수명으로 사용합니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; func_name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;match&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token function&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;func_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; func_name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token function&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;generated_function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Span&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call_site&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// quote! 를 활용하면 소스코드를 TokenStream 으로 변환할 수 있습니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; tokens &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token macro-rules function&quot;&gt;quote!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; #&lt;span class=&quot;token function&quot;&gt;func_name&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token function&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;I&#39;m the generated function by procedural macro.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    tokens&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;into&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;새로운게 등장했죠? 주석을 통해 기본적으로 설명을 드리긴 했는데요. &lt;a href=&quot;https://docs.rs/syn/0.15.26/syn/struct.Ident.html&quot;&gt;syn::Ident&lt;/a&gt; 는 Identifier 의 약자로서 키워드나 변수명을 나타내는 구조체입니다.&lt;br /&gt;&lt;pre class=&quot; language-rust&quot;&gt;&lt;code class=&quot;prism  language-rust&quot;&gt;syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;generated_function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Span&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call_site&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;를 보면, 첫 번째 인자로 Identifier 의 이름이 들어가고 두 번째 인자로 &lt;code&gt;proc_macro2::Span::call_site()&lt;/code&gt; 가 들어가는데, &lt;a href=&quot;https://docs.rs/proc-macro2/0.4.27/proc_macro2/struct.Span.html&quot;&gt;proc_macro2::Span&lt;/a&gt; 는 소스코드의 특정 영역을 의미하는 구조체입니다. 여기서 &lt;code&gt;call_site()&lt;/code&gt; 에 주목해야하는데 이 부분에 대한 설명은 &lt;a href=&quot;https://doc.rust-lang.org/beta/proc_macro/struct.Ident.html&quot;&gt;여기&lt;/a&gt;를 읽어보시면 됩니다. 읽다보면 &lt;strong&gt;&lt;code&gt;hygiene&lt;/code&gt;&lt;/strong&gt; 이라는 용어가 등장하는데요. 이 부분은 &lt;a href=&quot;https://rust-lang.github.io/rustc-guide/macro-expansion.html#hygiene&quot;&gt;요기&lt;/a&gt;를 읽어보시면 대략적인 개념을 잡으실 수 있으십니다. 아무튼 그래서 이 예제에서는 &lt;code&gt;make_function()&lt;/code&gt; 매크로가 생성한 함수를 매크로 외부에서 호출할 수 있어야하기 때문에 &lt;code&gt;call_site()&lt;/code&gt; 를 사용하였습니다.&lt;br /&gt;그 외에 부족한 설명은 &lt;a href=&quot;https://github.com/dtolnay/quote&quot;&gt;quote&lt;/a&gt;, &lt;a href=&quot;https://github.com/dtolnay/syn&quot;&gt;syn&lt;/a&gt; 을 참고하시면 될 것 같습니다~&lt;br /&gt;자, 그러면 다음으로 이제 &lt;strong&gt;생성되는 함수의 인자 타입을 사용자가 설정할 수 있도록 하는 기능&lt;/strong&gt;을 추가해보겠습니다.&lt;br /&gt;&lt;pre class=&quot; language-rust&quot;&gt;&lt;code class=&quot;prism  language-rust&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// library user&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; my_example&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;make_function&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;make_function!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;make_function!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;foo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; u32&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; f64&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;make_function!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bar&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; u32&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; f64&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//make_function!(todo, &amp;amp;str); // 지원 안됨.&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;generated_function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1.23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;String&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1.23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// proc-macro crate&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;crate&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; quote&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;quote&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; ParsedArguments &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    func_name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    arg_types&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Vec&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parse_arguments&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenStream&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; ParsedArguments &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;mut&lt;/span&gt; parsed_arg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ParsedArguments &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        func_name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;generated_function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Span&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call_site&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        arg_types&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vec!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;mut&lt;/span&gt; arg_vec &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vec!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; arg &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;into_iter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        arg_vec&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; arg_vec&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token comment&quot;&gt;// 첫 번째 인자는 함수명을 의미하는 identifier 이여야만 한다.&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; func_name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;arg_vec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenTree&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Ident&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;ref&lt;/span&gt; func_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; func_name&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clone&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            _ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;panic!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;The first token must be an identifier.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        parsed_arg&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;func_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; func_name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;        &lt;span class=&quot;token comment&quot;&gt;// 그 다음부터는 comma (,) 와 인자 타입을 의미하는 identifier 가 반복해서 와야한다.&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;mut&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; arg_vec&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token comment&quot;&gt;// comma 인지 체크&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token keyword&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;arg_vec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;                proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenTree&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Punct&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;ref&lt;/span&gt; punct&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; punct&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;as_char&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;,&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;                        &lt;span class=&quot;token function&quot;&gt;panic!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;The token {} must be a comma.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;                _ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;panic!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;The token {} must be a comma.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;gt;=&lt;/span&gt; arg_vec&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;            &lt;span class=&quot;token comment&quot;&gt;// Identifier 인지 체크&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; type_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;arg_vec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;                proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenTree&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Ident&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;ref&lt;/span&gt; type_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; type_name&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clone&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                _ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;panic!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;The token {} must be an identifier.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;            parsed_arg&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;arg_types&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;            i &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    parsed_arg&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[proc_macro]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;make_function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenStream&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenStream &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; args &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenStream&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; parsed_args &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parse_arguments&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; func_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parsed_args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;func_name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; arg_types &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parsed_args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;arg_types&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; tokens &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token macro-rules function&quot;&gt;quote!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; #&lt;span class=&quot;token function&quot;&gt;func_name&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #arg_types&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token function&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;I&#39;m the generated function by procedural macro.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    tokens&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;into&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;다소 길어지긴 했지만, 차근차근 보시면 이해하실 수 있을 것 같습니다. 이전 예제에 비해 달라진 점은 &lt;code&gt;proc_macro2&lt;/code&gt; crate 를 많이 활용했다는 점인데요. &lt;code&gt;proc_macro2&lt;/code&gt; 에 대한 설명은 &lt;a href=&quot;https://github.com/alexcrichton/proc-macro2&quot;&gt;Github Repo&lt;/a&gt; 을 참고하시면 될 것 같습니다. 그리고 &lt;code&gt;quote!&lt;/code&gt; 쪽에 &lt;code&gt;#(_: #arg_types),*&lt;/code&gt; 가 보이실텐데요. &lt;code&gt;quote!&lt;/code&gt; 가 제공하는 기능중 하나인 &lt;a href=&quot;https://github.com/dtolnay/quote#repetition&quot;&gt;Repetition&lt;/a&gt; 을 활용한 것입니다.&lt;br /&gt;그러면 이번에는 위의 &lt;code&gt;parse_arguments()&lt;/code&gt; 함수를 &lt;a href=&quot;https://docs.rs/syn/0.15.26/syn/parse/index.html&quot;&gt;syn::parse&lt;/a&gt; 를 활용해서 리펙토링 해보도록 하겠습니다.&lt;br /&gt;&lt;pre class=&quot; language-rust&quot;&gt;&lt;code class=&quot;prism  language-rust&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// library user&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; my_example&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;make_function&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;make_function!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;make_function!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;foo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; u32&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; f64&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;make_function!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bar&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; u32&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; f64&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;make_function!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; u32&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; f64&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// 컴파일 에러&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//make_function!(todo, &amp;amp;str); // 지원 안됨.&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;generated_function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1.23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;String&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1.23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// proc-macro crate&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;crate&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; quote&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;quote&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; ParsedArguments &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    func_name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    arg_types&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Vec&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;impl&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;parse&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Parse &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; ParsedArguments &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;parse&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;ParseStream&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Result&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Self&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;mut&lt;/span&gt; parsed_args &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ParsedArguments &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            func_name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;generated_function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Span&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call_site&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            arg_types&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vec!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;is_empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token comment&quot;&gt;// 첫 번째 인자는 함수명을 의미하는 identifier 이여야만 한다.&lt;/span&gt;&lt;br /&gt;            parsed_args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;func_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;match&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token function&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;func_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; func_name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token function&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Error&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;format!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token string&quot;&gt;&quot;The first token must be an identifier.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;            &lt;span class=&quot;token comment&quot;&gt;// 그 다음부터는 comma (,) 와 인자 타입을 의미하는 identifier 가 반복해서 와야한다.&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;mut&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;is_empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token comment&quot;&gt;// comma 인지 체크&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token keyword&quot;&gt;match&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parse&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;token&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Comma&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token function&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token function&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Error&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;format!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;                        &lt;span class=&quot;token string&quot;&gt;&quot;The token {} must be a comma.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;                i &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;                &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;is_empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;                &lt;span class=&quot;token comment&quot;&gt;// Identifier 인지 체크&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; type_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;match&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parse&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token function&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; type_name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                    &lt;span class=&quot;token function&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Error&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;format!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;                        &lt;span class=&quot;token string&quot;&gt;&quot;The token {} must be an identifier.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;                parsed_args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;arg_types&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;                i &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;        &lt;span class=&quot;token function&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parsed_args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[proc_macro]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;make_function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenStream&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenStream &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; parsed_args &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse_macro_input!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;input &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; ParsedArguments&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; func_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parsed_args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;func_name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; arg_types &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parsed_args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;arg_types&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; tokens &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token macro-rules function&quot;&gt;quote!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; #&lt;span class=&quot;token function&quot;&gt;func_name&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #arg_types&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token function&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;I&#39;m the generated function by procedural macro.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    tokens&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;into&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;code&gt;syn&lt;/code&gt; crate 의 &lt;a href=&quot;https://docs.rs/syn/0.15.26/syn/parse/trait.Parse.html&quot;&gt;syn::parse::Parse&lt;/a&gt;, &lt;a href=&quot;https://docs.rs/syn/0.15.26/syn/macro.parse_macro_input.html&quot;&gt;syn::parse_macro_input&lt;/a&gt; 를 활용해서 리펙토링하고 나니 코드가 더 깔끔해졌습니다. (컴파일에러 메시지를 customize 하기 위해서 코드가 약간 복잡해진 것을 감안해주세요 ㅎㅎ) 뿐만아니라, 컴파일에러시 다음 사진과 같이 구체적으로 어디가 잘못됐는지 사용자에게 알려줄 수 있게 되었습니다.&lt;br /&gt;&lt;img alt=&quot;&quot; src=&quot;https://lh3.googleusercontent.com/c4rK4ZTAAhV3GqFbTn6ina4C-vyJtzLvITKa-SoYaZU8bJhXIOvqab26S2Y-yVR4Ji_Lw8xp7nAG&quot; /&gt;&lt;br /&gt;자, 지금까지 차근차근 예제를 발전시켜나가면서 여러가지 내용들을 익혀봤는데요. 여기서 다룬 내용들은 &lt;code&gt;Function-like Macros&lt;/code&gt; 에만 해당되는 내용은 아니고, &lt;code&gt;Attribute Macros&lt;/code&gt; 와 &lt;code&gt;Derive mode macros&lt;/code&gt; 에도 모두 적용가능한 내용들입니다~ 그러면 이제 다른 종류의 매크로들에 대해서도 간단하게 살펴보도록 하겠습니다.&lt;br /&gt;&lt;h2 id=&quot;attribute-macros&quot;&gt;Attribute Macros&lt;/h2&gt;이 것 역시 거두절미하고 바로 간단한 예제부터 보겠습니다.&lt;br /&gt;&lt;pre class=&quot; language-rust&quot;&gt;&lt;code class=&quot;prism  language-rust&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// library user&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; my_example&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;foobar&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// attr: &quot;&quot;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// item: &quot;fn func_1() { }&quot;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[foobar]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;func_1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// attr: &quot;a , b , c , 1 , 2&quot;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// item: &quot;fn func_2() { }&quot;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[foobar(a, b, c, 1, 2)]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;func_2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// attr: &quot;x , y&quot;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// item: &quot;struct Struct;&quot;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[foobar(x, y)]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; Struct&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// proc-macro crate&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;crate&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenStream&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[proc_macro_attribute]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foobar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;attr&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; TokenStream&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; TokenStream&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; TokenStream &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;attr: \&quot;{}\&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; attr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;to_string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;item: \&quot;{}\&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;to_string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    item&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;code&gt;Attribute Macros&lt;/code&gt; 의 경우에는 파라미터로 2개의 TokenStream 이 들어오는데요. 각각이 무엇을 의미하는지는 위 예제를 보면 알 수 있습니다.&lt;br /&gt;그러면, 이번에는 실제로 쓸만한 걸 만들어 볼까요?? Python 에서의 function decorator 와 비슷한 것을 만들어보도록 하겠습니다.&lt;br /&gt;&lt;pre class=&quot; language-rust&quot;&gt;&lt;code class=&quot;prism  language-rust&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// library user&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; my_example&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;decorated&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[decorated(decorator)]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; u32&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; u32&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; u32 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;foo(\&quot;{}\&quot;, {}, {}) -&amp;gt; {}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; y&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; decorator&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;F&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; F&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; s&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; u32&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; u32&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; u32 &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; F&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; u32&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; u32&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; u32 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; ret &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;twice!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;decorator&amp;lt;F&amp;gt;(f, \&quot;{}\&quot;, {}, {}) -&amp;gt; {}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ret&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    ret&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// Output:&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;//     foo(&quot;twice!&quot;, 2, 4) -&amp;gt; 6&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;//     decorator&amp;lt;F&amp;gt;(f, &quot;hello&quot;, 1, 2) -&amp;gt; 6&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// proc-macro crate&#39;s code&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// https://github.com/Manishearth/rust-adorn 를 참고하여 작성하였습니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;crate&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; proc_macro&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TokenStream&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; quote&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;quote&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[proc_macro_attribute]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;decorated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;attr&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; TokenStream&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; TokenStream&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&amp;gt;&lt;/span&gt; TokenStream &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; decorator_name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;attr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unwrap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;mut&lt;/span&gt; original_func&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;ItemFn &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unwrap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// decorator 함수에 전달될 인자들의 이름이 저장되는 벡터&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;mut&lt;/span&gt; args_for_decorator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Vec&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;with_capacity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;original_func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;decl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;inputs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; renamed_func_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;_renamed_func&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Span&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call_site&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    args_for_decorator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;quote!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;#renamed_func_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// 원본 함수의 이름을 변경한다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; original_func_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  std&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;mem&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;mut&lt;/span&gt; original_func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ident&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; renamed_func_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// 새로 만들어질 함수의 인자들이 저장되는 벡터&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;mut&lt;/span&gt; new_args &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vec!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;mut&lt;/span&gt; arg_no &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// 원본 함수의 인자들을 순회한다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; org_arg &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; original_func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;decl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;inputs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;iter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; arg_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Ident&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;_arg_{}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; arg_no&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;as_str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;            proc_macro2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Span&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call_site&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;match&lt;/span&gt; org_arg &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token comment&quot;&gt;// See: https://docs.rs/syn/0.15.26/syn/enum.FnArg.html&lt;/span&gt;&lt;br /&gt;            syn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;FnArg&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Captured&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;ref&lt;/span&gt; cap&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;                &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; type_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;cap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ty&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;                new_args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;quote!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;#arg_name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #type_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;            _ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;panic!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Unexpected argument {:?}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; org_arg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;        args_for_decorator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;quote!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;#arg_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        arg_no &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; attrs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;original_func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;attrs&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; vis &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;original_func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;vis&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; constness &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;original_func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;constness&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; unsafety &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;original_func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;unsafety&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; abi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;original_func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;abi&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; generics &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;original_func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;decl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;generics&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; output &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;original_func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;decl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// 원본 함수의 이름을 가진 새로운 함수를 생성한다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// 새로운 함수는 기존 원본 함수와 똑같은 이름, 속성, constness 등을 가진다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// 원본 함수는 이름이 변경된 형태로 새로운 함수의 내부에 정의되게 된다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// 새로운 함수는 원본 함수를 첫 번째 인자로, 그리고 자신의 인자들을 그대로 나머지 인자로&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token comment&quot;&gt;// 해서 decorator 함수를 호출한다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; tokens &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;quote!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;        #&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;#attrs&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;br /&gt;        #vis #constness #unsafety #abi &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; #original_func_name #&lt;span class=&quot;token function&quot;&gt;generics&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;#new_args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; #output &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            #original_func&lt;br /&gt;            #&lt;span class=&quot;token function&quot;&gt;decorator_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;#args_for_decorator&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    tokens&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;into&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;어느정도 그럴듯한 python 스타일의 decorator 가 만들어졌습니다! (위 코드는 &lt;a href=&quot;https://github.com/Manishearth/rust-adorn&quot;&gt;adorn&lt;/a&gt; 의 코드를 참고하여 Rust 2018 에디션 기반으로 제가 새롭게 rewriting 하였습니다.)&lt;br /&gt;&lt;h2 id=&quot;derive-mode-macros&quot;&gt;Derive Mode Macros&lt;/h2&gt;위에 제가 작성한 &lt;code&gt;Function-like Macros&lt;/code&gt; 와 &lt;code&gt;Attribute Macros&lt;/code&gt; 의 예제들을 이해하셨다면 Derive Mode Macros 를 제가 굳히 설명드리는 건 불필요할 것 같습니다. 관심있으신 분들은 &lt;a href=&quot;https://doc.rust-lang.org/reference/procedural-macros.html#derive-mode-macros&quot;&gt;Rust 레퍼런스&lt;/a&gt;를 참고하여 직접 코드를 작성해보시면 될 것 같습니다!&lt;br /&gt;&lt;h2 id=&quot;마무리&quot;&gt;마무리&lt;/h2&gt;Rust 의 매크로 시스템은 정말 엄청 강력한 것 같습니다. 언어의 기능을 확장하고 meta programming 을 하는데 매우 수월한 것 같습니다. C++ 에서도 compile-time meta programming 은 매우 인기있는(?) 주제인데요. C++을 주로 했던 사람 입장에서 Rust 의 &lt;code&gt;Procedural Macros&lt;/code&gt; 는 그냥 일반 Rust 코드가 compile time 에 실행된다는 게 매우 충격적(?) 이고 부러웠습니다…ㅎㅎ&lt;br /&gt;아, 그리고 이번 포스팅을 하면서 제가 처음으로 20줄이상의 Rust 코드를 짜봤는데요… Rust 문법도 안 익숙한 상태에서 바로 매크로를 만들어보려니까 다소 힘들었었네요;; ㅎㅎ 아무튼 저의 러스트 hello world 코드라서 뭔가 이상한 부분이 있을 수도 있는데 양해부탁드립니다… (댓글로 잘못된 점을 지적해주시면 더더욱 감사하겠습니다!)&lt;br /&gt;앞으로 Rust 열심히 공부할께요…!&lt;br /&gt;&lt;h2 id=&quot;참고자료&quot;&gt;참고자료&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://doc.rust-lang.org/reference/procedural-macros.html&quot;&gt;https://doc.rust-lang.org/reference/procedural-macros.html&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://blog.rust-lang.org/2018/12/21/Procedural-Macros-in-Rust-2018.html&quot;&gt;https://blog.rust-lang.org/2018/12/21/Procedural-Macros-in-Rust-2018.html&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/rust-lang/rust/issues/54727&quot;&gt;https://github.com/rust-lang/rust/issues/54727&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://words.steveklabnik.com/an-overview-of-macros-in-rust&quot;&gt;https://words.steveklabnik.com/an-overview-of-macros-in-rust&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://tinkering.xyz/introduction-to-proc-macros/&quot;&gt;https://tinkering.xyz/introduction-to-proc-macros/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/Manishearth/rust-adorn&quot;&gt;https://github.com/Manishearth/rust-adorn&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/elichai/log-derive&quot;&gt;https://github.com/elichai/log-derive&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;hr /&gt;&lt;b&gt;&lt;span style=&quot;font-size: large;&quot;&gt;이 포스팅은 &lt;a href=&quot;https://infossm.github.io/blog/2019/02/10/rust-procedural-macros-by-example/&quot;&gt;삼성 소프트웨어 멤버십 기술 블로그에 동시에 포스팅&lt;/a&gt;됩니다.&lt;/span&gt;&lt;/b&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://taeguk2.blogspot.com/feeds/5358137638365974876/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://taeguk2.blogspot.com/2019/02/rust-procedural-macros-by-example.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/5358137638365974876'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/5358137638365974876'/><link rel='alternate' type='text/html' href='https://taeguk2.blogspot.com/2019/02/rust-procedural-macros-by-example.html' title='Rust Procedural Macros By Example'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3196730103600443728.post-7749233622739518672</id><published>2019-02-09T23:46:00.001+09:00</published><updated>2019-02-11T19:49:42.146+09:00</updated><title type='text'>C++ Boost 라이브러리를 Windows XP 에서 동작하도록 빌드하기</title><content type='html'>&lt;link href=&quot;https://stackedit.io/style.css&quot; rel=&quot;stylesheet&quot;&gt;&lt;/link&gt; &lt;div class=&quot;stackedit&quot;&gt;안녕하세요~ 반갑습니다!&lt;br /&gt;C++ 개발자 여러분~ boost 많이 쓰시죠?? 저도 boost 참 좋아합니다 ㅎㅎ&lt;br /&gt;이렇게 좋은 boost 를 Windows XP/2003 환경에서 사용할 때는 그냥 일반적인 방법으로는 사용이 불가능한데요. 그래서 오늘은 Windows XP 환경에서 동작하도록 boost 를 빌드하는 방법에 대해서 알아보도록 하겠습니다!&lt;br /&gt;&lt;strong&gt;참고로 제가 설명할 방법은 100% 완벽하게 검증된 방법은 아니며, 제가 조사/연구를 통해 알아낸 방법입니다. 따라서 문제가 있을 수도 있으므로 참고자료정도로만 사용해주시면 감사하겠습니다. 그리고 이 포스팅에서는 Visual C++ 2015 Update 3 를 사용한다고 가정하고 설명하겠습니다. 또한, 이 포스팅에서 말하는 Windows XP 는 정확히 말하면 XP Service Pack 3 를 뜻합니다.&lt;/strong&gt;&lt;br /&gt;&lt;h1 id=&quot;단계-사용하려는-라이브러리가-xp-를-지원하는-지-확인한다.&quot;&gt;1단계) 사용하려는 라이브러리가 XP 를 지원하는 지 확인한다.&lt;/h1&gt;일단 첫 번째 단계는 사용하려는 라이브러리가 Windows XP 를 지원하는 지 확인하는 과정입니다. 다행히도 Boost 의 대부분 라이브러리는 XP 환경에서 잘 돌아갈텐데, 경우에 따라서 XP에서는 기능이 제한되거나 오동작을 일으킬 수 도 있으니, 라이브러리가 XP 를 지원하는 지 여부를 검토할 필요성이 있습니다.&lt;br /&gt;근데 아쉽게도 라이브러리들이 XP 를 지원하는 지 여부가 명백하게 정리된 글같은 건 없어 보입니다 ㅜㅜ 그리고, 각 라이브러리의 레퍼런스를 봐도 잘 안나오는 경우가 많죠. 결국, 부스트 커뮤니티 혹은 스택오버플로우의 글들을 뒤지거나 직접 질문을 해서 도움을 얻어야 합니다. 그리고 직접 라이브러리 내부 소스코드를 까서 XP 지원 여부를 파악해야 할 수도 있습니다. 그리고, 무엇보다 실제로 라이브러리를 사용하는 프로그램을 XP에서 동작시켜서 잘 동작하는지 직접 확인하는 과정도 꼭 필요합니다.&lt;br /&gt;&lt;a href=&quot;https://groups.google.com/forum/#!topic/boost-developers-archive/BH-unGadG7E&quot;&gt;이 글&lt;/a&gt;은 2015년도에 부스트 커뮤니티에 올라왔던 Windows XP 지원 관련 설문인데 한번 읽어보셔도 좋을 것 같습니다.&lt;br /&gt;&lt;h2 id=&quot;xp-호환-여부를-파악할-때-신경쓸-점&quot;&gt;XP 호환 여부를 파악할 때 신경쓸 점&lt;/h2&gt;그러면 이제 부터 XP 지원 여부를 파악할 때 신경쓸 점들에 대해 알아보겠습니다.&lt;br /&gt;&lt;ol&gt;&lt;li&gt;XP 에서 지원하는 windows API 만을 사용해야만 합니다.&lt;/li&gt;&lt;li&gt;암시적 TLS 사용 금지 &lt;ul&gt;&lt;li&gt;XP 에서는 암시적 TLS에 관련된 known bug 가 있습니다. 따라서, 암시적 TLS 에 관련된 기능을 사용하면 안되고, &lt;code&gt;__declspec(thread)&lt;/code&gt;, C++11 &lt;code&gt;thread_local&lt;/code&gt; 또한 사용하면 안됩니다.&lt;/li&gt;&lt;li&gt;좀 더 자세한 내용을 알고 싶으신 분은 &lt;a href=&quot;http://www.nynaeve.net/?p=187&quot;&gt;이 글&lt;/a&gt;을 참고하시면 좋을 것 같습니다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;C++11 Magic Statics 에 의존하면 안됩니다. &lt;ul&gt;&lt;li&gt;VC++2015 의 Magic Statics 구현은 내부적으로 암시적 TLS 를 사용합니다. 따라서, Magic Statics 에 의존하는 코드가 존재해서는 안됩니다.&lt;/li&gt;&lt;li&gt;좀 더 자세한 내용을 알고 싶으신 분은 &lt;a href=&quot;http://www.jiniya.net/ng/2016/11/magic-statics/&quot;&gt;이 글&lt;/a&gt;을 읽어보시는 걸 추천드립니다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;std::shared_mutex&lt;/code&gt; 를 사용하면 안됩니다. &lt;ul&gt;&lt;li&gt;VC++2015 표준라이브러리의 &lt;code&gt;std::shared_mutex&lt;/code&gt; 구현은 &lt;code&gt;SRWLOCK&lt;/code&gt; 에 관련된 WinAPI 를 사용합니다. 근데, &lt;code&gt;SRWLOCK&lt;/code&gt; 관련 WinAPI 는 Vista 이상에서 추가되었습니다. 따라서, XP 에서는 &lt;code&gt;std::shared_mutex&lt;/code&gt; 가 동작할 수 가 없습니다. 관련된 내용은 &lt;a href=&quot;https://blogs.msdn.microsoft.com/vcblog/2016/01/22/vs-2015-update-2s-stl-is-c17-so-far-feature-complete/&quot;&gt;이 글&lt;/a&gt;을 참고하면 좋을 것 같습니다.&lt;/li&gt;&lt;li&gt;뒤쪽에서 다룰 내용인데, 라이브러리를 빌드할 때, &lt;code&gt;_USING_V110_SDK71_&lt;/code&gt; 매크로를 정의하게 됩니다.  이 매크로를 정의하면 C++ 표준라이브러리에서 &lt;code&gt;std::shared_mutex&lt;/code&gt; 가 애초에 정의되지 않습니다.&lt;br /&gt;&lt;img alt=&quot;&quot; src=&quot;https://lh3.googleusercontent.com/RrmzRNYZE3lYKGh58y9oSnTzCwYl5eBdjut9ECyTuw0Rqfj6Nfd4mOOeLlj6fHF1dykcOzgUoG_H&quot; /&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h1 id=&quot;단계-boost-가-xp-를-지원하도록-빌드하자.&quot;&gt;2단계) Boost 가 XP 를 지원하도록 빌드하자.&lt;/h1&gt;일단, 이 포스팅에서는 빌드를 할 때 VC++2015 Update 3 를 사용할 것이므로, 이 것을 기반으로 설명을 드리도록 하겠습니다. 또한 기본적인 Boost 빌드 방법을 알고있다는 가정하에 설명을 진행하겠습니다.&lt;br /&gt;VC++2015 Update 3 에서는 플랫폼 도구 집합으로 &lt;code&gt;v140&lt;/code&gt; (default), &lt;code&gt;v140_xp&lt;/code&gt; 가 있습니다. XP 를 지원하는 소프트웨어를 개발할 때는 &lt;code&gt;v140_xp&lt;/code&gt; 를 사용해야만 합니다.&lt;br /&gt;&lt;img alt=&quot;&quot; src=&quot;https://lh3.googleusercontent.com/ibHxdEY1f_yboHWhN2lRPfyHLecoj1jJa8qgOYUodvfJaiTNF-qPnBMkAZM3gkqJpBpJ8ruO_EWN&quot; /&gt;&lt;br /&gt;Boost 를 빌드할 때는 &lt;code&gt;b2.exe&lt;/code&gt; 를 사용하여 빌드를 수행하게 되는데 이때 toolset 으로 비주얼스튜디오의 버전을 넣어주게 됩니다. 예를 들어, VC++2015 의 경우 &lt;code&gt;b2.exe --toolset=msvc-14.0 ...&lt;/code&gt; 와 같은 식이 되는데, 문제는 이것은 비주얼 스튜디오에서의 플랫폼 도구 집합으로 치면 &lt;code&gt;v140&lt;/code&gt; 을 의미하고, &lt;code&gt;v140_xp&lt;/code&gt; 를 의미하도록 명시하는 방법이 &lt;code&gt;b2.exe&lt;/code&gt; 에는 없다는 것입니다.&lt;br /&gt;따라서, &lt;code&gt;v140&lt;/code&gt; 과 &lt;code&gt;v140_xp&lt;/code&gt; 의 차이점을 일일히 알고서 &lt;code&gt;b2.exe&lt;/code&gt; 의 다른 파라미터를 통해서 그 차이점을 적용시켜야만 합니다. &lt;code&gt;v140&lt;/code&gt; 과 &lt;code&gt;v140_xp&lt;/code&gt; 의 차이점에 대해서는 &lt;a href=&quot;https://taeguk2.blogspot.com/2018/02/vc2015-vc140xp.html&quot;&gt;제가 과거에 작성했던 글&lt;/a&gt;을 참고하시길 바랍니다.&lt;br /&gt;또한, Boost 가 XP 를 지원하도록 빌드하기 위해서는 여러가지 매크로들과 C++ Flag 를 설정해야만 합니다. 이제부터 그 매크로와 C++ Flag 를 하나씩 알아보겠습니다.&lt;br /&gt;&lt;h2 id=&quot;win32_winnt0x0501-_ntddi_version0x05010300-매크로-정의&quot;&gt;&lt;code&gt;_WIN32_WINNT=0X0501&lt;/code&gt;, &lt;code&gt;_NTDDI_VERSION=0X05010300&lt;/code&gt; 매크로 정의&lt;/h2&gt;Windows 헤더 파일 (&lt;code&gt;windows.h&lt;/code&gt; 등) 은 내부적으로 타겟 윈도우 버전을 의미하는 &lt;code&gt;_WIN32_WINNT&lt;/code&gt;, &lt;code&gt;_NTDDI_VERSION&lt;/code&gt; 등 매크로들의 값을 바탕으로 조건부 선언을 하고있습니다.  예를 들면, Vista 에서 추가된 &lt;code&gt;InitializeSRWLock&lt;/code&gt; WinAPI 의 경우 &lt;code&gt;_WIN32_WINNT &amp;gt;= 0x0600&lt;/code&gt; 일 경우에만 선언되도록 되어있습니다.&lt;br /&gt;&lt;img alt=&quot;&quot; src=&quot;https://lh3.googleusercontent.com/OhVouh-aBX66YTaXBNBeNkef2J_RsICZdtwBXzGKCvkgeUDdTaRdBdyfpTOP1SYY7z8w6h1EOknh&quot; /&gt;&lt;br /&gt;타겟 윈도우 버전을 의미하는 매크로들이 어떤 게 있고 어떤 값들이 가능한 지는 &lt;a href=&quot;https://docs.microsoft.com/en-us/windows/desktop/winprog/using-the-windows-headers#macros-for-conditional-declarations&quot;&gt;이 링크&lt;/a&gt;를 보면 잘 나와있습니다.&lt;br /&gt;우리는 XP SP3 를 타겟으로 해야하므로, &lt;code&gt;_WIN32_WINNT&lt;/code&gt; 는 0x0501, &lt;code&gt;_NTDDI_VERSION&lt;/code&gt; 는 0x05010300 으로 정의해야합니다.&lt;br /&gt;&lt;h2 id=&quot;boost_use_winapi_version0x0501-boost_use_ntddi_version0x05010300-매크로-정의&quot;&gt;&lt;code&gt;BOOST_USE_WINAPI_VERSION=0X0501&lt;/code&gt;, &lt;code&gt;BOOST_USE_NTDDI_VERSION=0X05010300&lt;/code&gt; 매크로 정의&lt;/h2&gt;이 두 매크로가 어떤 역할을 하는 지에 대해서는 &lt;a href=&quot;https://www.boost.org/doc/libs/1_69_0/libs/winapi/doc/html/winapi/config.html&quot;&gt;이 링크&lt;/a&gt;를 참고하시길 바랍니다. 이 링크에 설명된 내용에 따르면, &lt;code&gt;BOOST_USE_WINAPI_VERSION&lt;/code&gt;, &lt;code&gt;BOOST_USE_NTDDI_VERSION&lt;/code&gt; 가 정의되어 있지 않으면 기본적으로 &lt;code&gt;_WIN32_WINNT&lt;/code&gt;, &lt;code&gt;_NTDDI_VERSION&lt;/code&gt; 의 값을 따라간다고 되어있긴합니다. 하지만 저는 그냥 명시적으로 정의를 해주었습니다.&lt;br /&gt;&lt;h2 id=&quot;boost_no_cxx11_thread_local-매크로-정의&quot;&gt;&lt;code&gt;BOOST_NO_CXX11_THREAD_LOCAL&lt;/code&gt; 매크로 정의&lt;/h2&gt;포스팅의 1단계에서 말했듯이 XP 에서는 C++11 thread_local 키워드를 사용하면 안되므로, thread_local 키워드를 쓰는걸 막기위해 이 매크로를 정의하였습니다.&lt;br /&gt;&lt;h2 id=&quot;using_v110_sdk71-매크로-정의&quot;&gt;&lt;code&gt;USING_V110_SDK71&lt;/code&gt; 매크로 정의&lt;/h2&gt;플랫폼 도구 집합 &lt;code&gt;v140&lt;/code&gt; 과 &lt;code&gt;v140_xp&lt;/code&gt; 의 차이점들중에 하나가 이 매크로의 유무입니다. &lt;code&gt;v140_xp&lt;/code&gt; 에서 이 매크로가 정의되므로 똑같이 정의해주도록 합니다.&lt;br /&gt;&lt;h2 id=&quot;zcthreadsafeinit--컴파일-플래그-설정&quot;&gt;&lt;code&gt;/Zc:threadSafeInit-&lt;/code&gt; 컴파일 플래그 설정&lt;/h2&gt;포스팅의 1단계에서 말했듯이 VC++2015 의 Magic Statics 구현은 XP 환경에서 문제가 있습니다. 따라서 Magic Statics 기능을 disable 해야만 하는데, &lt;code&gt;/Zc:threadSafeInit-&lt;/code&gt; 플래그가 그러한 역할을 수행합니다.&lt;br /&gt;&lt;hr /&gt;그러면, 이제부터 XP 를 지원하도록 Boost.FileSystem 를 빌드해보도록 하겠습니다. (부스트 1.69.0 기준으로 테스트되었습니다.)&lt;br /&gt;&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;https://www.boost.org/users/download/&quot;&gt;부스트 소스코드&lt;/a&gt;를 다운받아서 로컬에 압축을 풉니다.&lt;/li&gt;&lt;li&gt;&lt;code&gt;bootstrap.bat&lt;/code&gt; 을 실행시킵니다. 이러면 &lt;code&gt;b2.exe&lt;/code&gt; 가 생성됩니다.&lt;/li&gt;&lt;li&gt;아래 명령어를 통해 빌드를 수행하면 됩니다.&lt;/li&gt;&lt;/ol&gt;&lt;h2 id=&quot;bit--64bit-빌드-시-공통으로-먼저-수행해야하는-명령어&quot;&gt;32bit / 64bit 빌드 시, 공통으로 먼저 수행해야하는 명령어&lt;/h2&gt;&lt;pre class=&quot; language-batch&quot;&gt;&lt;code class=&quot;prism  language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;ORG_PATH&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;%PATH%&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;INCLUDE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;C:\Program Files &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\include;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\atlmfc\include;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Windows Kits\10\Include\10.0.10240.0\ucrt;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft SDKs\Windows\v7.1A\include&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;BUILD_CMD_COMMON&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;b2 &lt;span class=&quot;token parameter attr-name&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;j4 &lt;span class=&quot;token parameter attr-name&quot;&gt;--stagedir&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;.&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;stage&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;boost&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;xp &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token parameter attr-name&quot;&gt;--with-filesystem&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token parameter attr-name&quot;&gt;--reconfigure&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token variable&quot;&gt;toolset&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;msvc&lt;span class=&quot;token number&quot;&gt;-14&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;variant&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;debug&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;release &lt;span class=&quot;token variable&quot;&gt;threading&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;multi runtime&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;static&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;shared &lt;span class=&quot;token variable&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;static&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;shared &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token variable&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;_WIN32_WINNT=0x0501&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token variable&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;NTDDI_VERSION=0x05010300&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token variable&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;BOOST_USE_WINAPI_VERSION=0x0501&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token variable&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;BOOST_USE_NTDDI_VERSION=0x05010300&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token variable&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;BOOST_NO_CXX11_THREAD_LOCAL&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token variable&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;USING_V110_SDK71&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token variable&quot;&gt;cxxflags&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/Zc:threadSafeInit- &quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;bit-빌드-시-수행해야-하는-명령어&quot;&gt;32bit 빌드 시 수행해야 하는 명령어&lt;/h2&gt;&lt;pre class=&quot; language-batch&quot;&gt;&lt;code class=&quot;prism  language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;C:\Program Files &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft SDKs\Windows\v7.1A\bin;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\bin;^&lt;br /&gt;%ORG_PATH%&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;LIBPATH&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;C:\Program Files &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\atlmfc\lib;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\lib&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;LIB&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;C:\Program Files &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\lib;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\atlmfc\lib;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Windows Kits\10\lib\10.0.10240.0\ucrt\x86;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft SDKs\Windows\v7.1A\lib&lt;br /&gt;&lt;br /&gt;%BUILD_CMD_COMMON% ^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;address&lt;/span&gt;-model=&lt;span class=&quot;token number&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;linkflags=&lt;span class=&quot;token string&quot;&gt;&quot;/SUBSYSTEM:WINDOWS,5.01&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;bit-빌드-시-수행해야-하는-명령어-1&quot;&gt;64bit 빌드 시 수행해야 하는 명령어&lt;/h2&gt;&lt;pre class=&quot; language-batch&quot;&gt;&lt;code class=&quot;prism  language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;C:\Program Files &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft SDKs\Windows\v7.1A\bin;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\bin\x86_amd64;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\bin;^&lt;br /&gt;%ORG_PATH%&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;LIBPATH&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;C:\Program Files &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\atlmfc\lib\amd64;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\lib\amd64&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;LIB&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;C:\Program Files &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\lib\amd64;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft Visual Studio 14.0\VC\atlmfc\lib\amd64;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Windows Kits\10\lib\10.0.10240.0\ucrt\x64;^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token label property&quot;&gt;:\Program&lt;/span&gt; Files (x86&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;\Microsoft SDKs\Windows\v7.1A\lib\x64&lt;br /&gt;&lt;br /&gt;%BUILD_CMD_COMMON% ^&lt;br /&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;address&lt;/span&gt;-model=&lt;span class=&quot;token number&quot;&gt;64&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;br /&gt;linkflags=&lt;span class=&quot;token string&quot;&gt;&quot;/SUBSYSTEM:WINDOWS,5.02&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;마무으리&quot;&gt;마무으리&lt;/h1&gt;Boost 를 XP 에서 사용하려면 상당히 까다롭죠?? ㅠㅠ 저도 작년 초에 XP 환경에서 boost 를 사용해야하는 상황에 처해서 많이 삽질을 했던 기억이 납니다. 이 포스팅은 그러한 저의 삽질/연구를 바탕으로 한 포스팅인데요. 완벽하게 검증된 방법은 아닙니다. (여러분이 보기에도 뭔가 꼼수같은 느낌이 많이 들죠??)&lt;br /&gt;따라서 이 방법대로만 하면 XP 환경에서 아무런 문제없이 boost 를 사용할 수 있다! 라고 제가 말씀드리기는 어려울 것 같고, 참고정도는 가능하지 않을까 싶습니다.&lt;br /&gt;잘못된 점 혹은 개선할 점 혹은 더 좋은 방법이 설명되어있는 자료링크 같은 것은 언제나 환영입니다!&lt;br /&gt;지금까지 읽어주셔서 감사합니다~ &lt;br /&gt;&lt;hr /&gt;&lt;b&gt;&lt;span style=&quot;font-size: large;&quot;&gt;이 포스팅은 &lt;a href=&quot;https://infossm.github.io/blog/2019/01/09/how-to-build-boost-for-windows-xp/&quot;&gt;삼성 소프트웨어 멤버십 기술 블로그에 동시에 포스팅&lt;/a&gt;됩니다.&lt;/span&gt;&lt;/b&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://taeguk2.blogspot.com/feeds/7749233622739518672/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://taeguk2.blogspot.com/2019/02/c-boost-windows-xp_69.html#comment-form' title='1개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/7749233622739518672'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/7749233622739518672'/><link rel='alternate' type='text/html' href='https://taeguk2.blogspot.com/2019/02/c-boost-windows-xp_69.html' title='C++ Boost 라이브러리를 Windows XP 에서 동작하도록 빌드하기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3196730103600443728.post-3616178277119450557</id><published>2019-01-12T19:07:00.000+09:00</published><updated>2019-01-12T19:21:38.429+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="삿포로"/><category scheme="http://www.blogger.com/atom/ns#" term="여행"/><category scheme="http://www.blogger.com/atom/ns#" term="오타루"/><category scheme="http://www.blogger.com/atom/ns#" term="일본여행"/><title type='text'>일본 삿포로 여행 (1/2 ~ 1/6) </title><content type='html'>&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: white; color: #201f20; font-family: &amp;quot;roboto&amp;quot; , sans-serif; font-size: 15px;&quot;&gt;2019년이 시작되자마자, 1/2 (수) ~ 1/6 (일) 4박 5일 간 일본 삿포로 지역으로 여행을 갔다왔다.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: white; color: #201f20; font-family: &amp;quot;roboto&amp;quot; , sans-serif; font-size: 15px;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-P84V6CkHq1I/XDmkiuYeuVI/AAAAAAAAAYw/u7S1Hj8L6H0JigziaY1SehIHL3aVp5vcgCLcBGAs/s1600/KakaoTalk_20190112_172519151.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1200&quot; height=&quot;640&quot; src=&quot;https://1.bp.blogspot.com/-P84V6CkHq1I/XDmkiuYeuVI/AAAAAAAAAYw/u7S1Hj8L6H0JigziaY1SehIHL3aVp5vcgCLcBGAs/s640/KakaoTalk_20190112_172519151.jpg&quot; width=&quot;480&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;삿포로가는 비행기 안, 구름이 예쁘다~&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-6UA1oPJy2FI/XDmkMVN87TI/AAAAAAAAAYY/C4REyd691PguGiuGelRiQbpzrKvImDuRACLcBGAs/s1600/KakaoTalk_20190112_172245533.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;960&quot; data-original-width=&quot;960&quot; height=&quot;640&quot; src=&quot;https://2.bp.blogspot.com/-6UA1oPJy2FI/XDmkMVN87TI/AAAAAAAAAYY/C4REyd691PguGiuGelRiQbpzrKvImDuRACLcBGAs/s640/KakaoTalk_20190112_172245533.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;삿포로 신치토세 공항에 도착해서 먹은 부타동~ 사진보니 군침나오네..&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-eJONm8tKgOM/XDmkLDbLIpI/AAAAAAAAAYU/mOzTKK9u2sM7I40GMT0-ilEy9hjjMMGLACLcBGAs/s1600/KakaoTalk_20190112_172243976.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://3.bp.blogspot.com/-eJONm8tKgOM/XDmkLDbLIpI/AAAAAAAAAYU/mOzTKK9u2sM7I40GMT0-ilEy9hjjMMGLACLcBGAs/s640/KakaoTalk_20190112_172243976.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;여긴 삿포로역! 예쁘다!&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-nAdfpXevmcM/XDmkLI7rlPI/AAAAAAAAAYQ/_DCztO380boY9vUPv3quEpDW3OMQf2qOQCLcBGAs/s1600/KakaoTalk_20190112_172244620.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://4.bp.blogspot.com/-nAdfpXevmcM/XDmkLI7rlPI/AAAAAAAAAYQ/_DCztO380boY9vUPv3quEpDW3OMQf2qOQCLcBGAs/s640/KakaoTalk_20190112_172244620.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;숙소에 짐을 풀고 간 곳은, 스프카레 집! 이거 먹으려고 줄 진짜 오래 기다렸다,,&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-UAOTL9BFRmA/XDmkMVtN3wI/AAAAAAAAAYc/1XUFEiH7YKcTsL1HDeO2ZUPAUohAHM_uACLcBGAs/s1600/KakaoTalk_20190112_172245360.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://3.bp.blogspot.com/-UAOTL9BFRmA/XDmkMVtN3wI/AAAAAAAAAYc/1XUFEiH7YKcTsL1HDeO2ZUPAUohAHM_uACLcBGAs/s640/KakaoTalk_20190112_172245360.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;하지만, 줄 선 보람이 있어.. 너무 맛있다! 감동 ㅠㅠ&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-MzocHV4I-Dk/XDm40e1-vfI/AAAAAAAAAdI/y2R2Vm_nU5MmLGw761kEx3dkCsn3QmC4gCLcBGAs/s1600/KakaoTalk_20190112_184605964.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;1280&quot; height=&quot;360&quot; src=&quot;https://1.bp.blogspot.com/-MzocHV4I-Dk/XDm40e1-vfI/AAAAAAAAAdI/y2R2Vm_nU5MmLGw761kEx3dkCsn3QmC4gCLcBGAs/s640/KakaoTalk_20190112_184605964.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;밤에는 숙소에서 닌텐도 저스트 댄스와 함께 광란의 댄스파티 ㅋㅋㅋ&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-Tpd5_vpwtIY/XDmsa1jwe2I/AAAAAAAAAZI/s4AH4jkOg_kNCdBiuJryHN_M-I4Wv2laACLcBGAs/s1600/KakaoTalk_20190112_174919641_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://1.bp.blogspot.com/-Tpd5_vpwtIY/XDmsa1jwe2I/AAAAAAAAAZI/s4AH4jkOg_kNCdBiuJryHN_M-I4Wv2laACLcBGAs/s640/KakaoTalk_20190112_174919641_01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;&quot; style=&quot;clear: both; text-align: center;&quot;&gt;이틀 째에는 지하철을 타고 오타루로 갔다~&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-ajAEFHw4xxA/XDm9UjbvU4I/AAAAAAAAAdg/iDS8qkNas20xZcxVzE90FRhl8ZdVUgoiACLcBGAs/s1600/KakaoTalk_20190112_191058811.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://1.bp.blogspot.com/-ajAEFHw4xxA/XDm9UjbvU4I/AAAAAAAAAdg/iDS8qkNas20xZcxVzE90FRhl8ZdVUgoiACLcBGAs/s640/KakaoTalk_20190112_191058811.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;지하철 안에서 보이는 바깥 풍경&lt;/div&gt;&lt;div class=&quot;&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-K9XKtogA9M0/XDmsedacMuI/AAAAAAAAAZo/9undNcdL62AzcvGD6rsAFUUmz8k1c1s8QCLcBGAs/s1600/KakaoTalk_20190112_174919641_08.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1200&quot; height=&quot;640&quot; src=&quot;https://3.bp.blogspot.com/-K9XKtogA9M0/XDmsedacMuI/AAAAAAAAAZo/9undNcdL62AzcvGD6rsAFUUmz8k1c1s8QCLcBGAs/s640/KakaoTalk_20190112_174919641_08.jpg&quot; width=&quot;480&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;오타루에 도착하니 눈이 이렇게 많이 쌓여있다&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-2Xps0Es5-nU/XDmtffKJmSI/AAAAAAAAAaM/KNIgAqxC6CIJlQxjuBdwYDzrVfxnPV99gCLcBGAs/s1600/KakaoTalk_20190112_180335731.gif&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;496&quot; data-original-width=&quot;368&quot; height=&quot;400&quot; src=&quot;https://2.bp.blogspot.com/-2Xps0Es5-nU/XDmtffKJmSI/AAAAAAAAAaM/KNIgAqxC6CIJlQxjuBdwYDzrVfxnPV99gCLcBGAs/s400/KakaoTalk_20190112_180335731.gif&quot; width=&quot;296&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;길가에 오르골 소리가 은은하게 울려퍼져서 너무 좋았다~&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-tX1qdyHKusU/XDmsbFpEh_I/AAAAAAAAAZQ/JQnXlCc4gDoLSR7DS0ZAtLwG_zomd5ArACLcBGAs/s1600/KakaoTalk_20190112_174919641_02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1200&quot; height=&quot;400&quot; src=&quot;https://3.bp.blogspot.com/-tX1qdyHKusU/XDmsbFpEh_I/AAAAAAAAAZQ/JQnXlCc4gDoLSR7DS0ZAtLwG_zomd5ArACLcBGAs/s400/KakaoTalk_20190112_174919641_02.jpg&quot; width=&quot;300&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;늦은 점심을 먹으러 초밥집에 들어왔다. 녹차가 따뜻해서 몸이 풀린다&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-GaenwWxEscM/XDmse5sPiUI/AAAAAAAAAZs/BzSBl1upMhoXdvEcdrGFhbIDi8_ijqPkACLcBGAs/s1600/KakaoTalk_20190112_174919641_10.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1600&quot; height=&quot;400&quot; src=&quot;https://3.bp.blogspot.com/-GaenwWxEscM/XDmse5sPiUI/AAAAAAAAAZs/BzSBl1upMhoXdvEcdrGFhbIDi8_ijqPkACLcBGAs/s400/KakaoTalk_20190112_174919641_10.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;&quot; style=&quot;clear: both; text-align: center;&quot;&gt;이름이 뭐였드라... 아무튼 고오급 회 도시락이였다&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-sarG9fF1pfQ/XDmsbH6FHlI/AAAAAAAAAZM/UP3euX_yGXs0cEqv-u-pkAhNYrBc_M63wCLcBGAs/s1600/KakaoTalk_20190112_174919641_03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://4.bp.blogspot.com/-sarG9fF1pfQ/XDmsbH6FHlI/AAAAAAAAAZM/UP3euX_yGXs0cEqv-u-pkAhNYrBc_M63wCLcBGAs/s640/KakaoTalk_20190112_174919641_03.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;&quot; style=&quot;clear: both; text-align: center;&quot;&gt;여긴 오타루 운하~&lt;/div&gt;&lt;div class=&quot;&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-fA_IaL9Owq0/XDmseARufzI/AAAAAAAAAZk/fUWQqOtsAOYRl1H1i40gUJbVaoJby9rKQCLcBGAs/s1600/KakaoTalk_20190112_174919641_09.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://1.bp.blogspot.com/-fA_IaL9Owq0/XDmseARufzI/AAAAAAAAAZk/fUWQqOtsAOYRl1H1i40gUJbVaoJby9rKQCLcBGAs/s640/KakaoTalk_20190112_174919641_09.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;다섯명이서 토끼모자쓰고 돌아다녔다~ 시선강탈 ㅋㅋㅋㅋㅋ&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-oHptRR_tOqU/XDmscRYb51I/AAAAAAAAAZU/cZIVT3gvnEcfpl4ujyNTsomVqqhoXkKTACLcBGAs/s1600/KakaoTalk_20190112_174919641_04.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1200&quot; height=&quot;320&quot; src=&quot;https://3.bp.blogspot.com/-oHptRR_tOqU/XDmscRYb51I/AAAAAAAAAZU/cZIVT3gvnEcfpl4ujyNTsomVqqhoXkKTACLcBGAs/s320/KakaoTalk_20190112_174919641_04.jpg&quot; width=&quot;240&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;귀여운 눈 괴물(?)&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-ItJmKiF9FhA/XDmsfg88i3I/AAAAAAAAAZ0/blqvkVMUYtY6YFJ1Uxs4RyEPRQnn_ec2QCLcBGAs/s1600/KakaoTalk_20190112_174919641_12.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1200&quot; height=&quot;400&quot; src=&quot;https://3.bp.blogspot.com/-ItJmKiF9FhA/XDmsfg88i3I/AAAAAAAAAZ0/blqvkVMUYtY6YFJ1Uxs4RyEPRQnn_ec2QCLcBGAs/s400/KakaoTalk_20190112_174919641_12.jpg&quot; width=&quot;300&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;귀여운 유리 공예품&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-tNjw0LFfYg8/XDmsc2yGFCI/AAAAAAAAAZY/fZdkDhDIp5AecQfs0_IqxE_YsDyLxKdngCLcBGAs/s1600/KakaoTalk_20190112_174919641_05.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://3.bp.blogspot.com/-tNjw0LFfYg8/XDmsc2yGFCI/AAAAAAAAAZY/fZdkDhDIp5AecQfs0_IqxE_YsDyLxKdngCLcBGAs/s640/KakaoTalk_20190112_174919641_05.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;여긴 오르골당~ 예쁘당~&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-Df7SrbViqTU/XDmsc8Xw4-I/AAAAAAAAAZc/gR1mi578zqoWMqioCs4NwdiMb_2EE3Q8wCLcBGAs/s1600/KakaoTalk_20190112_174919641_06.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://1.bp.blogspot.com/-Df7SrbViqTU/XDmsc8Xw4-I/AAAAAAAAAZc/gR1mi578zqoWMqioCs4NwdiMb_2EE3Q8wCLcBGAs/s640/KakaoTalk_20190112_174919641_06.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;오타루에서 삿포로로 돌아오는 길에 소엔온천을 들렸다~ 아 포근하니 너무 좋았다&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-JihT67jdcGM/XDmsdnObPlI/AAAAAAAAAZg/wPup_C6EWN8irhRshfLNg21H4khjA5jAgCLcBGAs/s1600/KakaoTalk_20190112_174919641_07.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1200&quot; height=&quot;640&quot; src=&quot;https://3.bp.blogspot.com/-JihT67jdcGM/XDmsdnObPlI/AAAAAAAAAZg/wPup_C6EWN8irhRshfLNg21H4khjA5jAgCLcBGAs/s640/KakaoTalk_20190112_174919641_07.jpg&quot; width=&quot;480&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;오도리공원에 있는 삿포로 TV 타워 앞에서 한 컷!&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-4MtoLY_QXeI/XDmwlP--0UI/AAAAAAAAAac/6bvZvtx4PhYPMieZTF2z0cP2lfWBHNBvwCLcBGAs/s1600/KakaoTalk_20190112_181624972_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://4.bp.blogspot.com/-4MtoLY_QXeI/XDmwlP--0UI/AAAAAAAAAac/6bvZvtx4PhYPMieZTF2z0cP2lfWBHNBvwCLcBGAs/s640/KakaoTalk_20190112_181624972_01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;셋째 달은 아침 겸 점심으로 숙소 근처 라멘을 먹었다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;라멘 집 사장님들(?) 티셔츠에 &quot;No Ramen No Life&quot; 라고 적혀있었는데 너무 멋있었다.&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-WzcYhWtuPdA/XDmwk7aHUwI/AAAAAAAAAaY/3R4K2atrTDsGAlyq75otWuqTD1CmRRVfQCLcBGAs/s1600/KakaoTalk_20190112_181624972_02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://3.bp.blogspot.com/-WzcYhWtuPdA/XDmwk7aHUwI/AAAAAAAAAaY/3R4K2atrTDsGAlyq75otWuqTD1CmRRVfQCLcBGAs/s640/KakaoTalk_20190112_181624972_02.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;삿포로 시내 구경~~&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-rWlkyEf-KKs/XDmwoH19iNI/AAAAAAAAAa4/e4PGewoNh5skFcB7oloZRgZ0g0Rtob5mgCLcBGAs/s1600/KakaoTalk_20190112_181624972_09.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1600&quot; height=&quot;320&quot; src=&quot;https://4.bp.blogspot.com/-rWlkyEf-KKs/XDmwoH19iNI/AAAAAAAAAa4/e4PGewoNh5skFcB7oloZRgZ0g0Rtob5mgCLcBGAs/s320/KakaoTalk_20190112_181624972_09.jpg&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;맛있는 디저트&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-GM2JQgPvbJs/XDmwoVY3EZI/AAAAAAAAAa8/nc-qlrpYKeAhr3Puz6B9ruVVqBlH9tfZQCLcBGAs/s1600/KakaoTalk_20190112_181624972_10.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1200&quot; height=&quot;640&quot; src=&quot;https://1.bp.blogspot.com/-GM2JQgPvbJs/XDmwoVY3EZI/AAAAAAAAAa8/nc-qlrpYKeAhr3Puz6B9ruVVqBlH9tfZQCLcBGAs/s640/KakaoTalk_20190112_181624972_10.jpg&quot; width=&quot;480&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;어흥!&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-gzbpG7bRTzY/XDmwlI7_BwI/AAAAAAAAAag/eVc-EWCuw1E61kfBCmcDLLnjw9RwXLddgCLcBGAs/s1600/KakaoTalk_20190112_181624972_03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://4.bp.blogspot.com/-gzbpG7bRTzY/XDmwlI7_BwI/AAAAAAAAAag/eVc-EWCuw1E61kfBCmcDLLnjw9RwXLddgCLcBGAs/s640/KakaoTalk_20190112_181624972_03.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;&quot; style=&quot;clear: both; text-align: center;&quot;&gt;삿포로 저녁 시내 모습&lt;/div&gt;&lt;div class=&quot;&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-IBTCg3FHrl0/XDmwmdSWuMI/AAAAAAAAAak/FR0TBpJMF5oFBAa2CzXJkuVd36j1UblugCLcBGAs/s1600/KakaoTalk_20190112_181624972_06.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1440&quot; data-original-width=&quot;1080&quot; height=&quot;400&quot; src=&quot;https://4.bp.blogspot.com/-IBTCg3FHrl0/XDmwmdSWuMI/AAAAAAAAAak/FR0TBpJMF5oFBAa2CzXJkuVd36j1UblugCLcBGAs/s400/KakaoTalk_20190112_181624972_06.jpg&quot; width=&quot;300&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;NIKKA(?) 앞에서 한 컷!&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-zMXSVQV-hMM/XDmwmW23HMI/AAAAAAAAAas/jsmfOS7Kl9Ezir94LnPE4YkYxfgXVh22wCLcBGAs/s1600/KakaoTalk_20190112_181624972_05.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://3.bp.blogspot.com/-zMXSVQV-hMM/XDmwmW23HMI/AAAAAAAAAas/jsmfOS7Kl9Ezir94LnPE4YkYxfgXVh22wCLcBGAs/s640/KakaoTalk_20190112_181624972_05.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;징~ 징~ 징기스칸!!&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-O2Im_K_dlhQ/XDmzCL_EEYI/AAAAAAAAAbk/DhEdtIzfrvIlHBuoFU93pdf5Z3poOCFRACLcBGAs/s1600/KakaoTalk_20190112_182653982_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://3.bp.blogspot.com/-O2Im_K_dlhQ/XDmzCL_EEYI/AAAAAAAAAbk/DhEdtIzfrvIlHBuoFU93pdf5Z3poOCFRACLcBGAs/s640/KakaoTalk_20190112_182653982_01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;넷째 날 아침. 호텔 밖에 눈보라가 엄청 휘날리고 있다&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-BShoOXih5IQ/XDmzE7_sVkI/AAAAAAAAAb0/NjTgTOgEnuAhictf2L_pNtzH7AQFzta9ACLcBGAs/s1600/KakaoTalk_20190112_182653982_07.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1600&quot; height=&quot;400&quot; src=&quot;https://3.bp.blogspot.com/-BShoOXih5IQ/XDmzE7_sVkI/AAAAAAAAAb0/NjTgTOgEnuAhictf2L_pNtzH7AQFzta9ACLcBGAs/s400/KakaoTalk_20190112_182653982_07.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;늦은 아침으로 다코야끼를 냠냠냠&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-_Nd1M2g2YCE/XDmzCPkg4qI/AAAAAAAAAbc/Ik2phA66CQ8mItt5jlgYa-NTJnXXQdo2ACLcBGAs/s1600/KakaoTalk_20190112_182653982_02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://2.bp.blogspot.com/-_Nd1M2g2YCE/XDmzCPkg4qI/AAAAAAAAAbc/Ik2phA66CQ8mItt5jlgYa-NTJnXXQdo2ACLcBGAs/s640/KakaoTalk_20190112_182653982_02.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;오늘 우리가 갈 곳은 조쟌케이 온천 마을!&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/--gfjpLzmWF0/XDmzCDHUs9I/AAAAAAAAAbg/WVSggdlFUdMqW9Pzp5a01pSyX5j7vKI7wCLcBGAs/s1600/KakaoTalk_20190112_182653982_03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://1.bp.blogspot.com/--gfjpLzmWF0/XDmzCDHUs9I/AAAAAAAAAbg/WVSggdlFUdMqW9Pzp5a01pSyX5j7vKI7wCLcBGAs/s640/KakaoTalk_20190112_182653982_03.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;호헤이쿄 온천 앞 풍경&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-2GY2TBey7eI/XDmzD9MIxHI/AAAAAAAAAbs/vVQVJV_G398VsMnmD1-af1AFDgxAD6A_ACLcBGAs/s1600/KakaoTalk_20190112_182653982_06.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;300&quot; src=&quot;https://4.bp.blogspot.com/-2GY2TBey7eI/XDmzD9MIxHI/AAAAAAAAAbs/vVQVJV_G398VsMnmD1-af1AFDgxAD6A_ACLcBGAs/s400/KakaoTalk_20190112_182653982_06.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;온천에 들어가기전 한 컷!&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-NDcsSR7qNV0/XDmzDgJo4YI/AAAAAAAAAbo/4sAXu5xsaXYO_Wj3qe9lpVQL58L79_F9ACLcBGAs/s1600/KakaoTalk_20190112_182653982_04.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://3.bp.blogspot.com/-NDcsSR7qNV0/XDmzDgJo4YI/AAAAAAAAAbo/4sAXu5xsaXYO_Wj3qe9lpVQL58L79_F9ACLcBGAs/s640/KakaoTalk_20190112_182653982_04.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;온천은 너무 좋았다~&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;하늘에선 눈이 내려오고~ 옆에는 눈이 수북히 쌓여있고~ 몸은 뜨끈하고~&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;온천하면서 맥주도 같이 마셨는데 너무 좋았다 :)&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-9UbBgEeq9fM/XDm0WHt--WI/AAAAAAAAAcY/OJFwqUgRAaM1wnTkUpzxbS5KwW7gLWIkACLcBGAs/s1600/KakaoTalk_20190112_183056588.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;300&quot; src=&quot;https://3.bp.blogspot.com/-9UbBgEeq9fM/XDm0WHt--WI/AAAAAAAAAcY/OJFwqUgRAaM1wnTkUpzxbS5KwW7gLWIkACLcBGAs/s400/KakaoTalk_20190112_183056588.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;&quot; style=&quot;clear: both; text-align: center;&quot;&gt;온천 후에 인도카레를 냠냠냠&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-yg3LIxxtMlI/XDmzFQKXhCI/AAAAAAAAAb4/FDVLl-iKESgAX9dqCWr4hth87mHMCmO_wCLcBGAs/s1600/KakaoTalk_20190112_182653982_08.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1600&quot; height=&quot;320&quot; src=&quot;https://1.bp.blogspot.com/-yg3LIxxtMlI/XDmzFQKXhCI/AAAAAAAAAb4/FDVLl-iKESgAX9dqCWr4hth87mHMCmO_wCLcBGAs/s320/KakaoTalk_20190112_182653982_08.jpg&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-yMrfnV-J5Z4/XDmzD-XGhkI/AAAAAAAAAbw/96Ycs_Q8C5gUrpWYY4irE_u-36qEJvajgCLcBGAs/s1600/KakaoTalk_20190112_182653982_05.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1200&quot; height=&quot;320&quot; src=&quot;https://1.bp.blogspot.com/-yMrfnV-J5Z4/XDmzD-XGhkI/AAAAAAAAAbw/96Ycs_Q8C5gUrpWYY4irE_u-36qEJvajgCLcBGAs/s320/KakaoTalk_20190112_182653982_05.jpg&quot; width=&quot;240&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;다시 삿포로로 돌아와서 저녁으로 오코노미야끼와 하이볼을 먹었다~&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-1fmRfsPzkyY/XDm4QTjLzdI/AAAAAAAAAco/RuU6amQiwtM6AlMbf2vlhoqU1w4Flrn6ACLcBGAs/s1600/KakaoTalk_20190112_184006701_02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1200&quot; height=&quot;400&quot; src=&quot;https://3.bp.blogspot.com/-1fmRfsPzkyY/XDm4QTjLzdI/AAAAAAAAAco/RuU6amQiwtM6AlMbf2vlhoqU1w4Flrn6ACLcBGAs/s400/KakaoTalk_20190112_184006701_02.jpg&quot; width=&quot;300&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;&quot; style=&quot;clear: both; text-align: center;&quot;&gt;여행 마지막 날. 삿포로 다이마루 백화점에 들렸다&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;위 사진은 C컵 푸딩&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-SlXUWakCASs/XDm4RfjHiRI/AAAAAAAAAc0/fTJLNuKiTVsl4TErW4NwSAacCE2O7yUFgCLcBGAs/s1600/KakaoTalk_20190112_184006701_05.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://4.bp.blogspot.com/-SlXUWakCASs/XDm4RfjHiRI/AAAAAAAAAc0/fTJLNuKiTVsl4TErW4NwSAacCE2O7yUFgCLcBGAs/s640/KakaoTalk_20190112_184006701_05.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;포켓몬 센터&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-OmGoWKXChOQ/XDm4Qn8Sl9I/AAAAAAAAAcs/QUQysqePSWYVs6zDVS_kVjX-vGhKvU2DACLcBGAs/s1600/KakaoTalk_20190112_184006701_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;300&quot; src=&quot;https://2.bp.blogspot.com/-OmGoWKXChOQ/XDm4Qn8Sl9I/AAAAAAAAAcs/QUQysqePSWYVs6zDVS_kVjX-vGhKvU2DACLcBGAs/s400/KakaoTalk_20190112_184006701_01.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;&quot; style=&quot;clear: both; text-align: center;&quot;&gt;가지각색의 입욕제들~ 나도 하나 샀다&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-vW2hGKpkX2g/XDm4QZY5qvI/AAAAAAAAAck/EP6KyJR4nt4xLmuo2yyQTXCa_8rsI6r7ACLcBGAs/s1600/KakaoTalk_20190112_184006701_03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;960&quot; data-original-width=&quot;720&quot; height=&quot;400&quot; src=&quot;https://2.bp.blogspot.com/-vW2hGKpkX2g/XDm4QZY5qvI/AAAAAAAAAck/EP6KyJR4nt4xLmuo2yyQTXCa_8rsI6r7ACLcBGAs/s400/KakaoTalk_20190112_184006701_03.jpg&quot; width=&quot;300&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;신치토세 공항으로 가는 지하철 안~ 4박 5일 간의 여행도 이렇게 끝나는구나&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-wAMbBMPilxc/XDm6pdkpsII/AAAAAAAAAdU/-gmRl1cXN-U4LoXYjQ7_5IW9Bd5ksqhNACLcBGAs/s1600/KakaoTalk_20190112_185942673.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;960&quot; data-original-width=&quot;1280&quot; height=&quot;480&quot; src=&quot;https://2.bp.blogspot.com/-wAMbBMPilxc/XDm6pdkpsII/AAAAAAAAAdU/-gmRl1cXN-U4LoXYjQ7_5IW9Bd5ksqhNACLcBGAs/s640/KakaoTalk_20190112_185942673.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;인천공항으로 돌아와서 한 컷!&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;즐거운 여행이였다~&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://taeguk2.blogspot.com/feeds/3616178277119450557/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://taeguk2.blogspot.com/2019/01/12-16.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/3616178277119450557'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/3616178277119450557'/><link rel='alternate' type='text/html' href='https://taeguk2.blogspot.com/2019/01/12-16.html' title='일본 삿포로 여행 (1/2 ~ 1/6) '/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://1.bp.blogspot.com/-P84V6CkHq1I/XDmkiuYeuVI/AAAAAAAAAYw/u7S1Hj8L6H0JigziaY1SehIHL3aVp5vcgCLcBGAs/s72-c/KakaoTalk_20190112_172519151.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3196730103600443728.post-5096059197191508009</id><published>2019-01-12T17:13:00.000+09:00</published><updated>2019-01-12T19:08:22.596+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="2019년"/><category scheme="http://www.blogger.com/atom/ns#" term="모락산"/><category scheme="http://www.blogger.com/atom/ns#" term="새해"/><title type='text'>2019년 시작~</title><content type='html'>&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: justify;&quot;&gt;2018년이 가고, 2019년이 왔다. 새해를 맞이하는 방법은 몇년 째 같은 방식이다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: justify;&quot;&gt;절에 가서 타종식 -&amp;gt; 모락산 신년행사 -&amp;gt; 떡국&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: justify;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: justify;&quot;&gt;군부대 절에 갔기 때문에, 보안상 타종식 사진은 첨부하지 않는다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-lhgyNaESeJs/XDmeEpVoQxI/AAAAAAAAAXc/MItetYlL8ZQP2mgcKKOtblFzokU8QhCcgCLcBGAs/s1600/KakaoTalk_20190112_165532385_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://2.bp.blogspot.com/-lhgyNaESeJs/XDmeEpVoQxI/AAAAAAAAAXc/MItetYlL8ZQP2mgcKKOtblFzokU8QhCcgCLcBGAs/s640/KakaoTalk_20190112_165532385_01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;아침 일찍 일어나서 모락산을 등산하는 중~~&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-Kp5h5SVo7Xg/XDmeE_F_xbI/AAAAAAAAAXg/n6XM0TDlKfcEQsWtEb_csdd6he95dGTngCLcBGAs/s1600/KakaoTalk_20190112_165532385_02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://1.bp.blogspot.com/-Kp5h5SVo7Xg/XDmeE_F_xbI/AAAAAAAAAXg/n6XM0TDlKfcEQsWtEb_csdd6he95dGTngCLcBGAs/s640/KakaoTalk_20190112_165532385_02.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;구름이 멋있다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-UqEYgz8o-9s/XDmeHZ1Mz4I/AAAAAAAAAX0/D93nk36yLnIV4ZXhkTKXUF_lykHQjVq1ACLcBGAs/s1600/KakaoTalk_20190112_165532385_08.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://1.bp.blogspot.com/-UqEYgz8o-9s/XDmeHZ1Mz4I/AAAAAAAAAX0/D93nk36yLnIV4ZXhkTKXUF_lykHQjVq1ACLcBGAs/s640/KakaoTalk_20190112_165532385_08.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;2019년의 첫 해가 뜨고 있는 모습 (필터도 없이 이렇게 멋있게 찍혔다~)&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-eHcLFg6R9ig/XDmeEyT6BjI/AAAAAAAAAXk/oXXKZFes7rsA8jypQK8pMsuioV9VZ-1OACLcBGAs/s1600/KakaoTalk_20190112_165532385_04.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://1.bp.blogspot.com/-eHcLFg6R9ig/XDmeEyT6BjI/AAAAAAAAAXk/oXXKZFes7rsA8jypQK8pMsuioV9VZ-1OACLcBGAs/s640/KakaoTalk_20190112_165532385_04.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;2019년의 바램을 담아 하늘로 날려보낸다.&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-lU4J9i6-sL8/XDmeFw_NhBI/AAAAAAAAAXo/xmuO1XBnMwAmHj_osksqxlLy7kmhOm6AACLcBGAs/s1600/KakaoTalk_20190112_165532385_05.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://3.bp.blogspot.com/-lU4J9i6-sL8/XDmeFw_NhBI/AAAAAAAAAXo/xmuO1XBnMwAmHj_osksqxlLy7kmhOm6AACLcBGAs/s640/KakaoTalk_20190112_165532385_05.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;2019년, 부지런하고 보람찬 한 해가 되었으면 좋겠다!&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-5JdkaACk89E/XDmeGVEydsI/AAAAAAAAAXw/BAoOqQKDcuYGVuhkaJGR96POiahbjGfIgCLcBGAs/s1600/KakaoTalk_20190112_165532385_06.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://2.bp.blogspot.com/-5JdkaACk89E/XDmeGVEydsI/AAAAAAAAAXw/BAoOqQKDcuYGVuhkaJGR96POiahbjGfIgCLcBGAs/s640/KakaoTalk_20190112_165532385_06.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;사람들의 소원이 적힌 종이들. 올해는 종이가 바닥나서 나는 적지 못했다 아쉽 ㅎㅎ&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-DiosN0fxxII/XDmeGWxk8VI/AAAAAAAAAXs/-QVCe1lkWd0VV5I-IJYugNqNj8bFHWJVwCLcBGAs/s1600/KakaoTalk_20190112_165532385_07.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;1600&quot; height=&quot;480&quot; src=&quot;https://3.bp.blogspot.com/-DiosN0fxxII/XDmeGWxk8VI/AAAAAAAAAXs/-QVCe1lkWd0VV5I-IJYugNqNj8bFHWJVwCLcBGAs/s640/KakaoTalk_20190112_165532385_07.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;2019년의 첫 식사는 엄마표 떡국 ★&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: justify;&quot;&gt;2018년은 정말 금방 지나간 것 같다. 회사 생활을 하니 시간이 훅훅 지나간다. 2019년은 좀 더 정신차리고 부지런하게 살아야겠다. 일도 더 열심히 하고, 공부도 더 열심히하고, 노는 것도 더 열심히 놀아야지. 쓸데없이 흘려보내는 시간들을 줄여서, 보람차고 부지런한 2019년이 되도록 해야겠다~ 화이팅!!&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='https://taeguk2.blogspot.com/feeds/5096059197191508009/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://taeguk2.blogspot.com/2019/01/2019.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/5096059197191508009'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/5096059197191508009'/><link rel='alternate' type='text/html' href='https://taeguk2.blogspot.com/2019/01/2019.html' title='2019년 시작~'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-lhgyNaESeJs/XDmeEpVoQxI/AAAAAAAAAXc/MItetYlL8ZQP2mgcKKOtblFzokU8QhCcgCLcBGAs/s72-c/KakaoTalk_20190112_165532385_01.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3196730103600443728.post-2971342483402724643</id><published>2018-11-02T23:48:00.001+09:00</published><updated>2018-11-02T23:52:31.072+09:00</updated><title type='text'>최근 근황</title><content type='html'>&lt;div&gt;오랜만에 글을 쓰는 거 같다..&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;최근 근황은 뭐 계속 회사 생활의 반복이다.. 눈깜짝하니 입사한지도 1년이 어느새 훌쩍넘었다. 뭔가 해보고 싶은게 많은데, 회사 다니면서 출퇴근 시간도 길고, 내가 체력도 안좋고 부지런한 편도 아니라서 진짜 회사만 다니기 벅찼던 것 같다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;그래도 나름 뭔가 해보려고 최근에 2가지 활동을 했었다.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; 그중에 하나는&amp;nbsp;&lt;a href=&quot;https://www.kosshackathon.kr/&quot;&gt;컨트리뷰톤&lt;/a&gt;이다. 작년이나 올해 초까지만해도 오픈소스 활동을 했었는데, 회사다니면서 자연스레 멈추게 되었다. 다시 한번 오픈소스 활동을 시작하기 위한 계기를 삼으려고 컨트리뷰톤이라는 프로그램에 참여하여&amp;nbsp;&lt;a href=&quot;https://github.com/namhyung/uftrace&quot;&gt;uftrace&lt;/a&gt;&amp;nbsp;라는 C/C++ function tracing 툴 프로젝트에서 활동을 했다. 현재는 컨트리뷰톤 활동은 끝났고, 이번 달 말에 폐회식?시상식? 이 있을 예정이다.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; 또 하나는 블록체인 스터디이다. 반년전쯤부터인가 블록체인쪽에 관심이 생겨서 한번 공부를 해보려고 스터디를 하게 되었다. 스터디는 현재 진행형이다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;회사를 다니면서 이렇게 2가지 활동을 동시에 했다. 이 활동들에 내가 투자하려고 했던 시간/에너지 양이 대략 있었는데, 막상 해보니 실제로 투자한 시간은 내 예상의 20% 도 안되는 것 같다. 신규 기능개발로 인해 회사 일이 최근에 바쁘기도 했고, 생각보다 내가 시간과 자기관리를 제대로 못했다. 시간투자를 많이 못한게 아쉽긴 한데, 일단 뭐라도 해본 것에 의의를...&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;아 그리고, 최근에&amp;nbsp;&lt;a href=&quot;https://estsoft.recruiter.co.kr/app/jobnotice/view?systemKindCode=MRS2&amp;amp;jobnoticeSn=4630&quot;&gt;우리 팀 우리 파트 채용공고&lt;/a&gt;를 새로 냈다. 기존의 채용 공고가 너무 모호하고 매력이 떨어진다고 생각해서 내가 건의를 해서 채용공고의 내용을 바꿔봤다.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;button onclick=&quot;if(document.getElementById(&#39;spoiler&#39;) .style.display==&#39;none&#39;) {document.getElementById(&#39;spoiler&#39;) .style.display=&#39;&#39;}else{document.getElementById(&#39;spoiler&#39;) .style.display=&#39;none&#39;}&quot; title=&quot;Click to show/hide content&quot; type=&quot;button&quot;&gt;채용공고 보기/숨기기&lt;/button&gt;&lt;br /&gt;&lt;div id=&quot;spoiler&quot; style=&quot;display: none;&quot;&gt;&lt;pre&gt;모집부분&lt;br /&gt;- C++ 기반 공용 모듈 개선 및 개발&lt;br /&gt;- C++ 기반 엔진 모듈 개선 및 개발 &lt;br /&gt;&lt;br /&gt;담당업무&lt;br /&gt;- 사내 C++ 공용 라이브러리 개선 및 개발 &lt;br /&gt;- C++ 기반 악성코드 탐지/치료 엔진 개선 및 개발&lt;br /&gt;- 코드 품질 및 개발 프로세스 개선&lt;br /&gt;&lt;br /&gt;자격요건&lt;br /&gt;- C++ 활용에 자신 있는 분&lt;br /&gt;- 능동적이고 적극적으로 업무를 수행하시는 분 &lt;br /&gt;&lt;br /&gt;우대요건&lt;br /&gt;- 오픈소스 커미터로 활발히 활동하시는 분 (참여 오픈 소스 기재)&lt;br /&gt;- C++ 기반 라이브러리 및 모듈 설계에 자신 있으신 분 (디자인패턴, API, ABI)&lt;br /&gt;- Modern C++ 및 Best Practice를 잘 알고 활발히 적용하시는 분&lt;br /&gt;- 레거시 코드베이스를 효율적으로 다루고 리펙토링을 수행하는 데 의지가 있으신 분&lt;br /&gt;- 유닛 테스트 작성 및 테스트 자동화의 필요성을 이해하고 경험이 있으신 분&lt;br /&gt;- Windows API 를 활용한 시스템 프로그래밍에 대한 지식이 있으신 분&lt;br /&gt;- 해킹/보안 및 보안 솔루션 개발에 관심이 있으신 분&lt;br /&gt;- 서류접수 시 포트폴리오 제출한 분 가산점 부여&lt;br /&gt;&lt;br /&gt;* 포트폴리오 제출 시 자신이 만든 프로그램을 제출할 분은, 코드레벨까지 포함하는 것이 좋습니다.&lt;br /&gt;* 우대요건은 만족하지 않더라도 괜찮습니다.&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;잘하고 열정적인 분들이 많이 지원하셨으면 좋겠다.. C++ 개발자는 뽑기 너무 힘들다.. (요즘 C++ 하는 사람 진짜 없다..ㅠㅠ)&lt;br /&gt;&lt;br /&gt;아무튼 근황은 이러하다.. 요약하자면 정신없이 회사 다니고 있고,, 뭔가 자기계발하고 싶은데 시간과 체력이 안되는 상황??? &lt;strike&gt;사실 나의 게으름이 주된 원인..&lt;/strike&gt;&lt;br /&gt;운동도 안한지 오래됐고,, 영어공부도 해야하는데 시간이 없어서 큰일이다...ㅠㅠ&lt;br /&gt;&lt;br /&gt;프로그래밍 언어적으로는 지금 C++에 대한 회의감이 극에 달하고, Rust 에 대해 매우 긍정적인 상태이다. 도메인적으로는 블록체인 기술에 관심이 많이 가고 있고..&lt;br /&gt;그래서 Rust 랑 블록체인을 공부한 뒤, 블록체인과 관련된 rust 오픈소스에서 활동해볼까 생각중이다...&lt;br /&gt;중요한 건 시간이 없다는 건데... 이제라도 시간관리, 체력관리 잘해서 뭔가 으쌰으쌰 해봐야지...&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://taeguk2.blogspot.com/feeds/2971342483402724643/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://taeguk2.blogspot.com/2018/11/blog-post_2.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/2971342483402724643'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3196730103600443728/posts/default/2971342483402724643'/><link rel='alternate' type='text/html' href='https://taeguk2.blogspot.com/2018/11/blog-post_2.html' title='최근 근황'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3196730103600443728.post-3258286262850352372</id><published>2018-07-21T21:42:00.000+09:00</published><updated>2018-09-24T15:18:56.888+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="Development"/><category scheme="http://www.blogger.com/atom/ns#" term="Good Practice"/><category scheme="http://www.blogger.com/atom/ns#" term="Software Craftmanship"/><category scheme="http://www.blogger.com/atom/ns#" term="Testing"/><category scheme="http://www.blogger.com/atom/ns#" term="Unit Test"/><category scheme="http://www.blogger.com/atom/ns#" term="개발"/><category scheme="http://www.blogger.com/atom/ns#" term="개발다운개발"/><category scheme="http://www.blogger.com/atom/ns#" term="개발문화"/><category scheme="http://www.blogger.com/atom/ns#" term="개발자"/><category scheme="http://www.blogger.com/atom/ns#" term="개발프로세스"/><category scheme="http://www.blogger.com/atom/ns#" term="리펙토링"/><category scheme="http://www.blogger.com/atom/ns#" term="문서화"/><category scheme="http://www.blogger.com/atom/ns#" term="소프트웨어품질"/><category scheme="http://www.blogger.com/atom/ns#" term="요구사항분석"/><title type='text'>개발다운 개발에 대해...</title><content type='html'>어쩌다가 2년 반 전에 내가 했던 프로젝트의 코드를 보게 되었다. 코드가 너무 구렸다.&lt;br /&gt;그때도 나는 나름 설계나 코드 품질에 신경을 많이 썼었는데, 지금 돌이켜보면 역량이 많이 부족했었던 것 