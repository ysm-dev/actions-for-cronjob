<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>초보몽키의 개발공부로그</title>
 <link href="https://wayhome25.github.io/atom.xml" rel="self"/>
 <link href="https://wayhome25.github.io/"/>
 <updated>2018-10-17T01:35:12+00:00</updated>
 <id>https://wayhome25.github.io</id>
 <author>
   <name>LEE HYUNJOO</name>
   <email></email>
 </author>

 
 <entry>
   <title>데이터베이스 정규화</title>
   <link href="https://wayhome25.github.io/cs/2018/03/31/database-normalization/"/>
   <updated>2018-03-31T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/cs/2018/03/31/database-normalization</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;SQL 첫걸음 8장 데이터베이스 설계 부분을 읽고 정리한 내용입니다.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;34장-데이터베이스-설계&quot;&gt;34장 데이터베이스 설계&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;데이터베이스 설계 : 데이터베이스의 스키마 내에서 테이블, 인덱스, 뷰 등의 객체를 정의하는 것
    &lt;ul&gt;
      &lt;li&gt;논리명과 물리명&lt;/li&gt;
      &lt;li&gt;자료형&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;35장-데이터베이스-정규화&quot;&gt;35장 데이터베이스 정규화&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;데이터베이스 정규화 (database normalization)
    &lt;ul&gt;
      &lt;li&gt;테이블을 올바른 형태로 변경하고 분할하는 것&lt;/li&gt;
      &lt;li&gt;데이터베이스의 설계 단계에서 수행, 기존 시스템을 재검토할 때 수행&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;정규화의 목적
    &lt;ul&gt;
      &lt;li&gt;하나의 데이터는 한 곳에 있어야 한다.&lt;/li&gt;
      &lt;li&gt;하나의 데이터가 한 곳에만 저장되어 있다면 데이터를 변경 하더라도 한 곳만 변경하는 것으로 끝낼 수 있다. (상품코드 0001의 상품명이 변경 되었을때는?)&lt;/li&gt;
      &lt;li&gt;반면 정규화되지 않은 데이터베이스는 여기저기 중복해서 저장된 데이터를 검색하고 일일이 변경해야 한다. 또한 인덱스가 지정된 열의 데이터가 변경되는 경우에는 인덱스도 재구축 해야 한다.&lt;/li&gt;
      &lt;li&gt;하지만 기본키는 분할된 테이블끼리 연계하기 위해 작성한, 이른바 내부적인 데이터임으로 변경될 일은 거의 없다. 따라서 정규화를 통해 테이블에 대한 인덱스의 재구축을 억제할 수 있다.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;정규화&lt;/li&gt;
  &lt;li&gt;제1정규형
    &lt;ul&gt;
      &lt;li&gt;관계형 데이터베이스 테이블에는 하나의 셀에 하나의 값만 저장할 수 있다는 제약이 있음&lt;/li&gt;
      &lt;li&gt;반복되는 데이터를 가로 (열 방향)이 아닌 세로 (행 방향)로 늘리는 것이 제1 정규화의 1단계이다&lt;/li&gt;
      &lt;li&gt;제1정규화에서는 테이블 분할과 기본키 지정이 이루어진다.
        &lt;ul&gt;
          &lt;li&gt;주문 - 주문번호를 기본키로 갖는다&lt;/li&gt;
          &lt;li&gt;주문상품 - 주문번호 + 상품코드를 묶어서 기본키로 갖는다&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;제2정규형
    &lt;ul&gt;
      &lt;li&gt;기본키에 중복이 없는지 조사하여 테이블을 분할한다.&lt;/li&gt;
      &lt;li&gt;이때 기본키에 의해 특정되는 열과 그렇지 않은 열로 나누는 것으로 정규화가 이루어 진다.&lt;/li&gt;
      &lt;li&gt;부분 함수 종속성을 찾아내서 테이블을 분할하는 것이 제2정규화이다
        &lt;ul&gt;
          &lt;li&gt;여기서 함수 종속성이란 키 값을 이용해 데이터를 특정지을수 있는 것을 가리킨다.&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;제3정규형
    &lt;ul&gt;
      &lt;li&gt;기본키 이외의 부분에서 중복이 없는지를 조사하여 테이블을 분할한다.&lt;/li&gt;
      &lt;li&gt;고객 테이블을 분리하고 고객번호라는 기본키를 지정한다.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;제5정규형 까지 있지만 대부분 제3정규형까지의 정규화를 채택한다.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>HTTPS와 SSL 인증서, SSL 동작방법</title>
   <link href="https://wayhome25.github.io/cs/2018/03/11/ssl-https/"/>
   <updated>2018-03-11T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/cs/2018/03/11/ssl-https</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;생활코딩의 ‘https와 ssl 인증서’ 수업과 HTTP 완벽가이드 14장 ‘보안 HTTP’을 읽고 정리한 내용입니다.
개인공부 후 자료를 남기기 위한 목적임으로 내용 상에 오류가 있을 수 있습니다.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;http--https&quot;&gt;HTTP &amp;amp; HTTPS&lt;/h3&gt;

&lt;center&gt;
&lt;figure&gt;
&lt;img src=&quot;https://i.imgur.com/tq9mmGg.png&quot; alt=&quot;views&quot; /&gt;
&lt;figcaption&gt;HTTPS는 HTTP를 안전하게 만드는 방식이다&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ko.wikipedia.org/wiki/HTTP&quot;&gt;HTTP&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;인터넷 상에서 정보를 주고 받기위한 프로토콜(양식과 규칙의 체계)&lt;/li&gt;
      &lt;li&gt;클라이언트와 서버 사이에 이루어지는 요청/응답 프로토콜&lt;/li&gt;
      &lt;li&gt;암호화되지 않은 방법으로 데이터를 전송한다. (악의적인 감청, 데이터 변조의 가능성)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ko.wikipedia.org/wiki/HTTPS&quot;&gt;HTTPS&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;보안이 강화된 HTTP&lt;/li&gt;
      &lt;li&gt;Hypertext Transfer Protocol Over Secure Socket Layer의 약자&lt;/li&gt;
      &lt;li&gt;모든 HTTP 요청과 응답 데이터는 네트워크로 보내지기 전에 암호화된다.&lt;/li&gt;
      &lt;li&gt;HTTPS는 HTTP의 하부에 SSL과 같은 보안계층을 제공함으로써 동작한다.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;center&gt;
&lt;figure&gt;
&lt;img src=&quot;https://i.imgur.com/4GHgl0T.png&quot; alt=&quot;views&quot; /&gt;
&lt;figcaption&gt;HTTPS는 TCP위에 놓인 보안계층(SSL)위의 HTTP이다&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;h2 id=&quot;ssl-디지털-인증서&quot;&gt;SSL 디지털 인증서&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;클라이언트와 서버간의 통신을 공인된 제3자(CA) 업체가 보증해주는 전자화된 문서&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ssl-인증서의-장점-및-역할&quot;&gt;SSL 인증서의 장점 및 역할&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;통신 내용이 노출, 변경되는 것을 방지&lt;/li&gt;
  &lt;li&gt;클라이언트가 접속하려는 서버가 신뢰 할 수 있는 서버인지 확인가능&lt;/li&gt;
  &lt;li&gt;SSL 통신에 사용할 공개키를 클라이언트에게 제공한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ssl에서-사용하는-암호화의-종류&quot;&gt;SSL에서 사용하는 암호화의 종류&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;암호 : 텍스트를 아무나 읽지 못하도록 인코딩하는 알고리즘&lt;/li&gt;
  &lt;li&gt;키 : 암호의 동작을 변경하는 매개변수, 키에 따라서 암호화 결과가 달라지기 떄문에 키를 모르면 복호화가 불가능하다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;대칭키-암호화-방식&quot;&gt;대칭키 암호화 방식&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;인코딩과 디코딩에 같은 키를 사용하는 알고리즘&lt;/li&gt;
  &lt;li&gt;단점 : 단점은 발송자와 수신자가 서로 대화하려면 둘 다 공유키를 가져야 한다는 것이다.&lt;/li&gt;
  &lt;li&gt;대칭키를 전달하는 과정에서 키가 유출이 되면 암호의 내용을 복호화할 수 있기 때문에 위험하다&lt;/li&gt;
  &lt;li&gt;이를 보완하기 위해서 나온 방법이 공개키 암호화 방식이다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;공개키-암호화-방식&quot;&gt;공개키 암호화 방식&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;인코딩과 디코딩에 다른 키를 사용하는 알고리즘&lt;/li&gt;
  &lt;li&gt;A키로 암호화를 하면 B키로 복호화를 할 수 있고, B키로 암호화 하면 A키로 복호화 할 수 있는 방식&lt;/li&gt;
  &lt;li&gt;인코딩 키 (public key)는 공개되어 있으며 (그래서 공개키 암호방식이라는 이름이 붙었다.) 보통 디지털 인증서안에 포함되어 있다.&lt;/li&gt;
  &lt;li&gt;디코딩 키는 (secret key)는 호스트만이 개인 디코딩 키를 알고있다.&lt;/li&gt;
  &lt;li&gt;공개키와 비공개키의 분리는 메시지의 인코딩은 누구나 할 수 있도록 해주는 동시에, 메시지의 디코딩은 비밀키 소유자에게만 부여한다.&lt;/li&gt;
  &lt;li&gt;이는 클라이언트가 서버로 안전하게 메시지를 발송하는 것을 쉽게 해준다.&lt;/li&gt;
  &lt;li&gt;단점 : 공개키 암호화 방식의 알고리즘은 계산이 느린 경향이 있다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;디지털-서명&quot;&gt;디지털 서명&lt;/h3&gt;
&lt;center&gt;
&lt;figure&gt;
&lt;img src=&quot;https://i.imgur.com/NWmUEzb.png&quot; alt=&quot;views&quot; /&gt;
&lt;figcaption&gt;디지털 서명의 동작방식&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;전자 서명을 통해서 누가 메시지를 썼는지 알려주고, 메시지가 위조되지 않았음을 증명할 수 있다. 전자서명은 &lt;strong&gt;SSL 인증서&lt;/strong&gt; 에서 서비스를 보증하는 방법으로 활용된다.&lt;/li&gt;
  &lt;li&gt;공개키와 비공개키는 안전한 데이터 전달 이외에도, &lt;strong&gt;데이터 제공자의 신원을 보장&lt;/strong&gt; 하는데 사용할 수 있다.&lt;/li&gt;
  &lt;li&gt;비공개키의 소유자가 비공개 키를 이용해서 정보를 암호화 =&amp;gt; 공개키와 함께 암호화된 정보를 전송 =&amp;gt; 수신자는 공개키로 암호화된 정보를 복호화&lt;/li&gt;
  &lt;li&gt;암호화된 데이터를 공개키를 가지고 복호화 할 수 있다는 것은 그 데이터가 공개키와 쌍을 이루는 비공개키에 의해서 암호화 되었다는 것을 의미한다.&lt;/li&gt;
  &lt;li&gt;즉 공개키가 데이터를 제공한 사람의 신원을 보장해주게 되는 것이다. 이러한 것을 전자 서명이라고 부른다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ca-certificate-authority&quot;&gt;CA (Certificate Authority)&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;디지털 인증서를 제공하는 공인된 기업 (Certificate Authority 혹은 Root Certificate)&lt;/li&gt;
  &lt;li&gt;대표적인 CA 서비스 제공 기업과 시장점유율
    &lt;ul&gt;
      &lt;li&gt;Symantec (VeriSign, Thawte, Geotrust) with 42.9% market share&lt;/li&gt;
      &lt;li&gt;Comodo with 26%&lt;/li&gt;
      &lt;li&gt;GoDaddy with 14%&lt;/li&gt;
      &lt;li&gt;GlobalSign with 7.7%&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ssl-인증서의-서비스-보증방법-및-동작방법&quot;&gt;SSL 인증서의 서비스 보증방법 및 동작방법&lt;/h2&gt;

&lt;h3 id=&quot;인증서-내용&quot;&gt;인증서 내용&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;인증서의 내용은 CA의 비공개 키를 이용해서 암호화 되어 웹브라우저에게 제공된다.
    &lt;ul&gt;
      &lt;li&gt;서비스 정보 (인증서 발급자, CA의 디지털 서명,서비스 도메인)&lt;/li&gt;
      &lt;li&gt;서버측 공개키&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ssl-인증서의-서비스-보증방법&quot;&gt;SSL 인증서의 서비스 보증방법&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;웹브라우저가 서버에 접속하면 서버는 제일 먼저 인증서를 제공한다.&lt;/li&gt;
  &lt;li&gt;브라우저는 인증서를 발급한 CA가 자신이 갖고있는 CA 리스트에 있는지 확인한다.&lt;/li&gt;
  &lt;li&gt;리스트에 있다면 해당 CA의 공개키를 이용해서 인증서를 복호화 한다.&lt;/li&gt;
  &lt;li&gt;인증서를 복호화 할 수 있다는 것은 이 인증서가 CA의 비공개키에 의해서 암호화 된 것을 의미한다.
즉 데이터를 제공한 사람의 신원을 보장해주게 되는 것이다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ssl-동작방법&quot;&gt;SSL 동작방법&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;공개키 암호 방식은 알고리즘 계산방식이 느린 경향이 있다.&lt;/li&gt;
  &lt;li&gt;따라서 SSL은 암호화된 데이터를 전송하기 위해서 공개키와 대칭키 암호화 방식을 혼합하여 사용한다.&lt;/li&gt;
  &lt;li&gt;안전한 의사소통 채널을 수립할 때는 공개키 암호를 사용하고, 이렇게 만들어진 안전한 채널을 통해서 임시의 무작위 대칭키를 생성 및 교환한다. 해당 대칭키는 나머지 데이터 암호화에 활용한다.
    &lt;ul&gt;
      &lt;li&gt;실제 데이터 암호화 방식 : 대칭키&lt;/li&gt;
      &lt;li&gt;상기 대칭키를 서로 공유하기 위한 암호화 방식 : 공개키&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ssl-통신과정&quot;&gt;SSL 통신과정&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;컴퓨터와 컴퓨터가 네트워크를 통해서 통신을 할때 &lt;code class=&quot;highlighter-rouge&quot;&gt;핸드쉐이크 -&amp;gt; 세션 -&amp;gt; 세션종료&lt;/code&gt; 의 과정을 거친다.&lt;/li&gt;
  &lt;li&gt;암호화된 HTTP 메시지를 교환하기 전에 클라이언트와 서버는 &lt;code class=&quot;highlighter-rouge&quot;&gt;SSL 핸드쉐이크를&lt;/code&gt; 진행한다.&lt;/li&gt;
  &lt;li&gt;핸드쉐이크의 목적은 아래와 같다.
    &lt;ul&gt;
      &lt;li&gt;프로토콜 버전번호 교환&lt;/li&gt;
      &lt;li&gt;양쪽이 알고 있는 pre master secret 키 생성 및 교환&lt;/li&gt;
      &lt;li&gt;양쪽의 신원 인증&lt;/li&gt;
      &lt;li&gt;채널을 암호화 하기 위한 임시 세션 키 생성&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;SSL 통신과정을 간단하게 도식화 하면 아래와 같다.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://opentutorials.org/course/228/4894&quot;&gt;생활코딩 SSL의 동작방법&lt;/a&gt;에 아주 쉽게 설명되어 있어서 함께 참고하면 좋다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;center&gt;
&lt;figure&gt;
&lt;img src=&quot;https://i.imgur.com/YIfy1wK.png&quot; alt=&quot;views&quot; /&gt;
&lt;figcaption&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;h2 id=&quot;참고&quot;&gt;참고&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://opentutorials.org/course/228/4894&quot;&gt;생활코딩 - https와 ssl 인증서&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;amp;ejkGb=KOR&amp;amp;barcode=9788966261208&amp;amp;orderClick=JAj&quot;&gt;HTTP 완벽가이드 14장 ‘보안 HTTP’&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Django 배포연습 4 - uwsgi 를 통한 Django 실행</title>
   <link href="https://wayhome25.github.io/django/2018/03/04/django-deploy-04-uwsgi/"/>
   <updated>2018-03-04T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/django/2018/03/04/django-deploy-04-uwsgi</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;nginx, uwsgi, docker를 활용한 배포 연습 과정을 기록한 글입니다. &lt;br /&gt;
개인 공부 후 자료를 남기기 위한 목점임으로 내용상에 오류가 있을 수 있습니다.&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;nginx, uwsgi를 통해서 아마존 EC2에서 장고 앱 어플리케이션을 실행시켜 보는 것을 목표로 한다.&lt;/li&gt;
    &lt;li&gt;최소한의 설정만을 포함한다.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;uwsgi-실행-옵션&quot;&gt;uWSGI 실행 옵션&lt;/h1&gt;

&lt;h3 id=&quot;웹-서버-관리용-유저-생성&quot;&gt;웹 서버 관리용 유저 생성&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; sudo adduser deploy-user
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;uwsgi-설치&quot;&gt;uWSGI 설치&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;(virtualenv 환경 내부에서)
&amp;gt; pip install uwsgi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;uwsgi-실행-옵션에-대한-설명&quot;&gt;uwsgi 실행 옵션에 대한 설명&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;uwsgi 1)--http 2):8000 3)--home (virtualenv경로) 4)--chdir (django프로젝트 경로) 5)-w (프로젝트명).wsgi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;1-uwsgi를-실행하는데-http로-오는-요청을-받겠다&quot;&gt;1) uwsgi를 실행하는데 http로 오는 요청을 받겠다.&lt;/h5&gt;
&lt;p&gt;nginx &amp;lt;-&amp;gt; wsgi 통신은 기본적으로 socket 방식을 사용한다.
HTTP 방식을 사용할 수 있지만 통신에서 로스가 많이 발생하는 단점이 있다.
그에 비해서 wsgi app은 서버 안쪽에서 서버의 요청을 django 어플리케이션에 중계하는 역할을 하기 때문에
무거운 HTTP 요청을 보다는 socket이라는 전송방식을 사용한다. (HTTP에 비해서 훨씬 가볍게 설정이 가능)&lt;/p&gt;

&lt;h5 id=&quot;2-8000-포트번호로-오는-요청을-받겠다&quot;&gt;2) 8000 포트번호로 오는 요청을 받겠다.&lt;/h5&gt;

&lt;h5 id=&quot;3-uwsgi가-돌아갈-파이썬-환경-홈&quot;&gt;3) uwsgi가 돌아갈 파이썬 환경 홈&lt;/h5&gt;
&lt;p&gt;uwsgi 자체가 파이썬 인터페이스이기 때문에 어떤 파이썬 환경에서 사용할지에 대한 경로가 필요함&lt;/p&gt;

&lt;h5 id=&quot;4-uwsgi가-요청을-받고-실행할-파이썬-어플리케이션의-경로로-이동-change-directory&quot;&gt;4) uwsgi가 요청을 받고 실행할 파이썬 어플리케이션의 경로로 이동 (change directory)&lt;/h5&gt;
&lt;p&gt;manage.py가 있는 source root 폴더를 지정해야함&lt;/p&gt;

&lt;h5 id=&quot;5-실행시-어떤-wsgi-설정-파일을-갖고-실행할지를-지정&quot;&gt;5) 실행시 어떤 wsgi 설정 파일을 갖고 실행할지를 지정&lt;/h5&gt;
&lt;p&gt;chdir 옵션을 통해서 이동한 장고 프로젝트 경로안에서 package 모듈 이름으로 찾는다 &lt;br /&gt;
(config/wsgi가 아닌 config.wsgi)&lt;/p&gt;

&lt;h3 id=&quot;uwsgi-실행-예시-ubuntu-서버에서&quot;&gt;uwsgi 실행 예시 (ubuntu 서버에서)&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;ex) pyenv virtualenv이름이 mysite-env, django프로젝트가 /srv/mysite/django_app, 프로젝트명이 mysite일 경우&lt;/li&gt;
  &lt;li&gt;실행 후 &lt;ec2도메인&gt;:8000으로 접속하여 요청을 잘 받는지 확인&lt;/ec2도메인&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;uwsgi --http :8000 --home ~/.pyenv/versions/mysite-env --chdir /srv/mysite/django_app -w mysite.wsgi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;uwsgi-실행-예시-로컬에서&quot;&gt;uwsgi 실행 예시 (로컬에서)&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;uwsgi는 로컬에서도 동일하게 실행 가능&lt;/li&gt;
  &lt;li&gt;단 wsgi.py 파일에서 settings가 debug를 바라보도록 수정 필요 (ALLOWED_HOSTS에 localhost포함)&lt;/li&gt;
  &lt;li&gt;로컬에서는 debug, 서버에서는 deploy settings를 바라보도록 하려면 wsgi.py 파일을 settings 처럼 분리하는것이 좋음&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;uwsgi --http :8000 --home /usr/local/var/pyenv/versions/deploy_ec2 --chdir /Users/Dev/deploy_ec2/django_app -w config.wsgi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;uwsgi-설정분리-및-실행&quot;&gt;uWSGI 설정분리 및 실행&lt;/h1&gt;

&lt;h3 id=&quot;wsgi-파일-분리하기&quot;&gt;wsgi 파일 분리하기&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;wsgi 파일을 debug/deploy로 분리하여 uwsgi 실행시에 실행환경에 맞는 settings를 바라보도록 조절한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;├── django_app
│   ├── config
│   │   ├── __init__.py
│   │   ├── settings
│   │   │   ├── __init__.py
│   │   │   ├── base.py
│   │   │   ├── debug.py
│   │   │   └── deploy.py
│   │   ├── urls.py
│   │   ├── wsgi.py  &lt;span class=&quot;c&quot;&gt;# runserver용 wsgi 파일&lt;/span&gt;
│   │   └── wsgi  &lt;span class=&quot;c&quot;&gt;# uwsgi용 wsgi 파일&lt;/span&gt;
│   │       ├── __init__.py
│   │       ├── debug.py
│   │       └── deploy.py
│   ├── db.sqlite3
│   └── manage.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;wsgi.py 예시 (runserver시에 사용)&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;os&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.core.wsgi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_wsgi_application&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;environ&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setdefault&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DJANGO_SETTINGS_MODULE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;config.settings.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_wsgi_application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;wsgi 분기 예시 (uwsgi 실행시 사용)&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.core.wsgi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_wsgi_application&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# wsgi/debug.py&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;environ&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setdefault&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DJANGO_SETTINGS_MODULE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;config.settings.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_wsgi_application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# wsgi/deploy.py&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;environ&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setdefault&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DJANGO_SETTINGS_MODULE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;config.settings.deploy&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_wsgi_application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;로컬에서-uwsgi-실행&quot;&gt;로컬에서 uwsgi 실행&lt;/h2&gt;

&lt;h4 id=&quot;uwsgi-debug용-설정-파일-작성-예시&quot;&gt;uWSGI debug용 설정 파일 작성 예시&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;위의 예시와 같이 uwsgi 실행시 모든 옵션을 적어야한다면 번거롭기 때문에 설정파일을 따로 생성한다.&lt;/li&gt;
  &lt;li&gt;참고로 ini 파일에서는 ~/ (home폴더) 사용이 불가능하기 때문에 절대경로 입력이 필요하다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[uwsgi]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;home&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/usr/local/var/pyenv/versions/deploy_ec2&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;chdir&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/Users/Dev/deploy_ec2/django_app&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;config.wsgi.debug&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;http&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;:8000&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;uwsgi-실행&quot;&gt;uwsgi 실행&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;로컬 컴퓨터에서 실행후 localhost:8000 으로 접속 확인&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;uwsgi &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; .config_secret/uwsgi/debug.ini
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ubuntu에서-uwsgi-실행&quot;&gt;ubuntu에서 uwsgi 실행&lt;/h2&gt;

&lt;h4 id=&quot;uwsgi-deploy용-설정-파일-작성-에시&quot;&gt;uWSGI deploy용 설정 파일 작성 에시&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;linux 서버 정보를 기준으로 작성해야 한다.&lt;/li&gt;
  &lt;li&gt;파일경로 예시 : /srv/deploy_ec2/.config_secret/uwsgi/deploy.ini&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[uwsgi]&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Django-related settings
# the base directory (full path)
&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;chdir&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/srv/deploy_ec2/django_app       &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Django's wsgi file
&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;config.wsgi.deploy              &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# the virtualenv (full path)
&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;home&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/home/ubuntu/.pyenv/versions/deploy_ec2 ; VirtualEnv location&lt;/span&gt;

&lt;span class=&quot;py&quot;&gt;uid&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;deploy-user       ; adduser 명령을 통해서 추가한 웹서버 관리용 유저&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;gid&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;deploy-user       ; group id&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# the socket (use the full path to be safe
&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/tmp/ec2.sock  ; 상기 유저가 해당 tmp 폴더에 대해서 모든 권한을 가져아함&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;chmod-socket&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;666      ; 소켓 소유 권한 (읽고, 쓰기)&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;chown-socket&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;deploy-user:deploy-user ;소켓 소유자 adduser 명령을 통해서 추가한 유저 정보 (uid:gid)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# process-related settings
# master
&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;master&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;enable-threads&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;pidfile&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/tmp/ec2.pid&lt;/span&gt;

&lt;span class=&quot;py&quot;&gt;vacuum&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;true                  ;ec2.pid, ec2.sock 파일 자동삭제 (uwsgi 종료시)&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;logger&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;file:/tmp/uwsgi.log   ;log 경로&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;폴더-권한-변경&quot;&gt;폴더 권한 변경&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;/tmp 폴더의 권한을 adduser를 통해서 추가한 deploy-user로 변경&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;uwsgi-실행-1&quot;&gt;uwsgi 실행&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;/tmp/mysite.pid, /tmp/mysite.sock 파일을 생성하고 요청을 받을 준비완료&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; deploy-user /home/ubuntu/.pyenv/versions/deploy_ec2/bin/uwsgi &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; /srv/deploy_ec2/.config_secret/uwsgi/deploy.ini
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;–http 옵션을 추가하면 &lt;AWS DNS=&quot;&quot;&gt;:8000으로 접근 가능&lt;/AWS&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; deploy-user /home/ubuntu/.pyenv/versions/deploy_ec2/bin/uwsgi &lt;span class=&quot;nt&quot;&gt;--http&lt;/span&gt; :8000 &lt;span class=&quot;nt&quot;&gt;-ini&lt;/span&gt; /srv/deploy_ec2/.config_secret/uwsgi/deploy.ini
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;서버-접속시-uwsgi-자동-실행&quot;&gt;서버 접속시 uWSGI 자동 실행&lt;/h1&gt;

&lt;h3 id=&quot;uwsgi-서비스-설정파일-작성&quot;&gt;uWSGI 서비스 설정파일 작성&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://uwsgi-docs.readthedocs.io/en/latest/Systemd.html&quot;&gt;Systemd&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units#service-management&quot;&gt;How To Use Systemctl to Manage Systemd Services and Units&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;작성 파일 경로 : /etc/systemd/system/uwsgi.service&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo vi /etc/systemd/system/uwsgi.service

[Unit]
Description=uWSGI Emperor service
After=syslog.target

[Service]
ExecPre=/bin/sh -c 'mkdir -p /run/uwsgi; chown deploy-user:deploy-user /run/uwsgi'
ExecStart=/home/ubuntu/.pyenv/versions/deploy_ec2/bin/uwsgi --uid deploy_user --gid deploy_user --master --emperor /etc/uwsgi/sites

Restart=always
KillSignal=SIGQUIT
Type=notify
StandardError=syslog
NotifyAccess=all

[Install]
WantedBy=multi-user.target
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;리부팅-시-자동으로-실행되도록-설정&quot;&gt;리부팅 시 자동으로 실행되도록 설정&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;실행 실패시 에러로그는 /var/log/syslog에서 확인할 수 있다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 실행&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl start uwsgi.service
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl &lt;span class=&quot;nb&quot;&gt;enable &lt;/span&gt;uwsgi
&lt;span class=&quot;c&quot;&gt;# 상태확인&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; systemctl status uwsgi

● uwsgi.service - uWSGI Emperor service
   Loaded: loaded &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;/etc/systemd/system/uwsgi.service&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; enabled&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; vendor preset: enabled&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   Active: active &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;running&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; since Sun 2018-03-04 09:51:25 UTC&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 1min 10s ago
 Main PID: 6546 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;uwsgi&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   Status: &lt;span class=&quot;s2&quot;&gt;&quot;The Emperor is governing 0 vassals&quot;&lt;/span&gt;
   CGroup: /system.slice/uwsgi.service
           ├─6546 /home/ubuntu/.pyenv/versions/deploy_ec2/bin/uwsgi &lt;span class=&quot;nt&quot;&gt;--uid&lt;/span&gt; deploy-user &lt;span class=&quot;nt&quot;&gt;--gid&lt;/span&gt; deploy-user &lt;span class=&quot;nt&quot;&gt;--master&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--emperor&lt;/span&gt; /etc/uwsgi/sites
           └─6547 /home/ubuntu/.pyenv/versions/deploy_ec2/bin/uwsgi &lt;span class=&quot;nt&quot;&gt;--uid&lt;/span&gt; deploy-user &lt;span class=&quot;nt&quot;&gt;--gid&lt;/span&gt; deploy-user &lt;span class=&quot;nt&quot;&gt;--master&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--emperor&lt;/span&gt; /etc/uwsgi/sites

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;참고&quot;&gt;참고&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://uwsgi-docs.readthedocs.io/en/latest/tutorials/Django_and_nginx.html&quot;&gt;Setting up Django and your web server with uWSGI and nginx&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://uwsgi-docs.readthedocs.io/en/latest/Systemd.html&quot;&gt;Systemd&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units#service-management&quot;&gt;How To Use Systemctl to Manage Systemd Services and - Units&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://opentutorials.org/course/2598/14217&quot;&gt;생활코딩-항상실행(daemon, service)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Django 배포연습 3 - EC2 ubuntu 서버 인스턴스 생성 및 기본 설정</title>
   <link href="https://wayhome25.github.io/django/2018/03/03/django-deploy-03-ec2/"/>
   <updated>2018-03-03T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/django/2018/03/03/django-deploy-03-ec2</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;nginx, uwsgi, docker를 활용한 배포 연습 과정을 기록한 글입니다. &lt;br /&gt;
개인 공부 후 자료를 남기기 위한 목점임으로 내용상에 오류가 있을 수 있습니다.&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;nginx, uwsgi를 통해서 아마존 EC2에서 장고 앱 어플리케이션을 실행시켜 보는 것을 목표로 한다.&lt;/li&gt;
    &lt;li&gt;최소한의 설정만을 포함한다.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;용어정리&quot;&gt;용어정리&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;가상서버 : CPU와 메모리를 가진 클라우드 내 서버&lt;/li&gt;
  &lt;li&gt;인스턴스 (instance) : AWS에서 가상 서버를 부르는 용어&lt;/li&gt;
  &lt;li&gt;EC2 (Elastic Compute Cloud) : 가상 인스턴스를 운영하는 서비스&lt;/li&gt;
  &lt;li&gt;보안 그룹(security group) : 인스턴스에 대한 트래픽을 제어하는 가상 방화벽 역할&lt;/li&gt;
  &lt;li&gt;IAM (Identity and Access Management) : 사용자 엑세스 및 암호화 키 관리&lt;/li&gt;
  &lt;li&gt;관리 콘솔 : AWS 서비스를 모두 관리하는 사용자 인터페이스&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ec2-인스턴스-생성&quot;&gt;EC2 인스턴스 생성&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/ko/&quot;&gt;aws amazon&lt;/a&gt; 서비스에서 EC2 =&amp;gt; 인스턴스 시작 선택&lt;/li&gt;
  &lt;li&gt;프리티어에서 사용 가능한 Ubuntu Server 16.04 LTS (HVM), SSD Volume Type 선택&lt;/li&gt;
  &lt;li&gt;검토 및 시작을 선택하여 기본 조건을 사용하는 인스턴스를 생성&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;키페어-생성&quot;&gt;키페어 생성&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;EC2 인스턴스 생성시 키 페어 지정이 필요
    &lt;ul&gt;
      &lt;li&gt;퍼블릭 키 : AWS에 저장&lt;/li&gt;
      &lt;li&gt;프리이빗 키 : 사용자가 저장&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;프라이빗 키는 키 페어 생성 시점에 한번만 다운로드 가능&lt;/li&gt;
  &lt;li&gt;키페어를 사용하여 SSH를 통해 EC2 인스턴스에 접속 가능&lt;/li&gt;
  &lt;li&gt;다운받은 .pem파일을 ~/.ssh폴더에 넣기&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/wjweMWs.png&quot; alt=&quot;screen 35&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ssh를-통한-ec2-접속&quot;&gt;SSH를 통한 EC2 접속&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html&quot;&gt;SSH를 사용하여 Linux 인스턴스에 연결&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;.zshrc에 alias를 추가하면 손쉽게 EC2에 접속할 수 있다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ssh &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &amp;lt;인증서위치&amp;gt; &amp;lt;계정&amp;gt;@&amp;lt;인스턴스 퍼블릭 DNS&amp;gt;
ssh &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ~/.ssh/key.pem ubuntu@ec2-1111-11-111lap-northeast-2.compute.amazonaws.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;아래와 같은 에러 발생시 chmod 400 &lt;pem file=&quot;&quot;&gt;로 소유주만 읽을 수 있도록 권한설정을 해준다.&lt;/pem&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
Permissions 0644 for '/Users/Leehyunjoo/.ssh/key-pairs-test.pem' are too open.
It is required that your private key files are NOT accessible by others.
This private key will be ignored.
Load key &quot;/Users/Leehyunjoo/.ssh/key-pairs-test.pem&quot;: bad permissions
Permission denied (publickey).

❯ chmod 400 key-pairs-test.pem
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;iam-유저-생성&quot;&gt;IAM 유저 생성&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;사용자 엑세스 및 암호화 키 관리 (Identity and Access Management)&lt;/li&gt;
  &lt;li&gt;AWS에서 모든 권한을 다 사용할 수 있는 ROOT 유저 대신, 특정 권한만 가진 유저 생성&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/ko/&quot;&gt;aws amazon&lt;/a&gt; 서비스에서 IAM 선택&lt;/li&gt;
  &lt;li&gt;AmazonEC2FullAccess 권한을 가진 IAM 유저 추가&lt;/li&gt;
  &lt;li&gt;참고 : &lt;a href=&quot;https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_users_create.html#id_users_create_console&quot;&gt;AWS 계정의 IAM 사용자 생성&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ec2-인스턴스-ubuntu-기본-설정&quot;&gt;EC2 인스턴스 ubuntu 기본 설정&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;EC2 인스턴스를 생성후 ssh로 ubuntu 서버에 접속하여 기본적인 프로그램을 설치한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;python-pip설치&quot;&gt;python-pip설치&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt-get install python-pip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;zsh-설치&quot;&gt;zsh 설치&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt-get install zsh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;oh-my-zsh-설치&quot;&gt;oh-my-zsh 설치&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo curl -L http://install.ohmyz.sh | sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;default-shell-변경&quot;&gt;Default shell 변경&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo chsh ubuntu -s /usr/bin/zsh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;pyenv-requirements설치&quot;&gt;pyenv requirements설치&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/yyuu/pyenv/wiki/Common-build-problems&quot;&gt;공식문서&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev \
libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;pyenv-설치&quot;&gt;pyenv 설치&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curl -L https://raw.githubusercontent.com/yyuu/pyenv-installer/master/bin/pyenv-installer | bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;pyenv-설정을-zshrc에-기록&quot;&gt;pyenv 설정을 .zshrc에 기록&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;vi ~/.zshrc
export PATH=&quot;/home/ubuntu/.pyenv/bin:$PATH&quot;
eval &quot;$(pyenv init -)&quot;
eval &quot;$(pyenv virtualenv-init -)&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;django-관련-설정&quot;&gt;Django 관련 설정&lt;/h2&gt;

&lt;h3 id=&quot;장고-애플리케이션은-srv-directory-사용&quot;&gt;장고 애플리케이션은 /srv Directory 사용&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;폴더 권한 계정 변경 (root 유저 =&amp;gt; ubuntu 유저)&lt;/li&gt;
  &lt;li&gt;scp 명령 실행시 쓰기 권한을 주기 위함&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.thegeekstuff.com/2010/09/linux-file-system-structure/?utm_source=tuicool&quot;&gt;Linux Directory Structure (File System Structure) Explained with Examples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo chown -R ubuntu:ubuntu /srv/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;프로젝트-소스코드-추가-1---git-clone&quot;&gt;프로젝트 소스코드 추가 1 - git clone&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;github에 올라간 프로젝트 소스코드를 ubuntu 서버에 clone&lt;/li&gt;
  &lt;li&gt;secret_key 등이 포함된 폴더는 공개저장소에 올리지 않기 때문에 별도로 설정해줘야 함&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone &amp;lt;자신의 프로젝트&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;프로젝트-소스코드-추가-2---secure-copy-clone으로-대체-가능&quot;&gt;프로젝트 소스코드 추가 2 - secure copy (clone으로 대체 가능)&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html&quot;&gt;SCP를 사용하여 Linux에서 Linux 인스턴스로 파일 전송&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;scp -i &amp;lt;인증서위차&amp;gt; -r &amp;lt;프로젝트폴더&amp;gt; ubuntu@&amp;lt;인스턴스 퍼블릭 DNS&amp;gt;:/srv/deploy_ec2
scp -i ~/.ssh/key.pem -r /Users/Dev/deploy_ec2/ ubuntu@ec2-111-1111-111.ap-northeast-2.compute.amazonaws.com:/srv/deploy_ec2&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;pyenv-343설치-및-virtualenv생성&quot;&gt;pyenv 3.4.3설치 및 virtualenv생성&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cd &amp;lt;clone 혹은 copy한 프로젝트 폴더&amp;gt;
pyenv install 3.4.3
pyenv virtualenv deploy_ec2
pyenv local deploy_ec2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;requirements설치&quot;&gt;requirements설치&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pip install -r requirements.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;runserver-테스트&quot;&gt;runserver 테스트&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;0:8000 으로 지정필요&lt;/li&gt;
  &lt;li&gt;웹 브라우저에서 &lt;퍼블릭 DNS:8000=&quot;&quot;&gt; 로 접속하기 위해서는 보안그룹(security group) 설정이 필요&lt;/퍼블릭&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cd deploy_ec2/django_app/
python manage.py runserver 0:8000 --settings=config.settings.debug
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;보안그룹-인바운드-설정-수정&quot;&gt;보안그룹 인바운드 설정 수정&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;보안 그룹(security group)은 하나 이상의 인스턴스에 대한 트래픽을 제어하는 가상 방화벽 역할&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/using-network-security.html&quot;&gt;Linux 인스턴스에 대한 Amazon EC2 보안 그룹&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;보안그룹 기본 인바운드 설정
    &lt;ul&gt;
      &lt;li&gt;Type: SSH&lt;/li&gt;
      &lt;li&gt;Protocol: TCP&lt;/li&gt;
      &lt;li&gt;Port Range: 22&lt;/li&gt;
      &lt;li&gt;Source : 0.0.0.0/0 (전세계 어디서나)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;SSH 접속은 사무실 혹은 집의 ip 에서만 가능하도록&lt;/li&gt;
  &lt;li&gt;Custom TCP Rule 8000번 포트 추가 (runserver시 8000번 포트를 통해서 접속)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/gtjIuzD.png&quot; alt=&quot;screen 36&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;allowed_hosts-설정&quot;&gt;ALLOWED_HOSTS 설정&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;settings.py의 ALLOWED_HOSTS에 특정 서버의 IP주소나 도메인에 대해서만 장고 웹어플리케이션이 서빙을 수행할 수 있도록 한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ALLOWED_HOSTS = [
	'&amp;lt;ec2 domain name'&amp;gt;,
	또는
	'.amazonaws.com',  # 구체적으로 작성하는 편이 좋음
]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;참고&quot;&gt;참고&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://awsblogskr.s3-ap-northeast-2.amazonaws.com/pdf/2015-06-djangogirls-seoul-aws.pdf&quot;&gt;Django Girs를 위한 Django on AWS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.awskr.org/2017/01/your-aws-first-days-todo-list/&quot;&gt;당신이 AWS 계정을 만들고 가장 먼저 해야 할 일 들과 하지 말아야 할 일 들&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Django 배포연습 2 - nginx, wsgi 개념</title>
   <link href="https://wayhome25.github.io/django/2018/03/03/django-deploy-02-nginx-wsgi/"/>
   <updated>2018-03-03T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/django/2018/03/03/django-deploy-02-nginx-wsgi</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;nginx, uwsgi, docker를 활용한 배포 연습 과정을 기록한 글입니다. &lt;br /&gt;
개인 공부후 자료를 남기기 위한 목점임으로 내용상에 오류가 있을 수 있습니다.&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;nginx, uwsgi를 통해서 아마존 EC2에서 장고 앱 어플리케이션을 실행시켜 보는 것을 목표로 한다.&lt;/li&gt;
    &lt;li&gt;최소한의 설정만을 포함한다.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/H9JNiKu.png&quot; alt=&quot;toy architecture&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;1-클라이언트&quot;&gt;1. 클라이언트&lt;/h4&gt;
&lt;p&gt;웹서버(Nginx)로 HTTP 요청&lt;/p&gt;

&lt;h4 id=&quot;2-웹서버nginx&quot;&gt;2. 웹서버(Nginx)&lt;/h4&gt;
&lt;p&gt;웹 서버. 클라이언트로부터의 HTTP요청을 받아 정적인 페이지/파일을 돌려준다. (동적인 부분은 uWSGI가 담당)
가벼움과 높은 성능을 목표로 한다. 웹 서버, 리버스 프록시 및 메일 프록시 기능을 가진다.&lt;/p&gt;

&lt;h4 id=&quot;3-unix-socket&quot;&gt;3. Unix Socket&lt;/h4&gt;
&lt;p&gt;웹서버(Nginx) - 웹어플리케이션서버(uWSGI) 사이의 통신을 매개
HTTP 요청을 사용할 수도 있지만 서버 안쪽에서의 통신이기 때문에 socket 방식이 overhead가 적어서 더 효율이 좋음&lt;/p&gt;

&lt;h4 id=&quot;4-웹어플리케이션서버uwsgi&quot;&gt;4. 웹어플리케이션서버(uWSGI)&lt;/h4&gt;
&lt;p&gt;웹 서버(Nginx)와 웹 애플리케이션(Django)간의 연결을 중계
(Nginx에서 받은 요청을 Django에서 처리하기 위한 중계인 역할을 해준다)
Nginx는 Python을 모르기 때문에 uWSGI는 HTTP 요청을 python으로,
Django로 부터 받은 응답을 Nginx가 알 수 있도록 변환해준다.&lt;/p&gt;

&lt;h4 id=&quot;5-django&quot;&gt;5. Django&lt;/h4&gt;
&lt;p&gt;웹 애플리케이션. 웹 요청에 대해 동적데이터를 돌려준다.&lt;/p&gt;

&lt;h4 id=&quot;wsgi&quot;&gt;WSGI&lt;/h4&gt;
&lt;p&gt;Web Server Gateway Interface&lt;br /&gt;
파이썬에서 웹 서버와 웹 애플리케이션간의 동작을 중계해주는 인터페이스 표준
웹클라이언트의 HTTP 프로토콜 요청을 Python Call로 변환하기 위한 매핑관계로 WSGI를 표준으로 사용
uWSGI는 WSGI 표준의 구현 (&lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%9B%B9_%EC%84%9C%EB%B2%84_%EA%B2%8C%EC%9D%B4%ED%8A%B8%EC%9B%A8%EC%9D%B4_%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4&quot;&gt;Wikipedia&lt;/a&gt;)&lt;/p&gt;

&lt;h2 id=&quot;참고&quot;&gt;참고&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://technerd.tistory.com/55&quot;&gt;AWS EC2 인스턴스에 Django+Nginx+uWSGI+PostgreSQL로 배포하기&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://software-engineer.gatsbylee.com/w-htm/&quot;&gt;Python WSGI server와 관련된 공부&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Django 배포연습 1 - settings, wsgi 분리</title>
   <link href="https://wayhome25.github.io/django/2018/03/03/django-deploy-01-settings/"/>
   <updated>2018-03-03T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/django/2018/03/03/django-deploy-01-settings</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;nginx, uwsgi, docker를 활용한 배포 연습 과정을 기록한 글입니다. &lt;br /&gt;
개인 공부후 자료를 남기기 위한 목점임으로 내용상에 오류가 있을 수 있습니다.&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;nginx, uwsgi를 통해서 아마존 EC2에서 장고 앱 어플리케이션을 실행시켜 보는 것을 목표로 한다.&lt;/li&gt;
    &lt;li&gt;최소한의 설정만을 포함한다.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;settingspy-분리하기&quot;&gt;settings.py 분리하기&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;배포 전에 다양한 프로젝트 설정을 포함하는 settings.py를 실행환경별로 분리한다.&lt;br /&gt;
(실행 환경별로 필요한 프로젝트 설정이 다르기 때문)
    &lt;ul&gt;
      &lt;li&gt;base.py (공통)&lt;/li&gt;
      &lt;li&gt;debug.py (개발용)&lt;/li&gt;
      &lt;li&gt;deploy.py (배포용)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;장고 어플리케이션의 기본 진입점
    &lt;ul&gt;
      &lt;li&gt;manage.py&lt;/li&gt;
      &lt;li&gt;프로젝트/wsgi.py&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;설정파일-구성&quot;&gt;설정파일 구성&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;각각의 설정파일에서 사용할 데이터 담은 파일을 .config_secret 폴더 안에 만든다.&lt;/li&gt;
  &lt;li&gt;.gitignore 파일에 해당 폴더를 추가하여 저장소에서 관리되지 않도록 한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;project_folder/
    .config_secret/
        settings_common.json
        settings_debug.json
        settings_deploy.json
    django_app/
        config/
            settings/
              __init__.py
              base.py
              debug.py
              deploy.py
            wsgi
              __init__.py
              debug.py
              deploy.py
            __init__py
            urls.py
        manage.py  
    ..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;settings_commonjson-예시&quot;&gt;settings_common.json 예시&lt;/h3&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;django&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;secret_key&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Django project secret key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;settings_debugjson-예시&quot;&gt;settings_debug.json 예시&lt;/h3&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;django&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;allowed_hosts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;.compute.amazonaws.com&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;settings_deployjson-예시&quot;&gt;settings_deploy.json 예시&lt;/h3&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;django&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;allowed_hosts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;.compute.amazonaws.com&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;settingspy에서-json-데이터-참조하기&quot;&gt;settings.py에서 json 데이터 참조하기&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;참고 : &lt;a href=&quot;https://wayhome25.github.io/django/2017/07/11/django-settings-secret-key/&quot;&gt;settings.py 의 SECRET_KEY 변경 및 분리하기&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;basepy-예시&quot;&gt;base.py 예시&lt;/h3&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;BASE_DIR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abspath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__file__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ROOT_DIR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BASE_DIR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# .config_secret 폴더 및 하위 파일 경로&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;CONFIG_SECRET_DIR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ROOT_DIR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'.config_secret'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;CONFIG_SECRET_COMMON_FILE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONFIG_SECRET_DIR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'settings_common.json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;CONFIG_SECRET_DEBUG_FILE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONFIG_SECRET_DIR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'settings_debug.json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;CONFIG_SECRET_DEPLOY_FILE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONFIG_SECRET_DIR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'settings_deploy.json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;config_secret_common&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONFIG_SECRET_COMMON_FILE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;SECRET_KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config_secret_common&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'django'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'secret_key'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;debugpy-예시&quot;&gt;debug.py 예시&lt;/h3&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;.base&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;config_secret_debug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONFIG_SECRET_DEBUG_FILE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;DEBUG&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ALLOWED_HOSTS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config_secret_debug&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'django'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'allowed_hosts'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# WSGI application&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;WSGI_APPLICATION&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'config.wsgi.debug.application'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;deploypy-예시&quot;&gt;deploy.py 예시&lt;/h3&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;.base&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;config_secret_deploy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONFIG_SECRET_DEPLOY_FILE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;DEBUG&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ALLOWED_HOSTS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config_secret_deploy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'django'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'allowed_hosts'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# WSGI application&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;WSGI_APPLICATION&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'config.wsgi.deploy.application'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;wsgi-분리하기&quot;&gt;wsgi 분리하기&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;uwsgi 명령을 통해서 직접 웹어플리케이션 서버를 실행할때 사용할 설정 파일을 실행환경별로 분리한다.
(실행 환경별로 필요한 프로젝트 설정이 다르기 때문)
    &lt;ul&gt;
      &lt;li&gt;base.py (공통)&lt;/li&gt;
      &lt;li&gt;debug.py (개발용)&lt;/li&gt;
      &lt;li&gt;deploy.py (배포용)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;설정파일-구성-1&quot;&gt;설정파일 구성&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;project_folder/
    .config_secret/
        settings_common.json
        settings_debug.json
        settings_deploy.json
    django_app/
        config/
            settings/
              __init__.py
              base.py
              debug.py
              deploy.py
            wsgi
              __init__.py
              debug.py
              deploy.py
            __init__py
            urls.py
        manage.py  
    ..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;wsgidebugpy-예시&quot;&gt;wsgi/debug.py 예시&lt;/h3&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;os&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.core.wsgi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_wsgi_application&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;environ&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setdefault&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DJANGO_SETTINGS_MODULE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;config.settings.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_wsgi_application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;wsgideploypy-예시&quot;&gt;wsgi/deploy.py 예시&lt;/h3&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;os&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.core.wsgi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_wsgi_application&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;environ&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setdefault&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DJANGO_SETTINGS_MODULE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;config.settings.deploy&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_wsgi_application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;runserver&quot;&gt;runserver&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;장고는 DJANGO_SETTINGS_MODULE 환경변수를 통해서 참고할 settings 파일의 경로를 확인한다.&lt;/li&gt;
  &lt;li&gt;환경변수가 설정되지 않으면 &lt;a href=&quot;https://github.com/django/django/blob/1.10.6/django/conf/project_template/project_name/wsgi.py-tpl&quot;&gt;wsgi.py&lt;/a&gt; 의 설정값을 사용&lt;/li&gt;
  &lt;li&gt;혹은 &lt;code class=&quot;highlighter-rouge&quot;&gt;python3 manage.py runserver&lt;/code&gt; 시에 &lt;code class=&quot;highlighter-rouge&quot;&gt;--settings&lt;/code&gt; 옵션을 통해서 지정 가능&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&quot;language-commandline&quot;&gt;# local development
python3 manage.py runserver --settings=config.settings.debug

# 환경변수 설정예시
export DJANGO_SETTINGS_MODULE=config.settings.debug
echo $DJANGO_SETTINGS_MODULE
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;참고&quot;&gt;참고&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.djangoproject.com/en/1.11/topics/settings/&quot;&gt;Django settings&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.djangoproject.com/en/1.11/howto/deployment/wsgi/&quot;&gt;How to deploy with WSGI&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://cjh5414.github.io/django-settings-separate/&quot;&gt;Open Menu
Django settings.py 환경을 여러 개의 설정 파일로 분리하여 사용하기&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>SSH 접속시 iterm2 zsh 테마 바꾸기</title>
   <link href="https://wayhome25.github.io/etc/2018/01/28/ssh-iterm2-theme/"/>
   <updated>2018-01-28T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/etc/2018/01/28/ssh-iterm2-theme</id>
   <content type="html">&lt;p&gt;ssh 접속시 터미널 테마가 똑같으면 내가 로컬에 있는지 서버에 접속해있는지 헷갈릴 때가 있다.  &lt;br /&gt;
간단한 설정을 통해서 ssh 접속시 zsh 테마가 바뀌도록 할 수 있었다.&lt;/p&gt;

&lt;h3 id=&quot;profile-만들기&quot;&gt;Profile 만들기&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;iterm2-Preferences-profile 메뉴에서 2개의 프로필을 만든다.&lt;/li&gt;
  &lt;li&gt;평소에 사용할 프로필 (Default) 컬러 테마는 Solarized Dark&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/4GpPDwE.png&quot; alt=&quot;screen 16&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ssh 접속시 사용할 프로필 (SSH) 컬러 테마는 Dracula 로 각각 설정했다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/NLVHL20.png&quot; alt=&quot;screen 17&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;oh-my-zshcustom-경로에-iterm2-sshzsh-파일-추가하기&quot;&gt;~/.oh-my-zsh/custom 경로에 iTerm2-ssh.zsh 파일 추가하기&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;vim ~/.oh-my-zsh/custom/iTerm2-ssh.zsh&lt;/code&gt; 를 입력하고 해당 파일에 아래 내용을 추가한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;tabc&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-z&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Default&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fi
  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33]50;SetProfile=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\a&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;tab-reset&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Default&quot;&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Default 라는 이름의 프로필 생성필요&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33]50;SetProfile=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\a&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;colorssh&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ITERM_SESSION_ID&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
        &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;trap&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;tab-reset&quot;&lt;/span&gt; INT EXIT
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$*&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;~ &lt;span class=&quot;s2&quot;&gt;&quot;web*|production|ec2-.*compute-1|stage&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
            &lt;/span&gt;tabc SSH   &lt;span class=&quot;c&quot;&gt;# SSH 라는 이름의 프로필 생성필요&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;fi
    fi
    &lt;/span&gt;ssh &lt;span class=&quot;nv&quot;&gt;$*&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
compdef _ssh &lt;span class=&quot;nv&quot;&gt;tabc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;ssh

&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ssh&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;colorssh&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;변경내용-확인하기&quot;&gt;변경내용 확인하기&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;터미널을 재시작하고&lt;/li&gt;
  &lt;li&gt;ssh 명령어 뒤에 아래와 같은 문자열이 오면 ssh 접속시 컬러 테마가 Dracula로 바뀌는 것을 확인할 수 있다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; ssh web &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; ssh ec2-.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;compute-1
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; ssh production
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; ssh stage
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;참고자료&quot;&gt;참고자료&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;https://github.com/hectorleiva/iterm2-ssh-color-scheme&lt;/li&gt;
  &lt;li&gt;https://coderwall.com/p/t7a-tq/change-terminal-color-when-ssh-from-os-x&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>매개변수(parameter)와 전달인자(argument)</title>
   <link href="https://wayhome25.github.io/etc/2017/12/31/parameter-argument/"/>
   <updated>2017-12-31T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/etc/2017/12/31/parameter-argument</id>
   <content type="html">&lt;p&gt;종종 매개변수(parameter)와 전달인자(argument)는 적당히 섞어서 쓰이기도 하는데, 이 경우 문맥에 따라 의미를 달리해서 해석되기도 한다. 하지만 엄밀히 말해서 매개변수는 함수의 정의부분에 나열되어 있는 변수들을 의미하며, 전달인자는 함수를 호출할때 전달되는 실제 값을 의미한다. 이같은 의미를 명확히 하기 위해 매개변수는 변수(variable)로, 전달인자는 값(value)으로 보는 것이 일반적이다.&lt;/p&gt;

&lt;p&gt;매개변수는 함수의 정의 부분에서 볼 수 있으며, 전달인자는 함수를 호출하는 부분에서 볼 수 있다. f(x) = x*x와 같은 함수 정의 부분에서 변수 ‘x’가 매개변수가 되며, f(2)와 같은 함수 호출 부분에서 값 ‘2’ 가 함수의 전달인자가 된다.&lt;/p&gt;

&lt;p&gt;각각의 매개변수는 함수의 정의 부분에 포함되어 있는 고유한 특성이다. 예를 들어, (대다수의 언어에서는) 입력으로 들어온 2개의 정수를 더해서 합을 계산해 주는 함수의 경우 정수 형태의 매개변수 2개가 필요하다. 일반적으로 함수는 몇개의 매개변수를 가지든 상관없으며, 매개변수가 하나도 없을 수도 있다. 만약 함수가 매개변수를 가질 경우, 각각의 매개변수에 대한 정의를 나열해 놓은 것을 매개변수 목록(parameter list) 이라고 한다.&lt;/p&gt;

&lt;p&gt;반면 전달인자는 함수가 호출될때 제공되는 값들을 말하며, 함수 정의의 한 부분으로 바뀌지 않는 매개변수와는 달리 호출 할 때마다 값이 바뀔 수 있다. 함수를 호출하는 부분에서 전달인자를 나열해 놓을 것을 전달인자 목록(argument list) 이라고 한다.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# parameter (매개변수)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# 함수의 정의 부분에 나열되어 있는 변수, 여기서는 plus 함수 정의시에 사용되는 a, b를 parameter(매개변수) 라고 한다.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# argument (전달인자)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# 함수를 호출할때 전달 되는 실제 값, 여기서는 plus 라는 함수에 넣어주는 값 1, 2를 argument(전달인자)라고 한다.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;참고
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://ko.wikipedia.org/wiki/%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98_(%EC%BB%B4%ED%93%A8%ED%84%B0_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D)&quot;&gt;위키 - 매개변수와 전달인자&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;http://wondy1128.tistory.com/125&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>update_fields - 어떤 필드를 저장할지 지정하기</title>
   <link href="https://wayhome25.github.io/django/2017/12/31/specifying-which-fields-to-dave/"/>
   <updated>2017-12-31T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/django/2017/12/31/specifying-which-fields-to-dave</id>
   <content type="html">&lt;p&gt;만약 save() 메소드 호출시에 update_fields 라는 키워드 인자로 필드 이름 리스트가 함께 전달 된다면, 해당 필드 목록만 업데이트 될 것이다. 당신이 하나의 필드 혹은 몇개의 필드만 업데이트 하려고 할 때 유용하게 사용될 수 있다. 그리고 DB의 모든 모델 필드가 업데이트 되는걸 막음으로써 약간의 성능적인 이점도 있다.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;product&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'Name changed again'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;product&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;update_fields&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'name'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;update_fields 전달인자는 모든 반복가능한 문자열을 포함할 수 있다. update_fields=[]와 같이 빈 update_fields를 포함하면 save 메소드는 아무것도 수행하지 않고 생략된다. update_fields=None 의 경우에는 모든 필드에 대해서 업데이트를 수행한다.&lt;/p&gt;

&lt;p&gt;update_fields를 지정함으로써 업데이트를 강제할 수 있다.&lt;/p&gt;

&lt;p&gt;지연 모델 로딩(&lt;a href=&quot;https://docs.djangoproject.com/ko/2.0/ref/models/querysets/#django.db.models.query.QuerySet.only&quot;&gt;only()&lt;/a&gt; 혹은 &lt;a href=&quot;https://docs.djangoproject.com/ko/2.0/ref/models/querysets/#defer&quot;&gt;defer()&lt;/a&gt;)을 통해서 가져온 모델을 저장할때, DB로부터 로딩된 필드만 업데이트 된다. 사실상 이 경우 자동 update_fields 가 지정된다. 만약 당신이 지연된 필드에 새로운 값을 지정하거나 수정을 한다면, 해당 필드는 updated fields에 자동으로 지정될 것이다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;참고
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://docs.djangoproject.com/ko/2.0/ref/models/instances/#specifying-which-fields-to-save&quot;&gt;Specifying which fields to save&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.facebook.com/groups/django/permalink/629063510463485&quot;&gt;facebook Django 그룹&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>(번역) RESTful API Designing guidelines — The best practices</title>
   <link href="https://wayhome25.github.io/etc/2017/11/26/restful-api-designing-guidelines/"/>
   <updated>2017-11-26T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/etc/2017/11/26/restful-api-designing-guidelines</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://hackernoon.com/restful-api-designing-guidelines-the-best-practices-60e1d954e7c9&quot;&gt;RESTful API Designing guidelines — The best practices&lt;/a&gt; 번역글 입니다.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;center&gt;
&lt;img src=&quot;https://i.imgur.com/mJeU8Gg.jpg&quot; alt=&quot;views&quot; /&gt;
&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Facebook, Google, Github, Netflix와 같은 거대한 테크기업은 API를 통해서 개발자들과 프로덕트들이 자신들의 데이터를 사용할 수 있도록 하고, 그들을 위한 플랫폼이 되었다.
비록 당신이 다른 개발자들과 프로덕트를 위한 API를 개발하고 있지 않더라도, 잘 만들어진 API를 갖고 있는 것은 당신의 어플리케이션을 위해서도 좋다.&lt;/p&gt;

&lt;p&gt;인터넷에서는 오랫동안 API 디자인을 위한 가장 좋은 방법에 대해서 논의가 이루어졌다. 하지만 통일된 공식적인 가이드라인은 없다.&lt;/p&gt;

&lt;p&gt;API는 많은 개발자들이 데이터와 상호작용을 하기 위한 인터페이스이다. 잘 디자인된 API는 사용하기 쉽고, 개발자들의 삶을 편하게 만들어준다. API는 개발자를 위한 GUI이며, 만약 사용하기 혼란스럽거나 설명이 부족하다면 개발자들은 대체물을 찾아서 떠날 것이다. 개발자 경험은 API의 질을 측정함에 있어서 가장 중요한 기준이라고 할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;center&gt;
&lt;figure&gt;
&lt;img src=&quot;https://i.imgur.com/wr8xXR5.jpg&quot; alt=&quot;views&quot; /&gt;
&lt;figcaption&gt;API는 무대에서 공연하는 아티스트이고, 사용자는 관객이다.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

&lt;h3 id=&quot;1-용어&quot;&gt;1) 용어&lt;/h3&gt;
&lt;p&gt;다음은 REST API에 관련된 가장 중요한 용어들이다.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Resource&lt;/strong&gt; 는 어떤 것의 대표 혹은 객체이다. 이는 관련 데이터를 갖고 있고, 이를 운용하기 위한 메소드 집합을 가질 수 있다.&lt;br /&gt;
예:  Animals, schools, employees는 resources이고 delete, add, update는 이 resources들에서 수행되는 operations이다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Collections&lt;/strong&gt; 는 resources의 집합이다. &lt;br /&gt;
예: Companies는 Company resource의 집합니다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;URL&lt;/strong&gt; (Uniform Resource Locator)은 어느 resource가 어디에 위치할 수 있고, 어떤 action들이 수행될 수 있는지를 나타내는 경로이다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;2-api-endpoint&quot;&gt;2) API endpoint&lt;/h3&gt;
&lt;p&gt;더 이해하기 위해서 Employees를 가진 Companies에 대한 API를 작성해보자.
&lt;code class=&quot;highlighter-rouge&quot;&gt;/getAllEmployees&lt;/code&gt; 는 employees의 리스트를 response하는 API이다. Company에 관련된 API는 다음과 같은 것이 존재할 수 있다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;/addNewEmployee&lt;/li&gt;
  &lt;li&gt;/updateEmployee&lt;/li&gt;
  &lt;li&gt;/deleteEmployee&lt;/li&gt;
  &lt;li&gt;/deleteAllEmployees&lt;/li&gt;
  &lt;li&gt;/promoteEmployee&lt;/li&gt;
  &lt;li&gt;/promoteAllEmployees&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;그리고 다른 operations을 위해서 아주 많은 API endpoints가 존재할 수 있다. 이는 많은 중복을 포함하고 있고, 이러한 API endpoints는 수가 증가함에 따라서 유지보수가 힘들어진다.&lt;/p&gt;

&lt;h4 id=&quot;무엇이-문제일까&quot;&gt;무엇이 문제일까?&lt;/h4&gt;
&lt;p&gt;URL은 오직 resources(명사)만 포함해야 하며 동사나 actions를 포함해서는 안된다. API path &lt;code class=&quot;highlighter-rouge&quot;&gt;/addNewEmployee&lt;/code&gt; 는 action 인 &lt;code class=&quot;highlighter-rouge&quot;&gt;addNew&lt;/code&gt; 를 resource 이름은 Employee와 함께 포함하고 있다.&lt;/p&gt;

&lt;h4 id=&quot;그럼-무엇이-올바른-방법일까&quot;&gt;그럼 무엇이 올바른 방법일까?&lt;/h4&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/companies&lt;/code&gt; endpoint는 action을 포함하지 않는 좋은 예시이다. 그럼 이럴 땐 어떻게 서버에게 해당 &lt;code class=&quot;highlighter-rouge&quot;&gt;companies&lt;/code&gt; resource에 대해서 add, delete, update와 같은 actions을 수행하도록 알려줄 수 있을까?&lt;/p&gt;

&lt;p&gt;이는 동사인 HTTP 메소드 (GET, POST, DELETE, PUT)가 그 역할을 수행할 수 있다.&lt;/p&gt;

&lt;p&gt;resource는 언제나 API endpoint에서 &lt;strong&gt;복수형&lt;/strong&gt; 이어야 한다. 그리고 만약 resource의 특정 인스턴스에 접근하고 싶다면 URL에 id를 전달하여 접근할 수 있다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;method &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; path &lt;code class=&quot;highlighter-rouge&quot;&gt;/companies&lt;/code&gt; 는 companies의 모든 목록을 가져온다.&lt;/li&gt;
  &lt;li&gt;method &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; path &lt;code class=&quot;highlighter-rouge&quot;&gt;/companies/34&lt;/code&gt; 는 company 34의 상세 내용을 가져온다.&lt;/li&gt;
  &lt;li&gt;method &lt;code class=&quot;highlighter-rouge&quot;&gt;DELETE&lt;/code&gt; path &lt;code class=&quot;highlighter-rouge&quot;&gt;/companies/34&lt;/code&gt; 는 company 34를 삭제한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;몇 가지 다른 사용 사례에서 resource 아래에 여러 개의 resources가 있는 경우 (예 : 회사의 직원들), API endpoint는 아래와 같을 수 있다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /companies/3/employees&lt;/code&gt; 는 company 3에 속하는 employees 전체 목록을 가져온다.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /companies/3/employees/45&lt;/code&gt; 는 company 3에 속하는 employee 45의 상세 내용을 가져온다.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;DELETE /companies/3/employees/45&lt;/code&gt; 는 company 3에 속하는 employee 45를 삭제한다.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;POST /companies&lt;/code&gt; 는 새로운 company를 생성하고, 생성된 company의 상세 내용을 리턴한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;이와 같은 API가 더 일관성 있고 정확하지 않은가?&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;결론&lt;/strong&gt;: path는 resources의 복수형을 포함해야 하고, HTTP 메소드는 해당 resource를 대상으로 수행되는 action의 종류를 정의해야 한다.&lt;/p&gt;

&lt;h3 id=&quot;3-http-methods-동사&quot;&gt;3) HTTP methods (동사)&lt;/h3&gt;
&lt;p&gt;HTTP는 resources를 대상으로 수행할 수 있는 몇 가지 타입의 methods를 정의해두고 있다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt; URL은 문장이고, resources는 명사이며 HTTP methods는 동사이다.&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;주요 HTTP methods 는 아래와 같다.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; method는 resource로 부터 데이터를 요청하며, 어떤 side effect도 발생시켜서는 안 된다.&lt;br /&gt;
예: &lt;code class=&quot;highlighter-rouge&quot;&gt;/companies/3/employees&lt;/code&gt; 는 company 3에 속하는 모든 employees를 리턴한다.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;POST&lt;/code&gt; method는 database에 resource를 생성하도록 서버에 요청하며, 대부분 web form 형식으로 제출된다.&lt;br /&gt;
예: &lt;code class=&quot;highlighter-rouge&quot;&gt;/companies/3/employees&lt;/code&gt; 는 company 3에 새로운 employee를 생성한다.  &lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;POST&lt;/code&gt;는 멱등성을 갖지 않으며 여러번의 request는 각각 다른 영향을 미친다.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;PUT&lt;/code&gt; method는 resource를 업데이트 하거나, 만약 존재하지 않는 경우 생성하도록 서버에 요청한다.&lt;br /&gt;
예: &lt;code class=&quot;highlighter-rouge&quot;&gt;/companies/3/employees/john&lt;/code&gt; 는 company 3에 속하는 employees collection에 john이라는 resource를 업데이트하거나 생성하도록 서버에 요청한다.&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;PUT&lt;/code&gt;은 멱등성을 가지며, 여러 번의 request는 같은 영향을 미친다.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;DELETE&lt;/code&gt; method는 resources 혹은 그것의 인스턴스를 database에서 삭제하도록 요청한다.&lt;br /&gt;
예: &lt;code class=&quot;highlighter-rouge&quot;&gt;/companies/3/employees/john/&lt;/code&gt; 는 company 3에 속하는 employees collection에서 john이라는 resource를 삭제하도록 서버에 요청한다.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;4-http-response-status-codes&quot;&gt;4) HTTP response status codes&lt;/h3&gt;
&lt;p&gt;API를 통해서 클라이언트가 서버에 request를 발생시키면 클라이언트는 해당 request가 성공, 실패 혹은 request 자체가 잘못되었는지 등의 결과를 얻을 수 있어야 한다. HTTP status code는 다양한 시나리오에서의 상황을 설명할 수 있는 표준화된 코드이다. 아래는 HTTP 코드의 주요 카테고리 분류이다.&lt;/p&gt;

&lt;h4 id=&quot;2xx-success--category&quot;&gt;2xx (Success  Category)&lt;/h4&gt;
&lt;p&gt;해당 status code 들은 request가 정상 수신되고 서버를 통해서 성공적으로 수행되었음을 나타낸다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;200 Ok&lt;/strong&gt; GET, PUT, POST 성공을 대표하는 표준 HTTP response&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;201 Created&lt;/strong&gt; 해당 status code는 새로운 인스턴스 생성 시 리턴되어야 한다. 예를 들면 POST 메소드를 사용하여 새로운 인스턴스가 생성되면 항상 201 status code를 리턴한다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;204 No Content&lt;/strong&gt; 는 request가 성공적으로 수행되었으나 아무것도 리턴되지 않음을 의미한다. 대표적인 예로 DELETE가 있다. API &lt;code class=&quot;highlighter-rouge&quot;&gt;DELETE /companies/43/employees/2&lt;/code&gt; 는 employee 2를 삭제하고 리턴되는 API response body에는 아무런 데이터도 필요하지 않다. 이는 시스템에 명시적으로 삭제하도록 요청했기 때문이다.
만약 &lt;code class=&quot;highlighter-rouge&quot;&gt;employee 2&lt;/code&gt;가 데이터베이스에 존재하지 않는 것과 같은 에러가 발생한다면, &lt;code class=&quot;highlighter-rouge&quot;&gt;2xx Success Category&lt;/code&gt; 가 아닌, &lt;code class=&quot;highlighter-rouge&quot;&gt;4xx Client Error category&lt;/code&gt; response code를 리턴하게 된다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;3xx-redirection-category&quot;&gt;3xx (Redirection Category)&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;304 Not Modified&lt;/strong&gt; 는 client가 해당 response를 이미 캐시로 갖고 있음을 의미한다. 따라서 같은 데이터를 다시 전달할 필요가 없다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;4xx-client-error-category&quot;&gt;4xx (Client Error Category)&lt;/h4&gt;
&lt;p&gt;아래의 status code들은 client가 잘못된 request를 전달했음을 의미한다.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;400 Bad Request&lt;/strong&gt; 는 client의 요청사항을 서버가 이해하지 못해서 request가 정상적으로 수행되지 않았음을 의미한다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;401 Unauthorized&lt;/strong&gt; 는 client가 resources에 대한 접근 권한이 없으며 필요한 자격을 갖추고 다시 request 해야 함을 의미한다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;403 Forbidden&lt;/strong&gt; 는 request가 유효하며, client의 권한에도 문제가 없지만 어떠한 이유로 인해서 client가 resource 페이지에 접근할 수 없음을 의미한다. 예를 들어 때때로 인증된 client가 서버의 디렉토리에 접근할 수 없는 경우가 있다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;404 Not Found&lt;/strong&gt; 는 요청된 resource가 현재 사용 불가능 함을 의미한다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;410 Gone&lt;/strong&gt; 는 요청된 resource가 의도적으로 이동되어 더 이상 사용 불가능 함을 의미한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;5xx-server-error-category&quot;&gt;5xx (Server Error Category)&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;500 Internal Server Error&lt;/strong&gt; 는 request가 유효하지만, 서버에 문제가 발생하여 예상치 못한 조건을 제공하도록 요청받았음을 의미한다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;503 Service Unavailable&lt;/strong&gt; 는 서버가 다운되거나 request를 처리할 수 없음을 의미한다. 대부분 서버 점검시에 발생한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;5-필드-네이밍-컨벤션&quot;&gt;5) 필드 네이밍 컨벤션&lt;/h3&gt;
&lt;p&gt;원하는 네이밍 컨벤션을 사용할 수 있지만, 어플리케이션 전체에 걸쳐서 일관성을 갖는 것이 중요하다. 만약 request body 혹은 response type이 JSON이라면 일관성을 위해서 카멜케이스 규칙을 따르는 것이 좋다.&lt;/p&gt;

&lt;h3 id=&quot;6-검색-정렬-필터링-페이지네이션&quot;&gt;6) 검색, 정렬, 필터링, 페이지네이션&lt;/h3&gt;
&lt;p&gt;이러한 모든 작업은 하나의 데이터 집합에 대한 쿼리일 뿐이다. 이 같은 action을 처리하기 위한 별도의 API set은 존재하지 않는다. 다만 API의 GET 메소드에 쿼리 파라미터를 추가 할 필요가 있다. 몇가지 예시를 통해서 해당 action 들을 어떻게 구현할 수 있는지 살펴보자.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Sorting&lt;/strong&gt; 정렬된 companies 리스트를 원하는 경우, &lt;code class=&quot;highlighter-rouge&quot;&gt;GET /companies&lt;/code&gt; endpoint는 여러개의 정렬 매개변수를 쿼리에서 받아야 한다. 예를 들어 &lt;code class=&quot;highlighter-rouge&quot;&gt;GET /companies?sort=rank_asc&lt;/code&gt; 는 rank 오름차순으로 companies를 정렬해야 한다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Filtering&lt;/strong&gt; 데이터셋 필터링을 위해서 쿼리 매개변수를 통해 다양한 조건을 전달할 수 있다. 예를 들어 &lt;code class=&quot;highlighter-rouge&quot;&gt;GET /companies?category=banking&amp;amp;location=india&lt;/code&gt; 는 india에 위치하는 banking 카테고리의 companies를 필터링해야 한다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Searching&lt;/strong&gt; companies list 중에서 이름을 검색하려면 API endpoint는 &lt;code class=&quot;highlighter-rouge&quot;&gt;GET /companies?search=Digital Mckinsey&lt;/code&gt; 와 같아야 한다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Pagination&lt;/strong&gt; 데이터셋이 너무 큰 경우, 데이터를 작은 덩어리로 나눔으로써 퍼포먼스를 향상시키고 response 핸들링을 좀 더 편하게 할 수 있다. 예를 들어 &lt;code class=&quot;highlighter-rouge&quot;&gt;GET /companies?page=23&lt;/code&gt; 은 companies 리스트의 23번째 페이지를 의미한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;만약 GET 메소드에 많은 쿼리 매개변수를 전달하여 URI가 너무 길어진다면 서버는 &lt;code class=&quot;highlighter-rouge&quot;&gt;414 URI Too long&lt;/code&gt; HTTP status를 응답할 것이다. 이런 경우에는 POST 메소드의 request body를 통해서도 매개변수를 전달할 수 있다.&lt;/p&gt;

&lt;h3 id=&quot;7-versioning&quot;&gt;7) Versioning&lt;/h3&gt;
&lt;p&gt;당신의 API가 여러 곳에서 사용되고 있을 때 일부 변경 사항으로 API를 업그레이드하면, 기존의 API를 사용하는 제품이나 서비스에 문제가 발생할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;http://api.yourservice.com/v1/companies/34/employees&lt;/code&gt; 처럼 경로에 API의 버전을 포함하는 것은 좋은 예시이다. 만약 주요 업데이트가 있는 경우에는 v2, v1.x.x 와 같은 새로운 API set을 위한 이름을 사용할 수 있다.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>2017년 11월 돌아보기</title>
   <link href="https://wayhome25.github.io/til/2017/11/26/TIL/"/>
   <updated>2017-11-26T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/til/2017/11/26/TIL</id>
   <content type="html">&lt;h3 id=&quot;1&quot;&gt;1&lt;/h3&gt;
&lt;p&gt;블로그를 좀 더 가벼운 마음으로 사용해야겠다는 생각을 한다. 그동안은 글을 하나 올리려고 해도 격식을 차리고 길게 써야한다는 부담이 있었다. 앞으로는 한줄짜리 글이라도 편하게 올려야지 (이렇게 아무말 대잔치 블로그가 되어가고..) 뭐 누군가에게는 도움이 되겠지!&lt;/p&gt;

&lt;h3 id=&quot;2&quot;&gt;2&lt;/h3&gt;
&lt;p&gt;여동생과 처음으로 둘이서 여행을 다녀왔다. 항공권, 숙소, 버스 예약부터 맛집 검색, 여행 계획 전부다 내가 준비했는데 오랜만에 언니 노릇을 한 것 같아서 뿌듯했다.&lt;/p&gt;

&lt;h3 id=&quot;3&quot;&gt;3&lt;/h3&gt;
&lt;p&gt;일본에 간김에 해피해킹 키보드를 사왔다. 나의 유일한 일본여행 쇼핑&lt;/p&gt;

&lt;center&gt;
 &lt;figure&gt;
 &lt;img src=&quot;https://i.imgur.com/I2rnSpG.jpg&quot; alt=&quot;views&quot; /&gt;
 &lt;figcaption&gt;알베르 까뮈의 섬 서문이 생각나는 사진이다.    
 (길거리에서 이 조그만 책을 열어본 후 겨우 그 처음 몇 줄을 읽다 말고는 다시 접어 가슴에 꼭 껴안은 채 마침내 아무도 없는 곳에 가서 정신없이 읽기 위하여 나의 방에까지 한걸음에 달려가던 그날 저녁으로 되돌아가고 싶다.)&lt;/figcaption&gt;
 &lt;/figure&gt;
 &lt;/center&gt;

&lt;h3 id=&quot;4&quot;&gt;4&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://academy.nomadcoders.co/courses/enrolled/216935&quot;&gt;DRF + 리액트 강의&lt;/a&gt;를 결제하고 듣기 시작했다. 그동안 API가 뭔지 감이 안잡혔는데 강의를 들으니까 쉽게 이해가 가서 기분이 좋았다. DRF만 강의 갯수가 75개인데 짧아서 한번 듣고 또 한번 들었다. 덕분에 이번달도 휴대폰 데이터 폭탄 ㅠㅠ
이번에 다시 한번 느낀건 ‘나는 강의가 있어야 배울 수 있는 사람인가..ㅠㅠ’하는 점이다. DRF 같은 경우도 공식 홈페이지에서 문서를 보면서 몇번을 익혀보려고 시도했는데 모두 효과가 좋지 않았다. 근데 강의를 따라가면서 한번 쭉 실습해보니까 문서 볼때보다 훨씬 이해가 잘되서 놀랐다. 강의가 있어야만 이해할 수 있다는건 좋은 것 같지 않은데.. 걱정도 되고 다른 사람들은 어떻게 새로운걸 학습하는지 궁금하기도 하다.&lt;/p&gt;

&lt;h3 id=&quot;5&quot;&gt;5&lt;/h3&gt;
&lt;p&gt;DRF 여운이 가시기 전에 다시한번 혼자서 연습할지 리엑트로 진도를 나갈지 고민이다.
11월은 요것들 공부하는 재미로 보낸것 같다.&lt;/p&gt;

&lt;h3 id=&quot;6&quot;&gt;6&lt;/h3&gt;
&lt;p&gt;회사에 들어와서 처음으로 참여한 (본격) 프로젝트가 잘 마무리되었다. 좋은 선배님 덕분에 배운점도 느낀점도 많았다. 절묘하게 내가 할 수 있을 만한 일들이 (물론 나는 처음에 못할거라고 생각했다..) 적절하게 분배된 덕분에 재미도 있었다. 참 오랜만에 스스로 원해서 휴일에도 일하고 즐거웠다…후후후&lt;/p&gt;

&lt;h3 id=&quot;7&quot;&gt;7&lt;/h3&gt;
&lt;p&gt;벌써 12월이다. 벌써부터 약속들이 잡혀있는데 (파이썬 연말 세미나도 가기로 했다) 공부는 언제하지!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>장고 쿼리셋 합치기</title>
   <link href="https://wayhome25.github.io/django/2017/11/26/merge-queryset/"/>
   <updated>2017-11-26T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/django/2017/11/26/merge-queryset</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;앞으로 가벼운 마음으로 블로그를 하기로 결심했으니 기념으로 짧은 글을 올려보자&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;쿼리셋 2개를 합치고 싶을때는 간단하게 &lt;code class=&quot;highlighter-rouge&quot;&gt;|&lt;/code&gt;를 사용하면 된다. 대신 같은 모델에서 나온 쿼리셋만 합칠 수 있다.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;q3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Django 1.11부터는 &lt;a href=&quot;https://docs.djangoproject.com/en/1.11/ref/models/querysets/#union&quot;&gt;qs.union()&lt;/a&gt;메소드를 이용할 수 있다. 그 밖에도 쿼리셋간의 합집합, 교집합, 차집합을 만들 수 있는 메소드가 추가되었다. (intersection(), difference())&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.python.org/3/library/itertools.html#itertools.chain&quot;&gt;itertools.chain&lt;/a&gt;을 사용하는 방법도 있다.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>hackerrank - Nested Lists</title>
   <link href="https://wayhome25.github.io/algorithm/2017/11/04/nested-list/"/>
   <updated>2017-11-04T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/algorithm/2017/11/04/nested-list</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.hackerrank.com/challenges/nested-list/problem&quot;&gt;문제출처&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;문제&quot;&gt;문제&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Given the names and grades for each student in a Physics class of  students, store them in a nested list and print the name(s) of any student(s) having the second lowest grade.

Note: If there are multiple students with the same grade, order their names alphabetically and print each name on a new line.

Input Format

The first line contains an integer, , the number of students.
The  subsequent lines describe each student over  lines; the first line contains a student's name, and the second line contains their grade.

Constraints

There will always be one or more students having the second lowest grade.
Output Format

Print the name(s) of any student(s) having the second lowest grade in Physics; if there are multiple students, order their names alphabetically and print each one on a new line.

Sample Input

5
Harry
37.21
Berry
37.21
Tina
37.2
Akriti
41
Harsh
39
Sample Output

Berry
Harry
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;풀이코드&quot;&gt;풀이코드&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;두번째로 작은 점수를 찾는다&lt;/li&gt;
  &lt;li&gt;해당 점수를 가진 사람 이름을 출력한다&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;score_list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;score&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;score_list&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;score&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;second_highest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sorted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;score&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;score&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;score_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sorted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;score&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;score_list&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;score&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;second_highest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;배운점&quot;&gt;배운점&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.python.org/3/howto/sorting.html&quot;&gt;python3 sorting how to&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;sorted() 함수는 key 인자를 받아서 정렬 기준을 재지정 가능하다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;operator&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;itemgetter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attrgetter&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sorted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;student_tuples&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;itemgetter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'dave'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'jane'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'john'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'A'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sorted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;student_objects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attrgetter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'age'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'dave'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'jane'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'B'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'john'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'A'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>hackerrank - Finding the percentage</title>
   <link href="https://wayhome25.github.io/algorithm/2017/11/04/Finding-the-percentage/"/>
   <updated>2017-11-04T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/algorithm/2017/11/04/Finding-the-percentage</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.hackerrank.com/challenges/finding-the-percentage/problem&quot;&gt;문제출처&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;문제&quot;&gt;문제&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;You have a record of  students. Each record contains the student's name, and their percent marks in Maths, Physics and Chemistry. The marks can be floating values. The user enters some integer  followed by the names and marks for  students. You are required to save the record in a dictionary data type. The user then enters a student's name. Output the average percentage marks obtained by that student, correct to two decimal places.

Input Format

The first line contains the integer , the number of students. The next  lines contains the name and marks obtained by that student separated by a space. The final line contains the name of a particular student previously listed.

Constraints

Output Format

Print one line: The average of the marks obtained by the particular student correct to 2 decimal places.

Sample Input

3
Krishna 67 68 69
Arjun 70 98 63
Malika 52 56 60
Malika
Sample Output

56.00
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;풀이코드&quot;&gt;풀이코드&lt;/h2&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;student_marks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scores&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;student_marks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scores&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;query_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;score_list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student_marks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{0:.2f}&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;score_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;score_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;배운점&quot;&gt;배운점&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;asterisk를 통한 가변인자 사용&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://mingrammer.com/understanding-the-asterisk-of-python&quot;&gt;파이썬의 Asterisk(*) 이해하기&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;others&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;others&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;“{0:.2f}”.format(e) 를 통해서 소수점 2자리 까지만 표시 가능&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.python.org/3/library/string.html#formatstrings&quot;&gt;python3 string — Common string operations&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{0:.2f}&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;56.000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;mf&quot;&gt;56.00&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>leetcode 657. Judge Route Circle</title>
   <link href="https://wayhome25.github.io/algorithm/2017/10/21/judge-route-circle/"/>
   <updated>2017-10-21T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/algorithm/2017/10/21/judge-route-circle</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://leetcode.com/problems/judge-route-circle/description/&quot;&gt;문제출처&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;문제&quot;&gt;문제&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Initially, there is a Robot at position (0, 0). Given a sequence of its moves, judge if this robot makes a circle, which means it moves back to the original place.

The move sequence is represented by a string. And each move is represent by a character. The valid robot moves are R (Right), L (Left), U (Up) and D (down). The output should be true or false representing whether the robot makes a circle.

Example 1:

Input: &quot;UD&quot;
Output: true

Example 2:

Input: &quot;LL&quot;
Output: false
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;풀이코드&quot;&gt;풀이코드&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;풀이 1
    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;judge_circle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;moves&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;
  :type moves: str
  :rtype: bool
  &quot;&quot;&quot;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;moves&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;loaction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;L&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;loaction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;U&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;loaction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;loaction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;풀이 2
    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;judge_circle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;moves&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;
  :type moves: str
  :rtype: bool
  &quot;&quot;&quot;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;&quot;L&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;&quot;U&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;moves&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])]&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;다른사람풀이&quot;&gt;다른사람풀이&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;간단하다! 앞으로는 좀 쉽게 생각해보자&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;judge_circle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;moves&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;
    :type moves: str
    :rtype: bool
    &quot;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;moves&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;U&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;moves&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;moves&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;L&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;moves&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>leetcode 461. Hamming Distance</title>
   <link href="https://wayhome25.github.io/algorithm/2017/10/14/hamming-distance/"/>
   <updated>2017-10-14T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/algorithm/2017/10/14/hamming-distance</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://leetcode.com/problems/hamming-distance/description/&quot;&gt;문제출처&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;문제&quot;&gt;문제&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The Hamming distance between two integers is the number of positions at which the corresponding bits are different.

Given two integers x and y, calculate the Hamming distance.

Note:
0 ≤ x, y &amp;lt; 2**31.

Example:

Input: x = 1, y = 4

Output: 2

Explanation:
1   (0 0 0 1)
4   (0 1 0 0)
       ↑   ↑

The above arrows point to positions where the corresponding bits are different.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;풀이코드&quot;&gt;풀이코드&lt;/h2&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;hamming_distance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;bin_x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;032b&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;bin_y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;032b&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bin_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bin_y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;format() 함수를 활용 (&lt;a href=&quot;https://stackoverflow.com/questions/16926130/convert-to-binary-and-keep-leading-zeros-in-python&quot;&gt;참고&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; format(10, '010b')
# '0000001010'
&amp;gt;&amp;gt;&amp;gt; format(10, 'b')
# '1010'
&amp;gt;&amp;gt;&amp;gt; format(10, '#b')
# '0b1010'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;다른사람풀이&quot;&gt;다른사람풀이&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;비트연산자 XOR연산 활용 (XOR연산은 각 자릿수를 비교하여 다르면 1, 같으면 0)&lt;/li&gt;
  &lt;li&gt;비트연산자 참고 (&lt;a href=&quot;https://www.codecademy.com/ko/courses/python-intermediate-ko-0tdxd/0/1&quot;&gt;codecademy&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;hamming_distance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>leetcode 1. two sum</title>
   <link href="https://wayhome25.github.io/algorithm/2017/10/06/two-sum/"/>
   <updated>2017-10-06T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/algorithm/2017/10/06/two-sum</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://leetcode.com/problems/two-sum/description/&quot;&gt;문제출처&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;문제&quot;&gt;문제&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Given an array of integers, return indices of the two numbers such that they add up to a specific target.

You may assume that each input would have exactly one solution, and you may not use the same element twice.

Example:
Given nums = [2, 7, 11, 15], target = 9,

Because nums[0] + nums[1] = 2 + 7 = 9,
return [0, 1].

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;풀이코드&quot;&gt;풀이코드&lt;/h2&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;two_sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;다른사람풀이&quot;&gt;다른사람풀이&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;hash table을 활용 (O(n))&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;two_sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Django - 서드 파티 패키지</title>
   <link href="https://wayhome25.github.io/django/2017/10/06/tsd-21-django-package/"/>
   <updated>2017-10-06T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/django/2017/10/06/tsd-21-django-package</id>
   <content type="html">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.twoscoopspress.com/products/two-scoops-of-django-1-11&quot;&gt;Two Scoops of Django&lt;/a&gt; 21장을 읽고 정리한 내용입니다.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;장고의 진정한 강력함은 오픈 소스 커뮤니티에서 제공하는 파이썬 패키지와 서드파티 장고 패키지들이다.&lt;/li&gt;
  &lt;li&gt;장고와 파이썬 개발 과정에서 전문적으로 이루어지는 작업의 대부분은 서드파티 패키지들을 장고 프로젝트 안으로 이식시키는 것이다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;211-서드-파티-패키지의-예&quot;&gt;21.1 서드 파티 패키지의 예&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;‘부록 A 이 책에서 언급된 패키지들’ : 우선적으로 고려해볼만한 유용한 패키지 목록&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;212-파이썬-패키지-인덱스&quot;&gt;21.2 파이썬 패키지 인덱스&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://pypi.python.org/pypi&quot;&gt;PyPI&lt;/a&gt;는 Python Package Index의 약자&lt;/li&gt;
  &lt;li&gt;파이썬 패키지를 업로드하기 위한 공용 저장소 (현재 장고를 포함하여 11만개 이상의 패키지가 있다)&lt;/li&gt;
  &lt;li&gt;pip는 PyPI에서 패키지를 설치하는데 사용하는 명령줄 도구 (파이썬 3.4 이후 기본 포함)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/Y1QMo53.png&quot; alt=&quot;screen 7&quot; /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;213-djangopackagesorg&quot;&gt;21.3 &lt;a href=&quot;https://djangopackages.org/&quot;&gt;djangopackages.org&lt;/a&gt;&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;djangopackages.org은 장고 앱을 위한 재사용 가능한 앱, 사이트, 도구들을 모아 놓은 디렉토리다.&lt;/li&gt;
  &lt;li&gt;각 패키지의 기능을 비교하기에 가장 좋은 사이트이다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/gVkdffy.png&quot; alt=&quot;screen 9&quot; /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;h1 id=&quot;214-다양한-패키지를-알아두자&quot;&gt;21.4 다양한 패키지를 알아두자&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;장고(파이썬) 개발자로서 필요할 때마다 바퀴(라이브러리)를 다시 만드는 대신에 서드 파티 라이브러리를 이용하는 것을 목표로 삼기를 바란다.&lt;/li&gt;
  &lt;li&gt;다양한 패키지를 이용함에 따라 그 패키지들의 코드를 공부하고 배울 수 있다.&lt;/li&gt;
  &lt;li&gt;동시에 나쁜 패키지들로부터 좋은 패키지를 선별해 내는 능력도 중요하다. (21.10 좋은 장고 패키지의 조건 참고)&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;215-패키지-설치-관리를-위한-도구들&quot;&gt;21.5 패키지 설치, 관리를 위한 도구들&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;virtualenv와 pip 설치는 필수 (자세한 내용은 2장 최적화된 장고 환경 꾸미기 참고)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://spoqa.github.io/2017/10/06/python-env-managers.html&quot;&gt;홍민희님의 파이썬의 개발 “환경”(env) 도구들&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;216-패키지-요구사항&quot;&gt;21.6 패키지 요구사항&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;장고와 파이썬의 의존성을 requirements 파일로 관리한다.&lt;/li&gt;
  &lt;li&gt;파일의 위치는 프로젝트 루트 아래 requirements/ 디렉토리&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;217-장고-패키지-이용하기-기본&quot;&gt;21.7 장고 패키지 이용하기: 기본&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;1단계: 패키지 문서 읽기&lt;/li&gt;
  &lt;li&gt;2단계: 패키지 버전 번호를 requirements에 추가하기&lt;/li&gt;
  &lt;li&gt;3단계: virtualenv에 requirements 설치&lt;/li&gt;
  &lt;li&gt;4단계: 패키지의 설치 문서를 그대로 따라하기&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;218-서트-파티-패키지에-문제가-생겼을-때&quot;&gt;21.8 서트 파티 패키지에 문제가 생겼을 때&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;패키지 저장소의 이슈 트래커 살펴보기&lt;/li&gt;
  &lt;li&gt;누구도 올린 문제가 아니라면 버그를 보고하기&lt;/li&gt;
  &lt;li&gt;스택오버플로, IRC 활용&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;219-자신의-장고-패키지-릴리스-하기&quot;&gt;21.9 자신의 장고 패키지 릴리스 하기&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;장고 문서 참고 :&lt;a href=&quot;https://docs.djangoproject.com/ko/1.11/intro/reusable-apps/&quot;&gt;심화 튜토리얼: 재사용 가능한 앱을 만드는 법&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;추가로 다음과 같은 절차를 추천한다.
    &lt;ul&gt;
      &lt;li&gt;코드를 포함하는 공개 저장소 생성&lt;/li&gt;
      &lt;li&gt;파이썬 패키지 인덱스에 패키지를 릴리즈 &lt;a href=&quot;https://packaging.python.org/tutorials/distributing-packages/#uploading-your-project-to-pypi&quot;&gt;Uploading your Project to PyPI&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;패키지를 &lt;a href=&quot;https://djangopackages.org/&quot;&gt;djangopackages.org&lt;/a&gt;에 추가&lt;/li&gt;
      &lt;li&gt;Read the Docs를 사용하여 스핑크스(Sphinx) 문서 호스팅하기 (23장 참고)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;2110-좋은-장고-패키지의-요건&quot;&gt;21.10 좋은 장고 패키지의 요건&lt;/h1&gt;

&lt;h2 id=&quot;목적&quot;&gt;목적&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;패키지 이름은 목적과 기능을 잘 설명할 수 있어야하 한다.&lt;/li&gt;
  &lt;li&gt;장고에 관련된 패키지는 저장소의 루트 폴더를 django- 라는 접두어로 시작하게 한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;범위&quot;&gt;범위&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;패키지 자체의 역할 범위는 작은 태스크에만 초점이 맞추어져야 한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;문서화&quot;&gt;문서화&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;reStructuredText(마크업 언어의 한 종류로 파씽시스템도 포함)를 활용하여 문서작성&lt;/li&gt;
  &lt;li&gt;스핑크스를 사용하면 잘 정돈된 버전의 문서를 제작 가능 (Rst문서를 HTML, PDF 등으로 변환)&lt;/li&gt;
  &lt;li&gt;23장 문서화에 집착하자 참고&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.slideshare.net/ianychoi/pycon-kr-2017-rst-python-openstack&quot;&gt;[Pycon KR 2017] Rst와 함께하는 Python 문서 작성 &amp;amp; OpenStack 문서 활용 사례&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;테스트&quot;&gt;테스트&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;제작되는 패키지는 반드시 테스트를 거쳐야한다.&lt;/li&gt;
  &lt;li&gt;테스트는 다른 사람들이 좀 더 효과적으로 패키지에 공헌할 수 있게 해준다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;템플릿&quot;&gt;템플릿&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;최근에는 뼈대 역할을 하는 템플릿 세트를 제공하는 것이 표준 (css는 제외한 상태로 최소한의 html, 자바스크립트)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;유지보수&quot;&gt;유지보수&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;저장소에 마이너, 메이저 릴리스 코드를 업데이트 하면 파이썬 패키지 인덱스에도 자동으로 업데이트 하도록 고려&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;커뮤니티&quot;&gt;커뮤니티&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;모든 기여자에게 해당 작업에 대한 귀속 조건을 담은 CONTRIBUTORS.rst나 AUTHORS.rst 파일을 제공해야 한다.
&lt;img src=&quot;https://i.imgur.com/GQ0hmmB.png&quot; alt=&quot;screen 10&quot; /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;모듈성&quot;&gt;모듈성&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;패키지는 장고 프로젝트의 코어 컴포넌트(템플릿, ORM 등)를 다른 모듈로 교체하지 않고도 문제 없이 적용되어야 한다.&lt;/li&gt;
  &lt;li&gt;설치는 기존 프로젝트에 최소한의 영향을 미쳐야 한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;파이썬-패키지-인덱스에-올리기&quot;&gt;파이썬 패키지 인덱스에 올리기&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;패키지의 모든 메이저, 마이너 릴리스는 PyPI에서 다운로드 할 수 있도록 해야한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;가능한-자세하게-requirements-스펙을-작성하기&quot;&gt;가능한 자세하게 requirements 스펙을 작성하기&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;setup.py 파일 안에 정의되는 installed_requires 인자에는 제작된 서드파티 라이브러리를 이용하기 위해 어떤 다른 종류의 패키지가 필요한지 정보가 담겨있다.&lt;/li&gt;
  &lt;li&gt;이를 가능한 다양한 환경과 호환되도록 설정해야한다.&lt;/li&gt;
  &lt;li&gt;요구되는 라이브러리가 단 하나의 버전만으로 매우 좁게 정의되어 있으면 다른 개발자의 다른 사이트 프로젝트에서는 해당 패키지가 작동할 수 없는 상황이 발생한다.&lt;/li&gt;
  &lt;li&gt;따라서 서드 파트 패키지들의 requirements를 다른 패키지들의 라이브러리 호환성을 위해 가능 한 넓게 기술해야 한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Django&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.9&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;requirements&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;2.6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;버전-번호-붙이기&quot;&gt;버전 번호 붙이기&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;장고, 파이썬처럼 &lt;a href=&quot;https://www.python.org/dev/peps/pep-0386/&quot;&gt;PEP386&lt;/a&gt; 이름 규약에 따라서 버전 번호를 붙이는 방법을 선호&lt;/li&gt;
  &lt;li&gt;‘A. B. C’ 패턴
    &lt;ul&gt;
      &lt;li&gt;A : 메이저 버전 번호&lt;/li&gt;
      &lt;li&gt;B : 마이너 버전 번호&lt;/li&gt;
      &lt;li&gt;C : 버그 수정 릴리스 (마이크로 릴리스)&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4_%EB%B2%84%EC%A0%84_%EC%9E%91%EC%84%B1&quot;&gt;참고 : 위키-소프트웨어 버전 작성&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;alpha, beta, rc(release-candidate) 접미사는 앞으로 릴리스될 버전에 대해서 이용
  (예: django-crispy-forms 1.4.0-beta)&lt;/li&gt;
  &lt;li&gt;완성되지 않은 코드를 PyPI에 올려서는 안된다.
    &lt;ul&gt;
      &lt;li&gt;PyPI는 알파, 베타, rc 코드가 아닌 안정적이고 신뢰할 수 있는 패키지만 모아 놓은 공간&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;이름&quot;&gt;이름&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;오픈소스 장고 패키지 이름 정하기 팁
    &lt;ul&gt;
      &lt;li&gt;파이썬 패키지 인덱스에 이미 등재된 이름인지&lt;/li&gt;
      &lt;li&gt;djangopackages.org에 이름이 있는지&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;라이센스&quot;&gt;라이센스&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;완성된 패키지 저장소의 루트에 LICENSE.rst 파일을 제작하자&lt;/li&gt;
  &lt;li&gt;개인이라면 MIT 라이센스를 추천한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;url-namespaces-이용&quot;&gt;URL Namespaces 이용&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;URL Namespaces 이용을 통해서 프로젝트들 사이에서 서로 충돌이 나는 것을 막을 수 있다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h1 id=&quot;쉬운-방법으로-패키지-제작하기&quot;&gt;쉬운 방법으로 패키지 제작하기&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/audreyr/cookiecutter&quot;&gt;cookiecutter&lt;/a&gt;를 사용하여 프로젝트 템플릿을 쉽게 만들어 보자
&lt;br /&gt;
&lt;br /&gt;
    &lt;h1 id=&quot;오픈-소스-패키지-관리하기&quot;&gt;오픈 소스 패키지 관리하기&lt;/h1&gt;
    &lt;h2 id=&quot;풀-요청에-대한-보상&quot;&gt;풀 요청에 대한 보상&lt;/h2&gt;
  &lt;/li&gt;
  &lt;li&gt;CONTRIBUTORS.txt 또는 AUTHORS.txt 같은 프로젝트 저작자 문서를 만들고 공헌한 사람들의 이름을 반드시 넣어야 한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/yu4PTB3.png&quot; alt=&quot;screen 10&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;반영될-수-없는-풀-요청에-대해&quot;&gt;반영될 수 없는 풀 요청에 대해&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;테스트 케이스를 통과하지 못한 풀 요청 (22장 참고)&lt;/li&gt;
  &lt;li&gt;테스트 범위를 벗어난 코드들 (22장 참고)&lt;/li&gt;
  &lt;li&gt;풀 요청은 가능한 한 최소의 범위에 대한 수정과 변경을 담고 있어야 한다.&lt;/li&gt;
  &lt;li&gt;너무 복잡한 코드&lt;/li&gt;
  &lt;li&gt;PEP8 규약을 따르지 않는 코드&lt;/li&gt;
  &lt;li&gt;빈 칸 정리로만 이루어진 코드&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;파이썬-패키지-인덱스에-정식으로-릴리스하기&quot;&gt;파이썬 패키지 인덱스에 정식으로 릴리스하기&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;PyPI에 올라온 패키지의 버전이 예전 버전이라고 해서 스테이블 마스터나 트렁크 브랜치를 이용하라고 하는 것은 무책임한 일로 간주된다.&lt;/li&gt;
  &lt;li&gt;오픈소스 프로젝트의 저장소는 제품 품질을 지닌 코드로 볼 수 없으며,
파이썬 패키지 인덱스는 설치 가능한 패키지를 안전하게 제공하는 리소스로 설계되어 있음&lt;/li&gt;
  &lt;li&gt;명확하게 언제 릴리스 해야하는지는 &lt;a href=&quot;https://github.com/requests/requests/blob/master/HISTORY.rst&quot;&gt;python-request의 변경이력&lt;/a&gt;을 참고하면 좋다.&lt;/li&gt;
  &lt;li&gt;트와인(Twine)은 파이썬 패키지 인덱스로 패키지를 올리는데 사용되는 라이브러리&lt;/li&gt;
  &lt;li&gt;인증된 TLS를 이용해 패키지를 업로드 함으로써 SSH 연결을 이용하지 않는 python setup.py의 보안 문제를 해결한다.&lt;/li&gt;
  &lt;li&gt;참고
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://code.tutsplus.com/ko/tutorials/how-to-write-your-own-python-packages--cms-26076&quot;&gt;나만의 파이썬 패키지를 작성하는 법&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;기본-예제-템플릿을-제공하라&quot;&gt;기본 예제 템플릿을 제공하라&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;제작된 프로젝트를 이용한 기본적인 에제 템플릿을 제공하면 이용을 고려할 때 패키지를 테스트하기 쉽기 때문에 도움이 된다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;패키지의-수명&quot;&gt;패키지의 수명&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;프로젝트에 활동적으로 참여하는 사람에게 권한을 넘겨줌으로써 해당 프로젝트가 다시 활성화 될 수 있다.&lt;/li&gt;
  &lt;li&gt;예시 : pip/virtualenv, django-debug-toolbar, django-uni-form 등&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>level 4. 최고의 집합</title>
   <link href="https://wayhome25.github.io/algorithm/2017/10/04/beat_set/"/>
   <updated>2017-10-04T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/algorithm/2017/10/04/beat_set</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://programmers.co.kr/learn/challenge_codes/38&quot;&gt;문제출처&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;문제&quot;&gt;문제&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;자연수 N개로 이루어진 집합 중에, 각 원소의 합이 S가 되는 수의 집합은 여러 가지가 존재합니다.
최고의 집합은, 위의 조건을 만족하는 집합 중 각 원소의 곱이 최대가 되는 집합을 의미합니다.

집합 원소의 개수 n과 원소들의 합 s가 주어지면,
최고의 집합을 찾아 원소를 오름차순으로 반환해주는 bestSet 함수를 만들어 보세요.
만약 조건을 만족하는 집합이 없을 때는 배열 맨 앞에 –1을 담아 반환하면 됩니다.
예를 들어 n=3, s=13이면 [4,4,5]가 반환됩니다.
(자바는 집합이 없는 경우 크기가 1인 배열에 -1을 담아 반환해주세요.)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;풀이코드&quot;&gt;풀이코드&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;처음에는 itertools, functools 모듈을 임포트해서 주어진 길이와 합 조건에 맞는 모든 리스트의 경우의 수를 구했다.&lt;/li&gt;
  &lt;li&gt;모든 경우의 수를 구하고 for 문을 돌리다 보니 실행시간이 오래 걸리는 문제가 발생한다.&lt;/li&gt;
  &lt;li&gt;참 어렵게도 풀었다..&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;첫번재-시도---느리다&quot;&gt;첫번재 시도 - 느리다&lt;/h3&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bestSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;itertools&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;functools&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;reduce&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;combinations&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;itertools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;combinations_with_replacement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;multiply_li&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;combination&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;combination&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;combinations&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;multiply_li&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;multiply_li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sorted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;combinations&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;두번째-시도&quot;&gt;두번째 시도&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;첫번째 방법으로 풀고나니 이렇게 어렵게 풀 문제가 아닌것 같다는 생각이 들었다.&lt;/li&gt;
  &lt;li&gt;단순한 예시를 사용해서 곱이 최대가 되는 경우를 살펴보니 각 요소의 편차가 가장 작을 때 곱이 최대가 되는것 같다.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bestSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;portion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;remainder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;divmod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;portion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remainder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sorted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;세번째-시도&quot;&gt;세번째 시도&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;remainder를 분배하는 부분을 조금 다른 방식으로 만들어보았다.&lt;/li&gt;
  &lt;li&gt;편차가 가장 작을 때 곱이 최대가 되는 부분에 대해서 찾아보니 아래와 같은 증명이 있다.
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://tip.daum.net/question/62487070&quot;&gt;합이 일정할때 곱의 최대는 두 수의 차가 최소일때인 이유를 증명해주세요.&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bestSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;portion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;remainder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;divmod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;portion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;remainder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;remainder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sorted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>2017년 10월 TIL</title>
   <link href="https://wayhome25.github.io/til/2017/10/01/TIL/"/>
   <updated>2017-10-01T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/til/2017/10/01/TIL</id>
   <content type="html">&lt;h1 id=&quot;10월-2일---10월-8일&quot;&gt;10월 2일 - 10월 8일&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;평화롭고 긴 연휴를 보냈다. 추석특집 트렐로 보드를 만들고 야심차게 계획을 세웠지만 역시나 그대로 하지는 못했다.&lt;/li&gt;
  &lt;li&gt;그래도 뿌듯한건 회사에서 가져온 일들을 몇 가지 했다는 것, 작은 일이지만 혼자 공부하는 것과는 다른 재미가 있다.
다른 사람 코드 보는 것도 신기하고.. 시간이 걸려도 어떻게 동작이 되면 참 기분이 좋다.&lt;/li&gt;
  &lt;li&gt;집에있는 컴퓨터를 사용하려니 환경설정과 migration 문제로 종일 삽질을 했다.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ko.khanacademy.org/computing/computer-science/internet-intro/internet-works-intro/v/the-internet-ip-addresses-and-dns&quot;&gt;칸아카데미 - 인터넷이 작동하는 방법&lt;/a&gt;영상을 봤다. 인터넷 창립자라는 빈트 서프(Vint Cerf)가 영상에 나오는데 역시 외국 자료는 좋구나 싶었다. 다음은 &lt;a href=&quot;https://ko.khanacademy.org/computing/computer-programming/sql&quot;&gt;SQL이란: 데이터 쿼리와 관리&lt;/a&gt;을 공부해봐야지&lt;/li&gt;
  &lt;li&gt;Udemy를 찾아보니 듣고 싶은 강의가 많아서 장바구니에 잔뜩 담아두었다.&lt;/li&gt;
  &lt;li&gt;오랜만에 알고리즘 문제를 풀었다. 미련한 방법으로 풀다가 시간이 많이 걸렸는데 오랜만에 푸니끼 더 오래 걸린 것 같다.
일주일에 한문제 이상은 꾸준하게 풀어야겠다는 생각이 든다.&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;10월-9일---10월-15일&quot;&gt;10월 9일 - 10월 15일&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ko.khanacademy.org/computing/computer-programming/sql&quot;&gt;칸아카데미 - SQL이란: 데이터 쿼리와 관리&lt;/a&gt;자료를 이용해서 SQL을 공부했다. 웹 브라우저에서 직접 SQL문을 작성하고 주어진 과제를 풀어나가는 형식이라 재미있었다. 대신 따로 답안이 제공되지는 않아서 중간에 막힐때는 찾아보는데 시간이 좀 걸렸다. Django Queryset도 비슷한 형식의 연습 사이트가 있으면 좋겠다는 생각을 헀다. 찾아보니 Django Queryset을 SQL문과 비교해놓은 글이 있어서 읽어보았는데 SQL보다 Queryset이 익숙한 나에게는 도움이 되었다. &lt;a href=&quot;http://thinkami.hatenablog.com/entry/2015/09/04/235841#f-14a4883c&quot;&gt;SQLのSELECT文を、DjangoのQuerySet APIで書いてみた&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;스터디 참여 - &lt;a href=&quot;https://www.twoscoopspress.com/products/two-scoops-of-django-1-11&quot;&gt;Two Scoops of Django&lt;/a&gt; 21장 서드파티패키지 부분을 읽고 내용을 &lt;a href=&quot;https://wayhome25.github.io/django/2017/10/06/tsd-21-django-package/&quot;&gt;요약&lt;/a&gt;했다.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/carltongibson/django-filter&quot;&gt;django-filter&lt;/a&gt;  패키지를 설치하고 사용해보았다. 필터링할 기본 데이터를 fixture를 활용해서 모델에 넣어보고, 기존의 데이터를 json파일로 dump뜨는 걸 해보았다. &lt;a href=&quot;https://pypi.python.org/pypi/django-widget-tweaks&quot;&gt;django widget tweaks&lt;/a&gt; 패키지를 사용해서 form에 좀 더 쉽게 Bootstrap 스타일 적용을 위한 class를 추가할 수 있었다.&lt;/li&gt;
  &lt;li&gt;simpleisbetterthancomplex 사이트의 &lt;a href=&quot;https://simpleisbetterthancomplex.com/series/beginners-guide/1.11/&quot;&gt;A Complete Beginner’s Guide to Django&lt;/a&gt;를 part1-3을 진행했다. 제목만 보고 입문 튜토리얼이라고만 생각했었다. 그런데 훑어보니 모든 part에 다양한 test코드를 작성하는 내용이 포함되어 있어서 도움이 될 것 같다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;출퇴근지하철&quot;&gt;출퇴근지하철&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;출퇴근길에 &lt;a href=&quot;https://getpocket.com/&quot;&gt;pocket&lt;/a&gt;에 저장해 놓은 &lt;a href=&quot;https://simpleisbetterthancomplex.com/&quot;&gt;https://simpleisbetterthancomplex.com/&lt;/a&gt; 블로그 글을 읽고 있다. 짧고 유용한 글들이 많아서 한동안 재밌게 읽을 것 같다.
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://simpleisbetterthancomplex.com/2015/12/04/package-of-the-week-django-widget-tweaks.html&quot;&gt;How to Use Django Widget Tweaks&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://simpleisbetterthancomplex.com/tutorial/2016/11/28/how-to-filter-querysets-dynamically.html&quot;&gt;How to Filter QuerySets Dynamically&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://simpleisbetterthancomplex.com/tips/2016/08/16/django-tip-11-custom-manager-with-chainable-querysets.html&quot;&gt;Django Tips #11 Custom Manager With Chainable QuerySets&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;fixture에 대한 글을 읽었다.
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://twpower.github.io/django/2017/02/22/20(Django%EC%97%90%EC%84%9C-fixture%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0).html&quot;&gt;Django에서 fixture사용하기&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://qiita.com/zakuro9715/items/f650c087e82c01ed8366&quot;&gt;Djangoでfixtureを使う&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;10월-16일---10월-22일&quot;&gt;10월 16일 - 10월 22일&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://simpleisbetterthancomplex.com/series/beginners-guide/1.11/&quot;&gt;A Complete Beginner’s Guide to Django&lt;/a&gt;를 진행하면서 test 코드 작성을 연습하고 있다. 회사에서 하는 것처럼 Push 할때마다 test를 자동으로 돌리고 싶어서 &lt;a href=&quot;https://travis-ci.org/getting_started&quot;&gt;Travis CI&lt;/a&gt;와 &lt;a href=&quot;https://codecov.io/&quot;&gt;codecov&lt;/a&gt; github에 연동해보았다. travis 파일의 before_script 항목에 flake8을 사용해서 PEP8 규칙에 맞는지 확인하는 코드를 추가했는데 PEP8 검사에 자꾸 실패해서 불필요한 커밋을 여러번 하게 된다. .git 폴더 내 pre-commit 파일에 flake 관련 명령어를 추가하여 commit하기 전에 확인할 수 있도록 했다.&lt;a href=&quot;https://travis-ci.org/wayhome25/django-board-with-test&quot;&gt;&lt;img src=&quot;https://travis-ci.org/wayhome25/django-board-with-test.svg?branch=master&quot; alt=&quot;Build Status&quot; /&gt;&lt;/a&gt;(이 마크가 그런 의미었구나..!)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://academy.nomadcoders.co/courses/enrolled/216935&quot;&gt;drf+react&lt;/a&gt;를 공부하기 시작했다. &lt;a href=&quot;http://www.django-rest-framework.org/&quot;&gt;drf(django-rest-framework)&lt;/a&gt;는 오랫동안 미루고 있는 숙제같은 것인데, 자료를 이것저것 봐도 막연한 느낌만 들어서 이번 기회에 활용해보고 개념을 좀 잡을 수 있었으면 좋겠다.&lt;/li&gt;
  &lt;li&gt;스터디 참여 - &lt;a href=&quot;https://www.twoscoopspress.com/products/two-scoops-of-django-1-11&quot;&gt;Two Scoops of Django&lt;/a&gt; 22장 테스트, 정말 거추장스럽고 낭비일까? 23장 문서화에 집착하기 부분을 다뤘다. 회사의 선배 개발자 분들이 테스트 코드를 열심히 작성해놓으신 덕분에 코드 커버리지가 70프로를 훌쩍 넘는데, 처음에는 잘 몰랐지만 시간이 지날수록 테스트 코드의 고마움을 자주 느끼고 있다.&lt;/li&gt;
  &lt;li&gt;스터디 심화시간에 도커에 대해서 이야기를 듣고 &lt;a href=&quot;https://www.youtube.com/watch?v=Bhzz9E3xuXY&amp;amp;t=2168s&quot;&gt;docker&lt;/a&gt; 영상을 보고 따라해 보았는데 여전히 어렵다..&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>(번역) How to Create Django Data Migrations</title>
   <link href="https://wayhome25.github.io/django/2017/10/01/how-to-create-django-data-migrations/"/>
   <updated>2017-10-01T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/django/2017/10/01/how-to-create-django-data-migrations</id>
   <content type="html">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;장고를 공부하면서 많은 도움을 받고 있는 &lt;a href=&quot;https://simpleisbetterthancomplex.com/&quot;&gt;simple is better than complex&lt;/a&gt;의 &lt;a href=&quot;https://simpleisbetterthancomplex.com/tutorial/2017/09/26/how-to-create-django-data-migrations.html&quot;&gt;How to Create Django Data Migrations&lt;/a&gt; 번역글입니다. 기분좋게 선뜻 번역을 허락해준 &lt;a href=&quot;https://github.com/vitorfs&quot;&gt;Vitor&lt;/a&gt;에게 감사드립니다.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;
&lt;img src=&quot;https://i.imgur.com/wZaNGfm.jpg&quot; alt=&quot;featured-data-migrations&quot; /&gt;
(Picture: https://www.pexels.com/photo/administration-articles-bank-black-and-white-261949/)
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;데이터 마이그레이션은 스키마와 함께 DB의 데이터를 변경하는 편리한 방법이다. 장고는 의존성과 실행순서를 기록하고 주어진 데이터 마이그레이션이 이미 어플리케이션에 적용되었는지 확인한다.&lt;/p&gt;

&lt;p&gt;일반적인 데이터 마이그레이션의 사용 케이스는 not-nullable인 새로운 필드를 추가할 때이다. 혹은 캐시된 카운트를 저장하는 필드를 생성하거나 할 때 우리는 새로운 필드를 생성하고 초기 카운트 값을 추가할 수 있다.&lt;/p&gt;

&lt;p&gt;이 포스트에서는 당신의 필요를 충족시키기 위해 쉽게 확장하고 수정할 수 있는 간단한 예시를 살펴보려고 한다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;data-migrations&quot;&gt;Data Migrations&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;blog&lt;/strong&gt; 라는 이름의 앱이 프로젝트의 &lt;code class=&quot;highlighter-rouge&quot;&gt;INSTALLED_APPS&lt;/code&gt;에 설정되어 있다고 가정하자.
&lt;strong&gt;blog&lt;/strong&gt; 는 아래와 같은 모델을 갖고 있다.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;blog/models.py&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.db&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CharField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DateTimeField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;auto_now_add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TextField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__str__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;어플리케이션은 이미 Post 모델을 사용하고 있으며, 프로덕션에서는 이미 많은 양의 데이터를 보유하고 있다.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;title&lt;/th&gt;
      &lt;th&gt;date&lt;/th&gt;
      &lt;th&gt;content&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;How to Render Django Form Manually&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:01:20.547000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;How to Use Celery and RabbitMQ with Django&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:01:39.251000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;How to Setup Amazon S3 in a Django Project&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:01:49.669000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;How to Configure Mailgun To Send Emails in a Django Project&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:02:00.131000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;자, 이제 &lt;strong&gt;slug&lt;/strong&gt; 라는 이름의 새로운 필드를 추가하고, blog의 새로운 url을 구성하는데 사용한다고 해보자. &lt;strong&gt;slug&lt;/strong&gt; 필드는 &lt;strong&gt;unique&lt;/strong&gt; 하고 &lt;strong&gt;not null&lt;/strong&gt; 인 필드이다.&lt;/p&gt;

&lt;p&gt;일반적으로 새로운 필드를 생성할 때는 &lt;code class=&quot;highlighter-rouge&quot;&gt;null=True&lt;/code&gt; 혹은 &lt;code class=&quot;highlighter-rouge&quot;&gt;default&lt;/code&gt; 값을 함께 추가한다. &lt;code class=&quot;highlighter-rouge&quot;&gt;default&lt;/code&gt; 파라미터로 문제를 해결할 수 없다면, 우선은 &lt;code class=&quot;highlighter-rouge&quot;&gt;null=True&lt;/code&gt;로 필드를 정의하고, 데이터 마이그레이션을 생성한다. 그리고  &lt;code class=&quot;highlighter-rouge&quot;&gt;null=False&lt;/code&gt; 필드 옵션을 추가한 새로운 마이그레이션을 생성한다.&lt;/p&gt;

&lt;p&gt;우리는 아래와 같이 해볼 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;blog/models.py&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.db&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CharField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DateTimeField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;auto_now_add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TextField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;slug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SlugField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__str__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;마이그레이션을 생성한다.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python manage.py makemigrations blog

Migrations &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'blog'&lt;/span&gt;:
  blog/migrations/0002_post_slug.py
    - Add field slug to post
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;적용한다.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python manage.py migrate blog

Operations to perform:
  Apply all migrations: blog
Running migrations:
  Applying blog.0002_post_slug... OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 시점에 데이터베이스는 이미 slug 컬럼을 갖게된다.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;title&lt;/th&gt;
      &lt;th&gt;date&lt;/th&gt;
      &lt;th&gt;content&lt;/th&gt;
      &lt;th&gt;slug&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;How to Render Django Form Manually&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:01:20.547000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
      &lt;td&gt;(null)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;How to Use Celery and RabbitMQ with Django&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:01:39.251000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
      &lt;td&gt;(null)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;How to Setup Amazon S3 in a Django Project&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:01:49.669000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
      &lt;td&gt;(null)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;How to Configure Mailgun To Send Emails in a Django Project&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:02:00.131000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
      &lt;td&gt;(null)&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;아래 명령어로 empty 마이그레이션을 생성한다.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python manage.py makemigrations blog &lt;span class=&quot;nt&quot;&gt;--empty&lt;/span&gt;

Migrations &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'blog'&lt;/span&gt;:
  blog/migrations/0003_auto_20170926_1105.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이제 &lt;strong&gt;blog/migrations/0003_auto_20170926_1105.py&lt;/strong&gt; 파일을 확인하면 아래와 같은 내용을 포함하고 있다.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;blog/migrations/0003_auto_20170926_1105.py&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Generated by Django 1.11.5 on 2017-09-26 11:05&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;__future__&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unicode_literals&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.db&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;migrations&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Migration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;migrations&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Migration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;dependencies&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'blog'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'0002_post_slug'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;operations&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 파일에 &lt;code class=&quot;highlighter-rouge&quot;&gt;RunPython&lt;/code&gt; 명령어로 실행되는 함수를 생성할 수 있다.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;blog/migrations/0003_auto_20170926_1105.py&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Generated by Django 1.11.5 on 2017-09-26 11:05&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;__future__&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unicode_literals&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.db&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;migrations&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.utils.text&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slugify&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;slugify_title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;apps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;schema_editor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;'''
    We can't import the Post model directly as it may be a newer
    version than this migration expects. We use the historical version.
    '''&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Post&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;apps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'blog'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'Post'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Post&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slugify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Migration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;migrations&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Migration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;dependencies&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'blog'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'0002_post_slug'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;operations&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;migrations&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RunPython&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slugify_title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;위의 예시에서 우리는 &lt;code class=&quot;highlighter-rouge&quot;&gt;slugify&lt;/code&gt; 유틸리티 함수를 사용하며 이는 string을 파라미터로 받고 이를 slug로 변환한다. 아래의 예를 살펴보자.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.utils.text&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slugify&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;slugify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Hello, World!'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'hello-world'&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;slugify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'How to Extend the Django User Model'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'how-to-extend-the-django-user-model'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;어쨌든 데이터 마이그레이션을 생성하기 위한 &lt;code class=&quot;highlighter-rouge&quot;&gt;RunPython&lt;/code&gt; 메소드에 의해서 사용된 이 함수는 &lt;strong&gt;apps, schema_editor&lt;/strong&gt; 2가지 파라미터를 받는다. &lt;code class=&quot;highlighter-rouge&quot;&gt;RunPython&lt;/code&gt;은 해당 파라미터를 제공한다. 또한 &lt;code class=&quot;highlighter-rouge&quot;&gt;apps.get_model('app_name', 'model_name')&lt;/code&gt; 메소드를 사용하여 모델을 import 하는 것을 기억하자.&lt;/p&gt;

&lt;p&gt;일반적인 모델 마이그레이션과 동일하게 파일을 저장하고 마이그레이션을 실행한다.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python manage.py migrate blog
Operations to perform:
  Apply all migrations: blog
Running migrations:
  Applying blog.0003_auto_20170926_1105... OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이제 데이터베이스를 확인하면&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;title&lt;/th&gt;
      &lt;th&gt;date&lt;/th&gt;
      &lt;th&gt;content&lt;/th&gt;
      &lt;th&gt;slug&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;How to Render Django Form Manually&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:01:20.547000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
      &lt;td&gt;how-to-render-django-form-manually&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;How to Use Celery and RabbitMQ with Django&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:01:39.251000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
      &lt;td&gt;how-to-use-celery-and-rabbitmq-with-django&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;How to Setup Amazon S3 in a Django Project&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:01:49.669000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
      &lt;td&gt;how-to-setup-amazon-s3-in-a-django-project&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;How to Configure Mailgun To Send Emails in a Django Project&lt;/td&gt;
      &lt;td&gt;2017-09-26 11:02:00.131000&lt;/td&gt;
      &lt;td&gt;[…]&lt;/td&gt;
      &lt;td&gt;how-to-configure-mailgun-to-send-emails-in-a-django-project&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;모든 &lt;strong&gt;POST&lt;/strong&gt; 엔트리가 값을 갖고 있고, 이제 안전하게 필드옵션을 &lt;code class=&quot;highlighter-rouge&quot;&gt;null=True&lt;/code&gt;에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;null=False&lt;/code&gt;로 변경할 수 있다. 그리고 모든 값이 unique 하기 때문에 &lt;code class=&quot;highlighter-rouge&quot;&gt;unique=True&lt;/code&gt; flag를 추가할 수 있다.&lt;/p&gt;

&lt;p&gt;모델을 변경하자&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;blog/models.py&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.db&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CharField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DateTimeField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;auto_now_add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TextField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;slug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SlugField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__str__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;마이그레이션 생성&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python manage.py makemigrations blog
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이번에는 아래와 같은 메시지가 나온다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;You are trying to change the nullable field 'slug' on post to non-nullable without a default; we can't do that
(the database needs something to populate existing rows).
Please select a fix:
 1) Provide a one-off default now (will be set on all existing rows with a null value for this column)
 2) Ignore for now, and let me handle existing rows with NULL myself (e.g. because you added a RunPython or RunSQL
 operation to handle NULL values in a previous data migration)
 3) Quit, and let me add a default in models.py
Select an option:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;옵션 2를 선택하자&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Migrations &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'blog'&lt;/span&gt;:
  blog/migrations/0004_auto_20170926_1422.py
    - Alter field slug on post
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이제 안전하게 마이그레이션을 적용할 수 있다.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python manage.py migrate blog
Operations to perform:
  Apply all migrations: blog
Running migrations:
  Applying blog.0004_auto_20170926_1422... OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;결론&quot;&gt;결론&lt;/h1&gt;

&lt;p&gt;데이터 마이그레이션은 종종 까다로운 일이다. 당신의 프로젝트에 데이터 마이그레이션을 생성할 때, 항상 프로덕션의 데이터를 먼저 검사해야한다. 내가 예시에서 사용한 &lt;strong&gt;slugify_title&lt;/strong&gt; 은 약간 나이브한 편이다. 왜냐하면 큰 데이터에서는 중복된 타이틀이 생성될 수 있기 때문이다. 데이터 마이그레이션을 스테이지 환경에서 먼저 테스트 함으로써 프로덕션에서의 문제를 피할 수 있다.&lt;/p&gt;

&lt;p&gt;당신이 도입하려는 변경사항이 잘 통제되고 있다고 느끼려면 step-by-step으로 진행하는 것이 중요하다. 간단한 데이터 마이그레이션을 위해서 내가 생성한 3개의 마이그레이션 파일을 참고하자.&lt;/p&gt;

&lt;p&gt;보시다시피 이러한 마이그레이션을 만드는 것은 쉬운 편이고 매우 유연하다. 당신은 외부의 텍스트 파일을 로드해서 새로운 열에 데이터를 추가할 수도 있을 것이다.&lt;/p&gt;

&lt;p&gt;이 블로그 포스팅에 사용된 소스코드는 Github에서 확인할 수 있다. https://github.com/sibtc/data-migrations-example&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>(번역) 다운타임 없는 장고 마이그레이션</title>
   <link href="https://wayhome25.github.io/django/2017/09/23/django-migrations-without-downtime/"/>
   <updated>2017-09-23T00:00:00+00:00</updated>
   <id>https://wayhome25.github.io/django/2017/09/23/django-migrations-without-downtime</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;https://gist.github.com/majackson/493c3d6d4476914ca9da63f84247407b&quot;&gt;Django Migrations without Downtime&lt;/a&gt; 번역글입니다.&lt;/p&gt;

&lt;p&gt;아래의 지침은 장고 마이그레이션을 수행할 때 실제 운영중인 웹 서비스가 다운되지 않도록 하기 위한 절차이다.
이는 명시적으로 수동으로 수행되며, 자동 배포 프로세스의 일부가 아님을 밝혀둔다.&lt;/p&gt;

&lt;h2 id=&quot;필드-혹은-테이블-추가&quot;&gt;필드 혹은 테이블 추가&lt;/h2&gt;

&lt;h3 id=&quot;null을-허용하는-필드-혹은-새로운-테이블-추가&quot;&gt;null을 허용하는 필드 혹은 새로운 테이블 추가&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;새로운 모델 혹은 컬럼을 추가한다.&lt;/li&gt;
  &lt;li&gt;로컬에서 모델 마이그레이션을 수행한다.&lt;/li&gt;
  &lt;li&gt;2개의 분리된 풀리퀘스트를 만든다. 하나는 모델 변경사항을 포함하고, 다른 하나는 새롭게 수행된 마이그레이션을 포함한다. 모델 변경 마이그레이션은 오직 모델 변경 코드만 포함해야하며, 변경한 모델을 활용한 다른 추가적인 코드를 포함해서는 안된다.&lt;/li&gt;
  &lt;li&gt;마이그레이션 풀리퀘스트를 머지하고 배포한다.&lt;/li&gt;
  &lt;li&gt;프로덕션 DB에서 새로운 마이그레이션을 수행한다. 프로덕션 모델 코드가 거기에 있지 않을 것으로 기대하지 않는다면, 추가되는 필드는 프로덕션 DB에서 문제를 일으키지 않을 것이다.&lt;/li&gt;
  &lt;li&gt;모델변경 풀리퀘스트를 머지한다.&lt;/li&gt;
  &lt;li&gt;모델변경사항을 포함한 코드를 배포한다. 이전에 작성한 컬럼/테이블에서 심리스하게 읽기 작업을 수행한다.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;not-null-필드-추가&quot;&gt;NOT NULL 필드 추가&lt;/h3&gt;
&lt;p&gt;null을 허용하지 않는 필드를 추가하기 위해서 위의 절차를 먼저 수행해야한다. 그리고 아래의 추가적인 작업을 수행한다.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;null=False로 모델을 수정한다. 또한 당신이 NOT NULL로 변경하는 필드에 절대로 Node을 추가하거나 업데이트하지 않도록 한다.&lt;/li&gt;
  &lt;li&gt;변경사항에 대해서 마이그레이션을 수행한다.&lt;/li&gt;
  &lt;li&gt;2개의 분리된 풀리퀘스트를 만든다. 하나는 모델 변경을 위해서, 다른 하나는 마이그레이션을 위한 것이다.&lt;/li&gt;
  &lt;li&gt;모델 변경 풀리퀘스트를 머지하고 배포한다.&lt;/li&gt;
  &lt;li&gt;마이그레이션 풀리퀘스트를 머지한다.&lt;/li&gt;
  &lt;li&gt;프로덕션 DB에서 마이그레이션을 수행한다.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;아주 큰 사이즈의 테이블에 NOT NULL 컬럼을 추가할 때&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;장고 마이그레이션은 NOT NULL 필드를 추가할 때 디폴트 값을 추가하도록 강요할 것이다. 해당 값은 마이그레이션을 수행시 빈 컬럼을 채우기 위해서 사용된다. 이와 같은 업데이트 절차는 마이그레이션이 끝날 때까지 postgres 테이블이 쓰기 작업을 수행하지 못하도록 잠근다. 비교적 작은 사이즈의 테이블 (10만개 row 이하)은 괜찮다. 하지만 아주 큰 테이블은 문제가 될 수 있다. 왜냐하면 테이블락은 마이그레이션이 완료되는 동안 요청을 실행하는 것을 막을 수 있기 때문이다. 이러한 이유로 특히 큰 테이블에는 새로운 필드를 null을 허용하도록 하는 것을 검